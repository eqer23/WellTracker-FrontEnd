{"version":3,"file":"ej2-dropdowns.min.js","sources":["../../src/common/incremental-search.js","../../src/common/highlight-search.js","../../src/multi-select/float-label.js","../../src/common/virtual-scroll.js","../../src/drop-down-base/drop-down-base.js","../../src/drop-down-list/drop-down-list.js","../../src/drop-down-tree/drop-down-tree.js","../../src/combo-box/combo-box.js","../../src/auto-complete/auto-complete.js","../../src/multi-select/multi-select.js","../../src/multi-select/checkbox-selection.js","../../src/list-box/list-box.js","../../src/mention/mention.js","../../src/global.js"],"sourcesContent":["/**\n * IncrementalSearch module file\n */\nvar queryString = '';\nvar prevString = '';\nvar tempQueryString = '';\nvar matches = [];\nvar activeClass = 'e-active';\nvar prevElementId = '';\n/**\n * Search and focus the list item based on key code matches with list text content\n *\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]} items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n * @param {string} elementId - Specifies the list element ID.\n * @returns {Element} Returns list item based on key code matches with list text content.\n */\nexport function incrementalSearch(keyCode, items, selectedIndex, ignoreCase, elementId, queryStringUpdated, currentValue, isVirtual, refresh) {\n    if (!queryStringUpdated || queryString === '') {\n        if (tempQueryString != '') {\n            queryString = tempQueryString + String.fromCharCode(keyCode);\n            tempQueryString = '';\n        }\n        else {\n            queryString += String.fromCharCode(keyCode);\n        }\n    }\n    else if (queryString == prevString) {\n        tempQueryString = String.fromCharCode(keyCode);\n    }\n    if (isVirtual) {\n        setTimeout(function () {\n            tempQueryString = '';\n        }, 700);\n        setTimeout(function () {\n            queryString = '';\n        }, 3000);\n    }\n    else {\n        setTimeout(function () {\n            queryString = '';\n        }, 1000);\n    }\n    var index;\n    queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n    if (prevElementId === elementId && prevString === queryString && !refresh) {\n        for (var i = 0; i < matches.length; i++) {\n            if (matches[i].classList.contains(activeClass)) {\n                index = i;\n                break;\n            }\n            if (currentValue && matches[i].textContent.toLowerCase() === currentValue.toLowerCase()) {\n                index = i;\n                break;\n            }\n        }\n        index = index + 1;\n        if (isVirtual) {\n            return matches[index] && matches.length - 1 != index ? matches[index] : matches[matches.length];\n        }\n        return matches[index] ? matches[index] : matches[0];\n    }\n    else {\n        var listItems = items;\n        var strLength = queryString.length;\n        var text = void 0;\n        var item = void 0;\n        selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n        var i = selectedIndex;\n        matches = [];\n        do {\n            if (i === listItems.length) {\n                i = -1;\n            }\n            if (i === -1) {\n                index = 0;\n            }\n            else {\n                index = i;\n            }\n            item = listItems[index];\n            text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n            if (text.substr(0, strLength) === queryString) {\n                matches.push(listItems[index]);\n            }\n            i++;\n        } while (i !== selectedIndex);\n        prevString = queryString;\n        prevElementId = elementId;\n        if (isVirtual) {\n            var indexUpdated = false;\n            for (var i_1 = 0; i_1 < matches.length; i_1++) {\n                if (currentValue && matches[i_1].textContent.toLowerCase() === currentValue.toLowerCase()) {\n                    index = i_1;\n                    indexUpdated = true;\n                    break;\n                }\n            }\n            if (currentValue && indexUpdated) {\n                index = index + 1;\n            }\n            return matches[index] ? matches[index] : matches[0];\n        }\n        return matches[0];\n    }\n}\n/**\n * Search the list item based on given input value matches with search type.\n *\n * @param {string} inputVal - Specifies the given input value.\n * @param {HTMLElement[]} items - Specifies the list items.\n * @param {SearchType} searchType - Specifies the filter type.\n * @param {boolean} ignoreCase - Specifies the case sensitive option for search operation.\n * @returns {Element | number} Returns the search matched items.\n */\nexport function Search(inputVal, items, searchType, ignoreCase, dataSource, fields, type) {\n    var listItems = items;\n    ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n    var itemData = { item: null, index: null };\n    if (inputVal && inputVal.length) {\n        var strLength = inputVal.length;\n        var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n        queryStr = escapeCharRegExp(queryStr);\n        var _loop_1 = function (i, itemsData) {\n            var item = itemsData[i];\n            var text = void 0;\n            var filterValue;\n            if (items && dataSource) {\n                var checkField_1 = item;\n                var fieldValue_1 = fields.text.split('.');\n                dataSource.filter(function (data) {\n                    Array.prototype.slice.call(fieldValue_1).forEach(function (value) {\n                        /* eslint-disable security/detect-object-injection */\n                        if (type === 'object' && (!data.isHeader && checkField_1.textContent.toString().indexOf(data[value]) !== -1) && checkField_1.getAttribute('data-value') === data[fields.value].toString() || type === 'string' && checkField_1.textContent.toString().indexOf(data) !== -1) {\n                            filterValue = type === 'object' ? data[value] : data;\n                        }\n                    });\n                });\n            }\n            text = dataSource && filterValue ? (ignoreCase ? filterValue.toString().toLocaleLowerCase() : filterValue).replace(/^\\s+|\\s+$/g, '') : (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n            /* eslint-disable security/detect-non-literal-regexp */\n            if ((searchType === 'Equal' && text === queryStr) || (searchType === 'StartsWith' && text.substr(0, strLength) === queryStr) || (searchType === 'EndsWith' && text.substr(text.length - queryStr.length) === queryStr) || (searchType === 'Contains' && new RegExp(queryStr, \"g\").test(text))) {\n                itemData.item = item;\n                itemData.index = i;\n                return { value: { item: item, index: i } };\n            }\n        };\n        for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n            var state_1 = _loop_1(i, itemsData);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return itemData;\n        /* eslint-enable security/detect-non-literal-regexp */\n    }\n    return itemData;\n}\n/* eslint-enable security/detect-object-injection */\nexport function escapeCharRegExp(value) {\n    return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\nexport function resetIncrementalSearchValues(elementId) {\n    if (prevElementId === elementId) {\n        prevElementId = '';\n        prevString = '';\n        queryString = '';\n        matches = [];\n    }\n}\n","/**\n * Function helps to find which highlightSearch is to call based on your data.\n *\n * @param  {HTMLElement} element - Specifies an li element.\n * @param  {string} query - Specifies the string to be highlighted.\n * @param  {boolean} ignoreCase - Specifies the ignoreCase option.\n * @param  {HightLightType} type - Specifies the type of highlight.\n * @returns {void}\n */\nexport function highlightSearch(element, query, ignoreCase, type) {\n    var isHtmlElement = /<[^>]*>/g.test(element.innerText);\n    if (isHtmlElement) {\n        element.innerText = element.innerText.replace(/[\\u00A0-\\u9999<>&]/g, function (match) { return \"&#\" + match.charCodeAt(0) + \";\"; });\n    }\n    if (query === '') {\n        return;\n    }\n    else {\n        var ignoreRegex = ignoreCase ? 'gim' : 'gm';\n        // eslint-disable-next-line\n        query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n        var replaceQuery = type === 'StartsWith' ? '^(' + query + ')' : type === 'EndsWith' ?\n            '(' + query + ')$' : '(' + query + ')';\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        findTextNode(element, new RegExp(replaceQuery, ignoreRegex));\n    }\n}\n/* eslint-enable jsdoc/require-param, valid-jsdoc */\n/**\n *\n * @param {HTMLElement} element - Specifies the element.\n * @param {RegExp} pattern - Specifies the regex to match the searched text.\n * @returns {void}\n */\nfunction findTextNode(element, pattern) {\n    for (var index = 0; element.childNodes && (index < element.childNodes.length); index++) {\n        if (element.childNodes[index].nodeType === 3 && element.childNodes[index].textContent.trim() !== '') {\n            var value = element.childNodes[index].nodeValue.trim().replace(pattern, '<span class=\"e-highlight\">$1</span>');\n            element.childNodes[index].nodeValue = '';\n            element.innerHTML = element.innerHTML.trim() + value;\n            break;\n        }\n        else {\n            findTextNode(element.childNodes[index], pattern);\n        }\n    }\n}\n/**\n * Function helps to remove highlighted element based on your data.\n *\n * @param  {HTMLElement} content - Specifies an content element.\n * @returns {void}\n */\nexport function revertHighlightSearch(content) {\n    var contentElement = content.querySelectorAll('.e-highlight');\n    for (var i = contentElement.length - 1; i >= 0; i--) {\n        var parent_1 = contentElement[i].parentNode;\n        var text = document.createTextNode(contentElement[i].textContent);\n        parent_1.replaceChild(text, contentElement[i]);\n    }\n}\n","/**\n * FloatLable Moduel\n * Specifies whether to display the floating label above the input element.\n */\nimport { removeClass, addClass, detach } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, createElement, getUniqueID } from '@syncfusion/ej2-base';\nvar FLOATLINE = 'e-float-line';\nvar FLOATTEXT = 'e-float-text';\nvar LABELTOP = 'e-label-top';\nvar LABELBOTTOM = 'e-label-bottom';\n/* eslint-disable valid-jsdoc */\n/**\n * Function to create Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLElement} element - The given html element.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function createFloatLabel(overAllWrapper, searchWrapper, element, inputElement, value, floatLabelType, placeholder) {\n    var floatLinelement = createElement('span', { className: FLOATLINE });\n    var floatLabelElement = createElement('label', { className: FLOATTEXT });\n    var id = element.getAttribute('id') ? element.getAttribute('id') : getUniqueID('ej2_multiselect');\n    element.id = id;\n    if (!isNullOrUndefined(element.id) && element.id !== '') {\n        floatLabelElement.id = 'label_' + element.id.replace(/ /g, '_');\n        attributes(inputElement, { 'aria-labelledby': floatLabelElement.id });\n    }\n    if (!isNullOrUndefined(inputElement.placeholder) && inputElement.placeholder !== '') {\n        floatLabelElement.innerText = encodePlaceholder(inputElement.placeholder);\n        inputElement.removeAttribute('placeholder');\n    }\n    floatLabelElement.innerText = encodePlaceholder(placeholder);\n    searchWrapper.appendChild(floatLinelement);\n    searchWrapper.appendChild(floatLabelElement);\n    overAllWrapper.classList.add('e-float-input');\n    updateFloatLabelState(value, floatLabelElement);\n    if (floatLabelType === 'Always') {\n        if (floatLabelElement.classList.contains(LABELBOTTOM)) {\n            removeClass([floatLabelElement], LABELBOTTOM);\n        }\n        addClass([floatLabelElement], LABELTOP);\n    }\n}\n/**\n * Function to update status of the Float Label element.\n *\n * @param {string[] | number[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLElement} label - Float label element.\n */\nexport function updateFloatLabelState(value, label) {\n    if (value && value.length > 0) {\n        addClass([label], LABELTOP);\n        removeClass([label], LABELBOTTOM);\n    }\n    else {\n        removeClass([label], LABELTOP);\n        addClass([label], LABELBOTTOM);\n    }\n}\n/**\n * Function to remove Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function removeFloating(overAllWrapper, componentWrapper, searchWrapper, inputElement, value, floatLabelType, placeholder) {\n    var placeholderElement = componentWrapper.querySelector('.' + FLOATTEXT);\n    var floatLine = componentWrapper.querySelector('.' + FLOATLINE);\n    var placeholderText;\n    if (!isNullOrUndefined(placeholderElement)) {\n        placeholderText = placeholderElement.innerText;\n        detach(searchWrapper.querySelector('.' + FLOATTEXT));\n        setPlaceHolder(value, inputElement, placeholderText);\n        if (!isNullOrUndefined(floatLine)) {\n            detach(searchWrapper.querySelector('.' + FLOATLINE));\n        }\n    }\n    else {\n        placeholderText = (placeholder !== null) ? placeholder : '';\n        setPlaceHolder(value, inputElement, placeholderText);\n    }\n    overAllWrapper.classList.remove('e-float-input');\n}\n/**\n * Function to set the placeholder to the element.\n *\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function setPlaceHolder(value, inputElement, placeholder) {\n    if (value && value.length) {\n        inputElement.placeholder = '';\n    }\n    else {\n        inputElement.placeholder = placeholder;\n    }\n}\n/**\n * Function for focusing the Float Element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n */\nexport function floatLabelFocus(overAllWrapper, componentWrapper) {\n    overAllWrapper.classList.add('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (!isNullOrUndefined(label)) {\n        addClass([label], LABELTOP);\n        if (label.classList.contains(LABELBOTTOM)) {\n            removeClass([label], LABELBOTTOM);\n        }\n    }\n}\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/**\n * Function to focus the Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function floatLabelBlur(overAllWrapper, componentWrapper, value, floatLabelType, placeholder) {\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    overAllWrapper.classList.remove('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (value && value.length <= 0 && floatLabelType === 'Auto' && !isNullOrUndefined(label)) {\n        if (label.classList.contains(LABELTOP)) {\n            removeClass([label], LABELTOP);\n        }\n        addClass([label], LABELBOTTOM);\n    }\n}\nexport function encodePlaceholder(placeholder) {\n    var result = '';\n    if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n        var spanElement = document.createElement('span');\n        spanElement.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n        var hiddenInput = (spanElement.children[0]);\n        result = hiddenInput.placeholder;\n    }\n    return result;\n}\n/* eslint-enable valid-jsdoc */\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { EventHandler, Browser, select, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { debounce, Touch } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        var _this = this;\n        this.sentinelInfo = {\n            'up': {\n                check: function (rect, info) {\n                    var top = rect.top - _this.containerElementRect.top;\n                    info.entered = top >= 0;\n                    return top + (_this.parent.listItemHeight * _this.parent.virtualItemCount / 2) >= 0;\n                },\n                axis: 'Y'\n            },\n            'down': {\n                check: function (rect, info) {\n                    var cHeight = _this.parent.popupContentElement.clientHeight;\n                    var top = rect.bottom;\n                    info.entered = rect.bottom <= _this.containerElementRect.bottom;\n                    return top - (_this.parent.listItemHeight * _this.parent.virtualItemCount / 2) <= _this.parent.listItemHeight * _this.parent.virtualItemCount / 2;\n                }, axis: 'Y'\n            }\n        };\n        this.parent = parent;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    VirtualScroll.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('observe', this.observe, this);\n        this.parent.on('setGeneratedData', this.setGeneratedData, this);\n        this.parent.on('dataProcessAsync', this.dataProcessAsync, this);\n        this.parent.on('setCurrentViewDataAsync', this.setCurrentViewDataAsync, this);\n        this.parent.on('bindScrollEvent', this.bindScrollEvent, this);\n    };\n    VirtualScroll.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('observe', this.observe);\n        this.parent.off('setGeneratedData', this.setGeneratedData);\n        this.parent.off('dataProcessAsync', this.dataProcessAsync);\n        this.parent.off('setCurrentViewDataAsync', this.setCurrentViewDataAsync);\n        this.parent.off('bindScrollEvent', this.bindScrollEvent);\n    };\n    VirtualScroll.prototype.bindScrollEvent = function (component) {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.component = component.component;\n        this.observe(function (scrollArgs) { return _this.scrollListener(scrollArgs); });\n    };\n    VirtualScroll.prototype.observe = function (callback) {\n        this.containerElementRect = this.parent.popupContentElement.getBoundingClientRect();\n        EventHandler.add(this.parent.popupContentElement, 'wheel mousedown', this.popupScrollHandler, this);\n        this.touchModule = new Touch(this.parent.popupContentElement, {\n            scroll: this.popupScrollHandler.bind(this)\n        });\n        EventHandler.add(this.parent.popupContentElement, 'scroll', this.virtualScrollHandler(callback), this);\n    };\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'VirtualScroll';\n    };\n    VirtualScroll.prototype.popupScrollHandler = function (e) {\n        this.parent.isMouseScrollAction = true;\n        this.parent.isPreventScrollAction = false;\n    };\n    VirtualScroll.prototype.getPageQuery = function (query, virtualStartIndex, virtualEndIndex) {\n        if (virtualEndIndex !== 0 && !this.parent.allowFiltering && this.component !== 'autocomplete') {\n            query = query.skip(virtualStartIndex);\n        }\n        return query;\n    };\n    VirtualScroll.prototype.setGeneratedData = function (qStartIndex, recentlyGeneratedData) {\n        var loopIteration = 0;\n        var endIndex = this.parent.listData.length + this.parent.virtualItemStartIndex;\n        for (var i = this.parent.virtualItemStartIndex; i < endIndex; i++) {\n            var alreadyAddedData = this.parent.generatedDataObject[i];\n            if (!alreadyAddedData) {\n                if (recentlyGeneratedData !== null && this.parent.listData.slice(loopIteration, loopIteration + 1).length > 0) {\n                    var slicedData = this.parent.listData.slice(loopIteration, loopIteration + 1);\n                    if (slicedData.length > 0) {\n                        // Safely assign slicedData to this.parent.generatedDataObject[i]\n                        this.parent.generatedDataObject[i] = slicedData;\n                    }\n                }\n            }\n            loopIteration++;\n        }\n    };\n    VirtualScroll.prototype.generateAndExecuteQueryAsync = function (query, virtualItemStartIndex, virtualItemEndIndex, isQueryGenerated) {\n        if (virtualItemStartIndex === void 0) { virtualItemStartIndex = 0; }\n        if (virtualItemEndIndex === void 0) { virtualItemEndIndex = 0; }\n        if (isQueryGenerated === void 0) { isQueryGenerated = false; }\n        var dataSource = this.parent.dataSource;\n        if (!isQueryGenerated) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (!isNullOrUndefined(this.parent.query)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var newQuery = this.removeSkipAndTakeEvents(this.parent.query.clone());\n                query = this.getPageQuery(newQuery, virtualItemStartIndex, virtualItemEndIndex);\n            }\n            else {\n                query = this.getPageQuery(query, virtualItemStartIndex, virtualItemEndIndex);\n            }\n        }\n        var tempCustomFilter = this.parent.isCustomFilter;\n        if (this.component === 'combobox') {\n            var totalData = 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                totalData = this.parent.dataSource.dataSource.json.length;\n            }\n            else if (this.parent.dataSource && this.parent.dataSource.length > 0) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                totalData = this.parent.dataSource.length;\n            }\n            if (totalData > 0) {\n                this.parent.isCustomFilter = (totalData == this.parent.totalItemCount && this.parent.queryString != this.parent.typedString) ? true : this.parent.isCustomFilter;\n            }\n        }\n        this.parent.resetList(dataSource, this.parent.fields, query);\n        this.parent.isCustomFilter = tempCustomFilter;\n    };\n    VirtualScroll.prototype.removeSkipAndTakeEvents = function (query) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        query.queries = query.queries.filter(function (event) {\n            return event.fn !== 'onSkip' && event.fn !== 'onTake';\n        });\n        return query;\n    };\n    VirtualScroll.prototype.setCurrentViewDataAsync = function (component) {\n        // eslint-disable-next-line\n        var currentData = [];\n        var isResetListCalled = false;\n        var isListUpdated = true;\n        if (isNullOrUndefined(this.component)) {\n            this.component = component.component;\n        }\n        var endIndex = this.parent.viewPortInfo.endIndex;\n        if (this.component === 'multiselect' && this.parent.mode === 'CheckBox' && this.parent.value && Array.isArray(this.parent.value) && this.parent.value.length > 0 && this.parent.enableSelectionOrder) {\n            if (this.parent.viewPortInfo.startIndex < this.parent.value.length) {\n                endIndex = this.parent.viewPortInfo.endIndex - this.parent.value.length;\n                if (this.parent.viewPortInfo.startIndex === 0) {\n                    this.parent.updateVirtualReOrderList(true);\n                    if (this.parent.value.length < this.parent.itemCount) {\n                        var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                        if (oldUlElement) {\n                            this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                        }\n                        var query = this.parent.getForQuery(this.parent.value).clone();\n                        query = query.skip(0).take(this.parent.itemCount - (this.parent.value.length - this.parent.viewPortInfo.startIndex));\n                        this.parent.appendUncheckList = true;\n                        this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                        isListUpdated = false;\n                        this.parent.appendUncheckList = false;\n                        isListUpdated = false;\n                    }\n                    else {\n                        var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                        if (oldUlElement) {\n                            this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                        }\n                    }\n                    isListUpdated = false;\n                }\n                else if (this.parent.viewPortInfo.startIndex != 0) {\n                    this.parent.updateVirtualReOrderList(true);\n                    var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                    if (oldUlElement) {\n                        this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                    }\n                    isListUpdated = false;\n                }\n                if (this.parent.viewPortInfo.startIndex != 0 && this.parent.viewPortInfo.startIndex - this.parent.value.length != this.parent.itemCount && (this.parent.viewPortInfo.startIndex + this.parent.itemCount > this.parent.value.length)) {\n                    var query = this.parent.getForQuery(this.parent.value).clone();\n                    query = query.skip(0).take(this.parent.itemCount - (this.parent.value.length - this.parent.viewPortInfo.startIndex));\n                    this.parent.appendUncheckList = true;\n                    this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                    isListUpdated = false;\n                    this.parent.appendUncheckList = false;\n                }\n            }\n            else {\n                var reOrderList = this.parent.list.querySelectorAll('.e-reorder')[0];\n                if (this.parent.list.querySelector('.e-virtual-ddl-content') && reOrderList) {\n                    this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList);\n                }\n                var query = this.parent.getForQuery(this.parent.value).clone();\n                var skipvalue = this.parent.viewPortInfo.startIndex - this.parent.value.length >= 0 ? this.parent.viewPortInfo.startIndex - this.parent.value.length : 0;\n                query = query.skip(skipvalue);\n                this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                isListUpdated = false;\n            }\n            this.parent.totalItemsCount();\n        }\n        if (isListUpdated) {\n            for (var i = this.parent.viewPortInfo.startIndex; i < endIndex; i++) {\n                var index = i;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var alreadyAddedData = this.parent.generatedDataObject[index];\n                if (this.component === 'multiselect' && this.parent.hideSelectedItem) {\n                    if (alreadyAddedData) {\n                        var value = getValue(this.parent.fields.value, alreadyAddedData[0]);\n                        if (this.parent.value && value != null && Array.isArray(this.parent.value) && this.parent.value.length > 0 && this.parent.value.indexOf(value) < 0) {\n                            var query = this.parent.getForQuery(this.parent.value).clone();\n                            if (this.parent.viewPortInfo.endIndex == this.parent.totalItemCount + this.parent.value.length && this.parent.hideSelectedItem) {\n                                query = query.skip(this.parent.totalItemCount - this.parent.itemCount);\n                            }\n                            else {\n                                query = query.skip(this.parent.viewPortInfo.startIndex);\n                            }\n                            this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                            isResetListCalled = true;\n                            break;\n                        }\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        else if ((this.parent.value === null || (this.parent.value && this.parent.value.length === 0))) {\n                            currentData.push(alreadyAddedData[0]);\n                        }\n                    }\n                    if (index === endIndex - 1) {\n                        if (currentData.length != this.parent.itemCount) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            if (this.parent.hideSelectedItem) {\n                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                var query = this.parent.getForQuery(this.parent.value).clone();\n                                if (this.parent.viewPortInfo.endIndex == this.parent.totalItemCount + this.parent.value.length && this.parent.hideSelectedItem) {\n                                    query = query.skip(this.parent.totalItemCount - this.parent.itemCount);\n                                }\n                                else {\n                                    query = query.skip(this.parent.viewPortInfo.startIndex);\n                                }\n                                this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                                isResetListCalled = true;\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (alreadyAddedData) {\n                        currentData.push(alreadyAddedData[0]);\n                    }\n                }\n            }\n        }\n        if (!isResetListCalled && isListUpdated) {\n            if (this.component === 'multiselect' && this.parent.allowCustomValue && this.parent.viewPortInfo.startIndex == 0 && this.parent.virtualCustomData) {\n                currentData.splice(0, 0, this.parent.virtualCustomData);\n            }\n            var totalData = [];\n            if (this.component === 'multiselect' && this.parent.allowCustomValue && this.parent.viewPortInfo.endIndex == this.parent.totalItemCount) {\n                if (this.parent.virtualCustomSelectData && this.parent.virtualCustomSelectData.length > 0) {\n                    totalData = currentData.concat(this.parent.virtualCustomSelectData);\n                    currentData = totalData;\n                }\n            }\n            var ulElement = this.parent.renderItems(currentData, this.parent.fields, this.component === 'multiselect' && this.parent.mode === 'CheckBox');\n        }\n        if (this.component === 'multiselect') {\n            this.parent.updatevirtualizationList();\n        }\n        this.parent.getSkeletonCount();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualTrackElement = this.parent.list.getElementsByClassName('e-virtual-ddl')[0];\n        if (virtualTrackElement) {\n            (virtualTrackElement).style = this.parent.GetVirtualTrackHeight();\n        }\n        else if (!virtualTrackElement && this.parent.skeletonCount > 0 && this.parent.popupWrapper) {\n            var virualElement = this.parent.createElement('div', {\n                id: this.parent.element.id + '_popup', className: 'e-virtual-ddl', styles: this.parent.GetVirtualTrackHeight()\n            });\n            this.parent.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        this.parent.UpdateSkeleton();\n        this.parent.liCollections = this.parent.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualContentElement = this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0];\n        if (virtualContentElement) {\n            (virtualContentElement).style = this.parent.getTransformValues();\n        }\n        if (this.parent.fields.groupBy) {\n            this.parent.scrollStop();\n        }\n        if (this.parent.keyCode == 40 && this.parent.isScrollChanged && this.parent.hideSelectedItem && !isNullOrUndefined(this.parent.currentFocuedListElement)) {\n            var currentSelectElem = this.parent.getElementByValue(this.parent.currentFocuedListElement.getAttribute('data-value'));\n            this.parent.addListFocus(currentSelectElem);\n            this.parent.isScrollChanged = false;\n        }\n    };\n    VirtualScroll.prototype.generateQueryAndSetQueryIndexAsync = function (query, isPopupOpen) {\n        var isStartIndexInitialised = false;\n        var queryStartIndex = 0;\n        var queryEndIndex = 0;\n        var vEndIndex = this.parent.viewPortInfo.endIndex;\n        if (!isPopupOpen && vEndIndex !== 0) {\n            for (var i = this.parent.viewPortInfo.startIndex; i <= vEndIndex; i++) {\n                if (!(i in this.parent.generatedDataObject)) {\n                    if (!isStartIndexInitialised) {\n                        isStartIndexInitialised = true;\n                        queryStartIndex = queryEndIndex = i;\n                    }\n                    else {\n                        queryEndIndex = i === vEndIndex ? i : i + 1;\n                    }\n                }\n            }\n        }\n        if (isStartIndexInitialised && !((this.parent.totalItemCount == queryStartIndex) && (this.parent.totalItemCount == queryEndIndex))) {\n            this.parent.virtualItemStartIndex = queryStartIndex;\n            this.parent.virtualItemEndIndex = queryEndIndex;\n            this.generateAndExecuteQueryAsync(query, queryStartIndex, queryEndIndex);\n            if (this.component === 'multiselect' && this.parent.hideSelectedItem && this.parent.value && Array.isArray(this.parent.value) && this.parent.value.length > 0) {\n                this.parent.totalItemsCount();\n            }\n            if (this.component === 'multiselect' && this.parent.virtualItemStartIndex === this.parent.virtualItemEndIndex) {\n                this.parent.virtualItemStartIndex = this.parent.viewPortInfo.startIndex;\n                this.parent.virtualItemEndIndex = this.parent.viewPortInfo.endIndex;\n            }\n        }\n        this.setCurrentViewDataAsync();\n    };\n    VirtualScroll.prototype.dataProcessAsync = function (isOpenPopup) {\n        this.parent.selectedValueInfo = null;\n        this.parent.virtualItemStartIndex = this.parent.viewPortInfo.startIndex;\n        this.parent.virtualItemEndIndex = this.parent.viewPortInfo.endIndex;\n        this.generateQueryAndSetQueryIndexAsync(new Query(), isOpenPopup);\n    };\n    VirtualScroll.prototype.virtualScrollRefreshAsync = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.parent.isCustomFilter = (!(this.parent.isTyped || (this.component === 'combobox' && this.parent.allowFiltering && this.parent.queryString != this.parent.typedString) || (!isNullOrUndefined(this.parent.filterInput) && !isNullOrUndefined(this.parent.filterInput.value) && this.parent.filterInput.value !== '') && this.component !== 'combobox') && !(this.component === 'autocomplete' && this.parent.value != null)) || this.parent.isCustomFilter;\n                        if (this.parent.allowFiltering || this.component === 'autocomplete') {\n                            if (!isNullOrUndefined(this.parent.typedString) && !(this.component === 'combobox' && !isNullOrUndefined(this.parent.typedString) && this.parent.allowFiltering)) {\n                                if (this.parent.viewPortInfo.endIndex >= this.parent.dataCount) {\n                                    this.parent.viewPortInfo.endIndex = this.parent.dataCount;\n                                }\n                                if (this.parent.viewPortInfo.startIndex >= this.parent.dataCount) {\n                                    this.parent.viewPortInfo.startIndex = this.parent.dataCount - this.parent.itemCount;\n                                }\n                            }\n                            else {\n                                this.parent.getSkeletonCount(true);\n                                if (this.component === 'combobox') {\n                                    this.parent.skeletonCount = this.parent.totalItemCount != 0 && this.parent.totalItemCount < (this.parent.itemCount * 2) ? 0 : this.parent.skeletonCount;\n                                }\n                            }\n                        }\n                        return [4 /*yield*/, this.dataProcessAsync()];\n                    case 1:\n                        _a.sent();\n                        if (this.parent.keyboardEvent != null) {\n                            this.parent.handleVirtualKeyboardActions(this.parent.keyboardEvent, this.parent.pageCount);\n                        }\n                        if (!this.parent.customFilterQuery) {\n                            this.parent.isCustomFilter = false;\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    VirtualScroll.prototype.scrollListener = function (scrollArgs) {\n        var _this = this;\n        if (!this.parent.isPreventScrollAction && !this.parent.isVirtualTrackHeight) {\n            this.parent.preventSetCurrentData = false;\n            var info = scrollArgs.sentinel;\n            var pStartIndex = this.parent.previousStartIndex;\n            this.parent.viewPortInfo = this.getInfoFromView(scrollArgs.direction, info, scrollArgs.offset, false);\n            this.parent.isUpwardScrolling = false;\n            if (this.parent.previousStartIndex !== pStartIndex && !this.parent.isKeyBoardAction) {\n                this.parent.isScrollActionTriggered = false;\n                this.parent.currentPageNumber = this.parent.viewPortInfo.currentPageNumber;\n                this.parent.virtualListInfo = __assign({}, this.parent.viewPortInfo);\n                this.parent.isPreventKeyAction = true;\n                this.parent.isVirtualScrolling = true;\n                setTimeout(function () {\n                    _this.parent.pageCount = _this.parent.getPageCount();\n                    _this.virtualScrollRefreshAsync().then(function () {\n                        if (_this.parent.popupObj) {\n                            _this.parent.list = _this.parent.popupObj.element.querySelector('.' + 'e-content') || select('.' + 'e-content');\n                            _this.parent.updateSelectionList();\n                            _this.parent.liCollections = _this.parent.getItems();\n                        }\n                        _this.parent.isKeyBoardAction = false;\n                        _this.parent.isVirtualScrolling = false;\n                        _this.parent.isPreventKeyAction = false;\n                    });\n                }, 5);\n            }\n            else if (this.parent.isScrollActionTriggered) {\n                this.parent.isPreventKeyAction = false;\n                this.parent.isScrollActionTriggered = false;\n                var virtualListCount = this.parent.list.querySelectorAll('.e-virtual-list').length;\n                var listElement = this.parent.list.querySelector('.' + 'e-list-item');\n                var translateY = scrollArgs.offset.top - (listElement.offsetHeight * virtualListCount);\n                this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0].style.transform = \"translate(0px,\" + translateY + \"px)\";\n            }\n            this.parent.previousInfo = this.parent.viewPortInfo;\n        }\n    };\n    VirtualScroll.prototype.getInfoFromView = function (direction, info, e, isscrollAction) {\n        var infoType = {\n            direction: direction, sentinelInfo: info, offsets: e,\n            startIndex: this.parent.previousStartIndex, endIndex: this.parent.previousEndIndex\n        };\n        var vHeight = this.parent.popupContentElement.getBoundingClientRect().height;\n        //Row Start and End Index calculation\n        var rowHeight = this.parent.listItemHeight;\n        var exactTopIndex = e.top / rowHeight;\n        var infoViewIndices = vHeight / rowHeight;\n        var exactEndIndex = exactTopIndex + infoViewIndices;\n        var pageSizeBy4 = this.parent.virtualItemCount / 4;\n        var totalItemCount = this.parent.totalItemCount;\n        if (infoType.direction === 'down') {\n            var sIndex = Math.round(exactEndIndex) - Math.round((pageSizeBy4));\n            if (isNullOrUndefined(infoType.startIndex) || (exactEndIndex >\n                (infoType.startIndex + Math.round((this.parent.virtualItemCount / 2 + pageSizeBy4)))\n                && infoType.endIndex !== totalItemCount)) {\n                infoType.startIndex = sIndex >= 0 ? Math.round(sIndex) : 0;\n                infoType.startIndex = infoType.startIndex > exactTopIndex ? Math.floor(exactTopIndex) : infoType.startIndex;\n                var eIndex = infoType.startIndex + this.parent.virtualItemCount;\n                infoType.startIndex = eIndex < exactEndIndex ? (Math.ceil(exactEndIndex) - this.parent.virtualItemCount)\n                    : infoType.startIndex;\n                infoType.endIndex = eIndex < totalItemCount ? eIndex : totalItemCount;\n                infoType.startIndex = eIndex >= totalItemCount ? (infoType.endIndex - this.parent.virtualItemCount > 0 ? infoType.endIndex - this.parent.virtualItemCount : 0) : infoType.startIndex;\n                infoType.currentPageNumber = Math.ceil(infoType.endIndex / this.parent.virtualItemCount);\n            }\n        }\n        else if (infoType.direction === 'up') {\n            if (infoType.startIndex && infoType.endIndex) {\n                var loadAtIndex = Math.round(((infoType.startIndex * rowHeight) + (pageSizeBy4 * rowHeight)) / rowHeight);\n                if (exactTopIndex < loadAtIndex) {\n                    var idxAddedToExactTop = (pageSizeBy4) > infoViewIndices ? pageSizeBy4 :\n                        (infoViewIndices + infoViewIndices / 4);\n                    var eIndex = Math.round(exactTopIndex + idxAddedToExactTop);\n                    infoType.endIndex = (eIndex < totalItemCount || this.component == \"multiselect\") ? eIndex : totalItemCount;\n                    var sIndex = infoType.endIndex - this.parent.virtualItemCount;\n                    infoType.startIndex = sIndex > 0 ? sIndex : 0;\n                    infoType.endIndex = sIndex < 0 ? this.parent.virtualItemCount : infoType.endIndex;\n                    infoType.currentPageNumber = Math.ceil(infoType.startIndex / this.parent.virtualItemCount);\n                }\n            }\n        }\n        if (!isscrollAction) {\n            this.parent.previousStartIndex = infoType.startIndex;\n            this.parent.startIndex = infoType.startIndex;\n            this.parent.previousEndIndex = infoType.endIndex;\n        }\n        else {\n            this.parent.scrollPreStartIndex = infoType.startIndex;\n        }\n        return infoType;\n    };\n    VirtualScroll.prototype.virtualScrollHandler = function (callback) {\n        var _this = this;\n        var delay = Browser.info.name === 'chrome' ? 200 : 100;\n        var prevTop = 0;\n        var debounced100 = debounce(callback, delay);\n        var debounced50 = debounce(callback, 50);\n        return function (e) {\n            var top = e.target.scrollTop;\n            var left = e.target.scrollLeft;\n            var direction = prevTop < top && !_this.parent.isUpwardScrolling ? 'down' : 'up';\n            prevTop = top;\n            var current = _this.sentinelInfo[direction];\n            var pstartIndex = _this.parent.scrollPreStartIndex;\n            var scrollOffsetargs = {\n                top: top,\n                left: left\n            };\n            if (_this.parent.list && _this.parent.list.querySelectorAll('.e-virtual-list').length > 0) {\n                var infoview = _this.getInfoFromView(direction, current, scrollOffsetargs, true);\n                if (_this.parent.scrollPreStartIndex != pstartIndex && !_this.parent.isPreventScrollAction) {\n                    _this.parent.isScrollActionTriggered = true;\n                    var virtualPoup = (_this.parent.list.querySelector('.e-virtual-ddl-content'));\n                    virtualPoup.style.transform = \"translate(0px,\" + top + \"px)\";\n                }\n            }\n            var debounceFunction = debounced100;\n            if (current.axis === 'X') {\n                debounceFunction = debounced50;\n            }\n            debounceFunction({ direction: direction, sentinel: current, offset: { top: top, left: left },\n                focusElement: document.activeElement });\n        };\n    };\n    VirtualScroll.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { select, selectAll } from '@syncfusion/ej2-base';\nimport { Skeleton } from '@syncfusion/ej2-notifications';\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n    root: 'e-dropdownbase',\n    rtl: 'e-rtl',\n    content: 'e-content',\n    selected: 'e-active',\n    hover: 'e-hover',\n    noData: 'e-nodata',\n    fixedHead: 'e-fixed-head',\n    focus: 'e-item-focus',\n    li: 'e-list-item',\n    group: 'e-list-group-item',\n    disabled: 'e-disabled',\n    grouping: 'e-dd-group',\n    virtualList: 'e-list-item e-virtual-list',\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar DISPLAYTEMPLATE_PROPERTY = 'DisplayTemplate';\nvar SPINNERTEMPLATE_PROPERTY = 'SpinnerTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\nvar HIDE_GROUPLIST = 'e-hide-group-header';\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @class */ (function (_super) {\n    __extends(DropDownBase, _super);\n    /**\n     * * Constructor for DropDownBase class\n     *\n     * @param {DropDownBaseModel} options - Specifies the DropDownBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.isPreventChange = false;\n        _this.isDynamicDataChange = false;\n        _this.addedNewItem = false;\n        _this.isAddNewItemTemplate = false;\n        _this.isRequesting = false;\n        _this.isVirtualizationEnabled = false;\n        _this.isCustomDataUpdated = false;\n        _this.isAllowFiltering = false;\n        _this.virtualizedItemsCount = 0;\n        _this.isCheckBoxSelection = false;\n        _this.totalItemCount = 0;\n        _this.dataCount = 0;\n        _this.isRemoteDataUpdated = false;\n        _this.isIncrementalRequest = false;\n        _this.itemCount = 10;\n        _this.virtualListHeight = 0;\n        _this.isVirtualScrolling = false;\n        _this.isPreventScrollAction = false;\n        _this.scrollPreStartIndex = 0;\n        _this.isScrollActionTriggered = false;\n        _this.previousStartIndex = 0;\n        _this.isMouseScrollAction = false;\n        _this.isKeyBoardAction = false;\n        _this.isScrollChanged = false;\n        _this.isUpwardScrolling = false;\n        _this.startIndex = 0;\n        _this.currentPageNumber = 0;\n        _this.pageCount = 0;\n        _this.isPreventKeyAction = false;\n        _this.generatedDataObject = {};\n        _this.skeletonCount = 32;\n        _this.isVirtualTrackHeight = false;\n        _this.virtualSelectAll = false;\n        _this.incrementalQueryString = '';\n        _this.incrementalEndIndex = 0;\n        _this.incrementalStartIndex = 0;\n        _this.incrementalPreQueryString = '';\n        _this.isObjectCustomValue = false;\n        _this.appendUncheckList = false;\n        _this.getInitialData = false;\n        _this.preventPopupOpen = true;\n        _this.customFilterQuery = new Query();\n        _this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        _this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        _this.selectedValueInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        return _this;\n    }\n    DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n        var newProperty = new Object();\n        var oldProperty = new Object();\n        var propName = function (prop) {\n            return prop;\n        };\n        newProperty[propName(prop)] = newProp[propName(prop)];\n        oldProperty[propName(prop)] = oldProp[propName(prop)];\n        var data = new Object();\n        data.newProperty = newProperty;\n        data.oldProperty = oldProperty;\n        return data;\n    };\n    DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n        var value = null;\n        if (!isNullOrUndefined(this.listData)) {\n            if (ignoreCase) {\n                value = this.checkValueCase(text, true, ignoreAccent);\n            }\n            else {\n                value = this.checkValueCase(text, false, ignoreAccent);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n        var _this = this;\n        var value = null;\n        if (isTextByValue) {\n            value = text;\n        }\n        var dataSource = this.listData;\n        var fields = this.fields;\n        var type = this.typeOfData(dataSource).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n                var item = dataSource_1[_i];\n                if (!isNullOrUndefined(item)) {\n                    if (ignoreAccent) {\n                        value = this.checkingAccent(String(item), text, ignoreCase);\n                    }\n                    else {\n                        if (ignoreCase) {\n                            if (this.checkIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase);\n                            }\n                        }\n                        else {\n                            if (this.checkNonIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (ignoreCase) {\n                dataSource.filter(function (item) {\n                    var itemValue = getValue(fields.value, item);\n                    if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n                        value = getValue(fields.value, item);\n                    }\n                });\n            }\n            else {\n                if (isTextByValue) {\n                    var compareValue_1 = null;\n                    compareValue_1 = value;\n                    dataSource.filter(function (item) {\n                        var itemValue = getValue(fields.value, item);\n                        if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) && itemValue.toString() === compareValue_1.toString()) {\n                            value = getValue(fields.text, item);\n                        }\n                    });\n                }\n                else {\n                    dataSource.filter(function (item) {\n                        if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n                            value = getValue(fields.value, item);\n                        }\n                    });\n                }\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n        var dataItem = DataUtil.ignoreDiacritics(String(item));\n        var textItem = DataUtil.ignoreDiacritics(text.toString());\n        var value = null;\n        if (ignoreCase) {\n            if (this.checkIgnoreCase(dataItem, textItem)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        else {\n            if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n        return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n    };\n    DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n        return String(item) === text.toString() ? true : false;\n    };\n    DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n        var value = null;\n        var dataSource = this.listData;\n        var type = this.typeOfData(dataSource).typeof;\n        if (isTextByValue) {\n            value = dataItem.toString();\n        }\n        else {\n            if (ignoreCase) {\n                value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n            }\n            else {\n                value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.templateCompiler = function (baseTemplate) {\n        var checkTemplate = false;\n        if (typeof baseTemplate !== 'function' && baseTemplate) {\n            try {\n                checkTemplate = (selectAll(baseTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n        var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n        if (this.noRecordsTemplate !== 'No records found' || this.actionFailureTemplate !== 'Request failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var compiledString = void 0;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            ele.innerHTML = '';\n            var tempaltecheck = this.templateCompiler(template);\n            if (typeof template !== 'function' && tempaltecheck) {\n                compiledString = compile(select(template, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(template);\n            }\n            var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var noDataElement = void 0;\n            if ((this.isReact) && typeof template === 'function') {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null);\n            }\n            else {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\n            }\n            if (noDataElement && noDataElement.length > 0) {\n                for (var i = 0; i < noDataElement.length; i++) {\n                    if (this.getModuleName() === 'listbox' && templateName === 'noRecordsTemplate') {\n                        if (noDataElement[i].nodeName === '#text') {\n                            var liElem = this.createElement('li');\n                            liElem.textContent = noDataElement[i].textContent;\n                            liElem.classList.add('e-list-nrt');\n                            liElem.setAttribute('role', 'option');\n                            ele.appendChild(liElem);\n                        }\n                        else {\n                            noDataElement[i].classList.add('e-list-nr-template');\n                            ele.appendChild(noDataElement[i]);\n                        }\n                    }\n                    else {\n                        if (noDataElement[i] instanceof HTMLElement || noDataElement[i] instanceof Text) {\n                            ele.appendChild(noDataElement[i]);\n                        }\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No records found', actionFailureTemplate: 'Request failed' };\n            var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n            if (componentLocale.getConstant('actionFailureTemplate') !== '' || componentLocale.getConstant('noRecordsTemplate') !== '') {\n                this.l10n = componentLocale;\n            }\n            else {\n                this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' :\n                    this.getModuleName() === 'mention' ? 'mention' : 'dropdowns', l10nLocale, this.locale);\n            }\n            var content = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n            if (this.getModuleName() === 'listbox') {\n                var liElem = this.createElement('li');\n                liElem.textContent = content;\n                ele.appendChild(liElem);\n                liElem.classList.add('e-list-nrt');\n                liElem.setAttribute('role', 'option');\n            }\n            else {\n                if (!isNullOrUndefined(ele)) {\n                    ele.innerHTML = content;\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.checkAndResetCache = function () {\n        if (this.isVirtualizationEnabled) {\n            this.generatedDataObject = {};\n            this.virtualItemStartIndex = this.virtualItemEndIndex = 0;\n            this.viewPortInfo = {\n                currentPageNumber: null,\n                direction: null,\n                sentinelInfo: {},\n                offsets: {},\n                startIndex: 0,\n                endIndex: this.itemCount,\n            };\n            this.selectedValueInfo = null;\n        }\n    };\n    DropDownBase.prototype.updateIncrementalInfo = function (startIndex, endIndex) {\n        this.viewPortInfo.startIndex = startIndex;\n        this.viewPortInfo.endIndex = endIndex;\n        this.updateVirtualItemIndex();\n        this.isIncrementalRequest = true;\n        this.resetList(this.dataSource, this.fields, this.query);\n        this.isIncrementalRequest = false;\n    };\n    DropDownBase.prototype.updateIncrementalView = function (startIndex, endIndex) {\n        this.viewPortInfo.startIndex = startIndex;\n        this.viewPortInfo.endIndex = endIndex;\n        this.updateVirtualItemIndex();\n        this.resetList(this.dataSource, this.fields, this.query);\n        this.UpdateSkeleton();\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n    };\n    DropDownBase.prototype.updateVirtualItemIndex = function () {\n        this.virtualItemStartIndex = this.viewPortInfo.startIndex;\n        this.virtualItemEndIndex = this.viewPortInfo.endIndex;\n        this.virtualListInfo = this.viewPortInfo;\n    };\n    DropDownBase.prototype.getFilteringSkeletonCount = function () {\n        var difference = this.dataCount - this.viewPortInfo.endIndex;\n        var currentSkeletonCount = this.skeletonCount;\n        this.getSkeletonCount(true);\n        this.skeletonCount = this.dataCount > this.itemCount * 2 ? this.skeletonCount : difference > this.skeletonCount ? this.skeletonCount : difference > 0 ? difference : 0;\n        var skeletonUpdated = true;\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && (this.totalItemCount < (this.itemCount * 2))) {\n            this.skeletonCount = 0;\n            skeletonUpdated = false;\n        }\n        if (!this.list.classList.contains(dropDownBaseClasses.noData)) {\n            var isSkeletonCountChange = currentSkeletonCount !== this.skeletonCount;\n            if (currentSkeletonCount !== this.skeletonCount && skeletonUpdated) {\n                this.UpdateSkeleton(true, Math.abs(currentSkeletonCount - this.skeletonCount));\n            }\n            else {\n                this.UpdateSkeleton();\n            }\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            if ((this.list.getElementsByClassName('e-virtual-ddl').length > 0)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            }\n            else if (!this.list.querySelector('.e-virtual-ddl') && this.skeletonCount > 0 && this.list.querySelector('.e-dropdownbase')) {\n                var virualElement = this.createElement('div', {\n                    id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                });\n                this.list.querySelector('.e-dropdownbase').appendChild(virualElement);\n            }\n            if (this.list.getElementsByClassName('e-virtual-ddl-content').length > 0) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n            }\n        }\n    };\n    DropDownBase.prototype.getSkeletonCount = function (retainSkeleton) {\n        this.virtualListHeight = this.listContainerHeight != null ? parseInt(this.listContainerHeight, 10) : this.virtualListHeight;\n        var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n        this.skeletonCount = actualCount * 2 < this.itemCount ? this.itemCount : actualCount * 2;\n        this.itemCount = retainSkeleton ? this.itemCount : this.skeletonCount;\n        this.virtualItemCount = this.itemCount;\n        this.skeletonCount = Math.floor(this.skeletonCount / 2) + 2;\n    };\n    DropDownBase.prototype.GetVirtualTrackHeight = function () {\n        var height = this.totalItemCount === this.viewPortInfo.endIndex ? this.totalItemCount * this.listItemHeight - this.itemCount * this.listItemHeight : this.totalItemCount * this.listItemHeight;\n        height = this.isVirtualTrackHeight ? 0 : height;\n        var heightDimension = \"height: \" + (height - this.itemCount * this.listItemHeight) + \"px;\";\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && this.skeletonCount === 0) {\n            return \"height: 0px;\";\n        }\n        return heightDimension;\n    };\n    DropDownBase.prototype.getTransformValues = function () {\n        var translateY = this.viewPortInfo.startIndex * this.listItemHeight;\n        translateY = translateY - (this.skeletonCount * this.listItemHeight);\n        translateY = this.viewPortInfo.startIndex === 0 && this.listData && this.listData.length === 0 ? 0 : translateY;\n        var styleText = \"transform: translate(0px, \" + translateY + \"px);\";\n        return styleText;\n    };\n    DropDownBase.prototype.UpdateSkeleton = function (isSkeletonCountChange, skeletonCount) {\n        var isContainSkeleton = this.list.querySelector('.e-virtual-ddl-content');\n        var isContainVirtualList = this.list.querySelector('.e-virtual-list');\n        if (isContainSkeleton && (!isContainVirtualList || isSkeletonCountChange) && this.isVirtualizationEnabled) {\n            var totalSkeletonCount = isSkeletonCountChange ? skeletonCount : this.skeletonCount;\n            for (var i = 0; i < totalSkeletonCount; i++) {\n                var liElement = this.createElement('li', { className: dropDownBaseClasses.virtualList, styles: 'overflow: inherit' });\n                if (this.isVirtualizationEnabled && this.itemTemplate) {\n                    liElement.style.height = this.listItemHeight + 'px';\n                }\n                var skeleton = new Skeleton({\n                    shape: \"Text\",\n                    height: \"10px\",\n                    width: \"95%\",\n                    cssClass: \"e-skeleton-text\",\n                });\n                skeleton.appendTo(this.createElement('div'));\n                liElement.appendChild(skeleton.element);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                isContainSkeleton.firstChild && isContainSkeleton.firstChild.insertBefore(liElement, isContainSkeleton.firstChild.children[0]);\n            }\n        }\n    };\n    DropDownBase.prototype.getLocaleName = function () {\n        return 'drop-down-base';\n    };\n    DropDownBase.prototype.getTextByValue = function (value) {\n        var text = this.checkValueCase(value, false, false, true);\n        return text;\n    };\n    DropDownBase.prototype.getFormattedValue = function (value) {\n        if (this.listData && this.listData.length) {\n            var item = void 0;\n            if (this.properties.allowCustomValue && this.properties.value && this.properties.value instanceof Array && this.properties.value.length > 0) {\n                item = this.typeOfData(this.properties.value);\n            }\n            else {\n                item = this.typeOfData(this.listData);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'number'\n                || item.typeof === 'number') {\n                return parseFloat(value);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'boolean'\n                || item.typeof === 'boolean') {\n                return ((value === 'true') || ('' + value === 'true'));\n            }\n        }\n        return value;\n    };\n    /**\n     * Sets RTL to dropdownbase wrapper\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setEnableRtl = function () {\n        if (!isNullOrUndefined(this.enableRtlElements)) {\n            if (this.list) {\n                this.enableRtlElements.push(this.list);\n            }\n            if (this.enableRtl) {\n                addClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n            else {\n                removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n        }\n    };\n    /**\n     * Initialize the Component.\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.initialize = function (e) {\n        this.bindEvent = true;\n        this.preventPopupOpen = true;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n        if (this.element.tagName === 'UL') {\n            var jsonElement = ListBase.createJsonFromElement(this.element);\n            this.setProperties({ fields: { text: 'text', value: 'text' } }, true);\n            this.resetList(jsonElement, this.fields);\n        }\n        else if (this.element.tagName === 'SELECT') {\n            var dataSource = this.dataSource instanceof Array ? (this.dataSource.length > 0 ? true : false)\n                : !isNullOrUndefined(this.dataSource) ? true : false;\n            if (!dataSource) {\n                this.renderItemsBySelect();\n            }\n            else if (this.isDynamicDataChange) {\n                this.setListData(this.dataSource, this.fields, this.query);\n            }\n        }\n        else {\n            this.setListData(this.dataSource, this.fields, this.query, e);\n        }\n    };\n    /**\n     * Get the properties to be maintained in persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownBase.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @param {string} value - Specifies the attribute values to add on the input element.\n     * @returns {void}\n     */\n    DropDownBase.prototype.updateDataAttribute = function (value) {\n        var invalidAttr = ['class', 'style', 'id', 'type', 'aria-expanded', 'aria-autocomplete', 'aria-readonly'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownBase.prototype.renderItemsBySelect = function () {\n        var element = this.element;\n        var fields = { value: 'value', text: 'text' };\n        var jsonElement = [];\n        var group = element.querySelectorAll('select>optgroup');\n        var option = element.querySelectorAll('select>option');\n        this.getJSONfromOption(jsonElement, option, fields);\n        if (group.length) {\n            for (var i = 0; i < group.length; i++) {\n                var item = group[i];\n                var optionGroup = {};\n                optionGroup[fields.text] = item.label;\n                optionGroup.isHeader = true;\n                var child = item.querySelectorAll('option');\n                jsonElement.push(optionGroup);\n                this.getJSONfromOption(jsonElement, child, fields);\n            }\n            element.querySelectorAll('select>option');\n        }\n        this.updateFields(fields.text, fields.value, this.fields.groupBy, this.fields.htmlAttributes, this.fields.iconCss);\n        this.resetList(jsonElement, fields);\n    };\n    DropDownBase.prototype.updateFields = function (text, value, groupBy, htmlAttributes, iconCss) {\n        var field = {\n            'fields': {\n                text: text,\n                value: value,\n                groupBy: !isNullOrUndefined(groupBy) ? groupBy : this.fields && this.fields.groupBy,\n                htmlAttributes: !isNullOrUndefined(htmlAttributes) ? htmlAttributes : this.fields && this.fields.htmlAttributes,\n                iconCss: !isNullOrUndefined(iconCss) ? iconCss : this.fields && this.fields.iconCss\n            }\n        };\n        this.setProperties(field, true);\n    };\n    DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            var json = {};\n            json[fields.text] = option.innerText;\n            json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ?\n                option.getAttribute(fields.value) : option.innerText;\n            items.push(json);\n        }\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.preRender = function () {\n        // there is no event handler\n        this.scrollTimer = -1;\n        this.enableRtlElements = [];\n        this.isRequested = false;\n        this.isDataFetched = false;\n        this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n        this.displayTemplateId = \"\" + this.element.id + DISPLAYTEMPLATE_PROPERTY;\n        this.spinnerTemplateId = \"\" + this.element.id + SPINNERTEMPLATE_PROPERTY;\n        this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n        this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n    };\n    /**\n     * Creates the list items of DropDownBase component.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {void}\n     */\n    DropDownBase.prototype.setListData = function (dataSource, fields, query, event) {\n        var _this = this;\n        fields = fields ? fields : this.fields;\n        var ulElement;\n        this.isActive = true;\n        var eventArgs = { cancel: false, data: dataSource, query: query };\n        this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\n        if (!this.isRequesting) {\n            this.trigger('actionBegin', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    _this.isRequesting = true;\n                    _this.showSpinner();\n                    if (dataSource instanceof DataManager && !_this.virtualGroupDataSource) {\n                        _this.isRequested = true;\n                        if (_this.isDataFetched) {\n                            _this.emptyDataRequest(fields);\n                            return;\n                        }\n                        eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n                            _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                            _this.trigger('actionComplete', e, function (e) {\n                                if (!_this.virtualGroupDataSource && _this.isVirtualizationEnabled) {\n                                    _this.isRemoteDataUpdated = true;\n                                    if ((_this.getModuleName() === 'combobox' && !_this.initialRemoteRender && _this.isAllowFiltering && _this.isVirtualizationEnabled && e.result)) {\n                                        e.result = e.result.result;\n                                    }\n                                    if (e.result.length > 0) {\n                                        var dataSource_2 = e.result;\n                                        if (_this.isVirtualizationEnabled && _this.fields.groupBy) {\n                                            var data = new DataManager(dataSource_2).executeLocal(new Query().group(_this.fields.groupBy));\n                                            _this.virtualGroupDataSource = data.records;\n                                        }\n                                        else {\n                                            _this.virtualGroupDataSource = dataSource_2;\n                                            _this.hideSpinner();\n                                            _this.isRequested = false;\n                                            _this.isRequesting = false;\n                                            _this.setListData(dataSource_2, fields, query, event);\n                                            return;\n                                        }\n                                    }\n                                    _this.hideSpinner();\n                                    _this.isRequested = false;\n                                    _this.isRequesting = false;\n                                    _this.updatePopupState();\n                                    return;\n                                }\n                                if (!e.cancel) {\n                                    _this.isRequesting = false;\n                                    var listItems = e.result;\n                                    if (_this.isIncrementalRequest) {\n                                        ulElement = _this.renderItems(listItems, fields);\n                                        return;\n                                    }\n                                    if (listItems.length === 0) {\n                                        _this.isDataFetched = true;\n                                    }\n                                    _this.dataCount = e.count;\n                                    _this.totalItemCount = e.count;\n                                    ulElement = _this.renderItems(listItems, fields);\n                                    _this.onActionComplete(ulElement, listItems, e);\n                                    if (_this.groupTemplate) {\n                                        _this.renderGroupTemplate(ulElement);\n                                    }\n                                    _this.isRequested = false;\n                                    _this.bindChildItems(listItems, ulElement, fields, e);\n                                    if (_this.getInitialData) {\n                                        _this.setListData(dataSource, fields, query, event);\n                                        _this.getInitialData = false;\n                                        _this.preventPopupOpen = false;\n                                        return;\n                                    }\n                                }\n                            });\n                        }).catch(function (e) {\n                            _this.isRequested = false;\n                            _this.isRequesting = false;\n                            _this.onActionFailure(e);\n                            _this.hideSpinner();\n                        });\n                    }\n                    else {\n                        _this.isRequesting = false;\n                        var isReOrder = true;\n                        var listItems = void 0;\n                        if (_this.isVirtualizationEnabled && !_this.virtualGroupDataSource && _this.fields.groupBy) {\n                            var data = new DataManager(_this.dataSource).executeLocal(new Query().group(_this.fields.groupBy));\n                            _this.virtualGroupDataSource = data.records;\n                        }\n                        var dataManager = _this.isVirtualizationEnabled && _this.virtualGroupDataSource && !_this.isCustomDataUpdated ? new DataManager(_this.virtualGroupDataSource) : new DataManager(eventArgs.data);\n                        listItems = (_this.getQuery(eventArgs.query)).executeLocal(dataManager);\n                        if (!_this.virtualSelectAll) {\n                            var newQuery = _this.getQuery(eventArgs.query);\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            if (_this.isVirtualizationEnabled && (listItems.count != 0 && listItems.count < (_this.itemCount * 2))) {\n                                if (newQuery) {\n                                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                        if (newQuery.queries[queryElements].fn === 'onTake') {\n                                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                            newQuery.queries[queryElements].e.nos = listItems.count;\n                                            listItems = (newQuery).executeLocal(dataManager);\n                                        }\n                                        if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e.condition == 'or' || newQuery.queries[queryElements].e.operator == 'equal')) {\n                                            isReOrder = false;\n                                        }\n                                    }\n                                    if (isReOrder) {\n                                        listItems = (newQuery).executeLocal(dataManager);\n                                        _this.isVirtualTrackHeight = true;\n                                    }\n                                }\n                            }\n                            else {\n                                _this.isVirtualTrackHeight = false;\n                                if (newQuery) {\n                                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                        if (_this.getModuleName() === 'multiselect' && ((newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.condition == 'or') || (newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.operator == 'equal'))) {\n                                            isReOrder = false;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        if (isReOrder) {\n                            // eslint-disable @typescript-eslint/no-explicit-any\n                            _this.dataCount = _this.totalItemCount = _this.virtualSelectAll ? listItems.length : listItems.count;\n                        }\n                        listItems = _this.isVirtualizationEnabled && !_this.virtualSelectAll ? listItems.result : listItems;\n                        // eslint-enable @typescript-eslint/no-explicit-any\n                        var localDataArgs = { cancel: false, result: listItems };\n                        _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                        _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n                            if (_this.isIncrementalRequest) {\n                                ulElement = _this.renderItems(localDataArgs.result, fields);\n                                return;\n                            }\n                            if (!localDataArgs.cancel) {\n                                ulElement = _this.renderItems(localDataArgs.result, fields);\n                                _this.onActionComplete(ulElement, localDataArgs.result, event);\n                                if (_this.groupTemplate) {\n                                    _this.renderGroupTemplate(ulElement);\n                                }\n                                _this.bindChildItems(localDataArgs.result, ulElement, fields);\n                                if (_this.getInitialData) {\n                                    _this.getInitialData = false;\n                                    _this.preventPopupOpen = false;\n                                    return;\n                                }\n                                setTimeout(function () {\n                                    if (_this.getModuleName() === 'multiselect' && _this.itemTemplate != null && (ulElement.childElementCount > 0 && (ulElement.children[0].childElementCount > 0 || (_this.fields.groupBy && ulElement.children[1] && ulElement.children[1].childElementCount > 0)))) {\n                                        _this.updateDataList();\n                                    }\n                                });\n                            }\n                        });\n                    }\n                }\n            });\n        }\n    };\n    DropDownBase.prototype.updatePopupState = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.updateRemoteData = function () {\n        this.setListData(this.dataSource, this.fields, this.query);\n    };\n    DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n        var _this = this;\n        if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n            setTimeout(function () {\n                var childNode = _this.remainingItems(_this.sortedData, fields);\n                append(childNode, ulElement);\n                _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                _this.updateListValues();\n                _this.raiseDataBound(listItems, e);\n            }, 0);\n        }\n        else {\n            this.raiseDataBound(listItems, e);\n        }\n    };\n    DropDownBase.prototype.isObjectInArray = function (objectToFind, array) {\n        return array.some(function (item) {\n            return Object.keys(objectToFind).every(function (key) {\n                return item.hasOwnProperty(key) && item[key] === objectToFind[key];\n            });\n        });\n    };\n    DropDownBase.prototype.updateListValues = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n        var liElement = null;\n        if (list) {\n            var listArr = [].slice.call(list.querySelectorAll(findNode));\n            for (var index = 0; index < listArr.length; index++) {\n                if (listArr[index].getAttribute(attribute) === (value + '')) {\n                    liElement = listArr[index];\n                    break;\n                }\n            }\n        }\n        return liElement;\n    };\n    DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n        this.hideSpinner();\n        var dataBoundEventArgs = {\n            items: listItems,\n            e: e\n        };\n        this.trigger('dataBound', dataBoundEventArgs);\n    };\n    DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n        var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n        if (this.itemTemplate) {\n            var listElements = this.templateListItem(spliceData, fields);\n            return [].slice.call(listElements.childNodes);\n        }\n        var type = this.typeOfData(spliceData).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\n        }\n        return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\n    };\n    DropDownBase.prototype.emptyDataRequest = function (fields) {\n        var listItems = [];\n        this.onActionComplete(this.renderItems(listItems, fields), listItems);\n        this.isRequested = false;\n        this.isRequesting = false;\n        this.hideSpinner();\n    };\n    DropDownBase.prototype.showSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.hideSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.onActionFailure = function (e) {\n        this.liCollections = [];\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        if (!isNullOrUndefined(this.list)) {\n            addClass([this.list], dropDownBaseClasses.noData);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        this.listData = list;\n        if (this.isVirtualizationEnabled && !this.isCustomDataUpdated && !this.virtualSelectAll) {\n            this.notify(\"setGeneratedData\", {\n                module: \"VirtualScroll\",\n            });\n        }\n        if (this.getModuleName() !== 'listbox') {\n            ulElement.setAttribute('tabindex', '0');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n        }\n        if (!this.isVirtualizationEnabled) {\n            this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n        }\n        if (this.getModuleName() === 'multiselect' && this.properties.allowCustomValue && this.fields.groupBy) {\n            for (var i = 0; i < ulElement.childElementCount; i++) {\n                if (ulElement.children[i].classList.contains('e-list-group-item')) {\n                    if (isNullOrUndefined(ulElement.children[i].innerHTML) || ulElement.children[i].innerHTML == \"\") {\n                        addClass([ulElement.children[i]], HIDE_GROUPLIST);\n                    }\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.list)) {\n            if (!this.isVirtualizationEnabled) {\n                this.list.innerHTML = '';\n                this.list.appendChild(ulElement);\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n                this.postRender(this.list, list, this.bindEvent);\n            }\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\n        var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n        if (focusItem && !selectedItem) {\n            focusItem.classList.add(dropDownBaseClasses.focus);\n        }\n        if (list.length <= 0) {\n            this.l10nUpdate();\n            addClass([listElement], dropDownBaseClasses.noData);\n        }\n        else {\n            listElement.classList.remove(dropDownBaseClasses.noData);\n        }\n    };\n    /**\n     * Get the query to do the data operation before list item generation.\n     *\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {Query} Returns the query to do the data query operation.\n     */\n    DropDownBase.prototype.getQuery = function (query) {\n        return query ? query : this.query ? this.query : new Query();\n    };\n    DropDownBase.prototype.updateVirtualizationProperties = function (itemCount, filtering, isCheckbox) {\n        this.isVirtualizationEnabled = true;\n        this.virtualizedItemsCount = itemCount;\n        this.isAllowFiltering = filtering;\n        this.isCheckBoxSelection = isCheckbox;\n    };\n    /**\n     * To render the template content for group header element.\n     *\n     * @param {HTMLElement} listEle - Specifies the group list elements.\n     * @returns {void}\n     */\n    DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n        if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n            var dataSource = this.dataSource;\n            var option = { groupTemplateID: this.groupTemplateId, isStringTemplate: this.isStringTemplate };\n            var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n            var groupcheck = this.templateCompiler(this.groupTemplate);\n            if (typeof this.groupTemplate !== 'function' && groupcheck) {\n                var groupValue = select(this.groupTemplate, document).innerHTML.trim();\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To create the ul li list items\n     *\n     * @param {object []} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the ul li list items.\n     */\n    DropDownBase.prototype.createListItems = function (dataSource, fields) {\n        if (dataSource) {\n            if (fields.groupBy || this.element.querySelector('optgroup')) {\n                if (fields.groupBy) {\n                    if (this.sortOrder !== 'None') {\n                        dataSource = this.getSortedDataSource(dataSource);\n                    }\n                    dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n                }\n                addClass([this.list], dropDownBaseClasses.grouping);\n            }\n            else {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            var options = this.listOption(dataSource, fields);\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            this.sortedData = dataSource;\n            return ListBase.createList(this.createElement, (this.getModuleName() === 'autocomplete') ? spliceData : dataSource, options, true, this);\n        }\n        return null;\n    };\n    DropDownBase.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldValues = !isNullOrUndefined(fields.properties) ?\n            fields.properties : fields;\n        var options = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldValues,\n            showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        return extend({}, options, fields, true);\n    };\n    DropDownBase.prototype.setFloatingHeader = function (e) {\n        if (!isNullOrUndefined(this.list) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n            if (isNullOrUndefined(this.fixedHeaderElement)) {\n                this.fixedHeaderElement = this.createElement('div', { className: dropDownBaseClasses.fixedHead });\n                if (!isNullOrUndefined(this.list) && !this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n                    this.fixedHeaderElement.style.display = 'none';\n                }\n                if (!isNullOrUndefined(this.fixedHeaderElement) && !isNullOrUndefined(this.list)) {\n                    prepend([this.fixedHeaderElement], this.list);\n                }\n                this.setFixedHeader();\n            }\n            if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n                this.setFixedHeader();\n            }\n            this.scrollStop(e);\n        }\n    };\n    DropDownBase.prototype.scrollStop = function (e, isDownkey) {\n        var target = !isNullOrUndefined(e) ? e.target : this.list;\n        var liHeight = parseInt(getComputedStyle(this.getValidLi(), null).getPropertyValue('height'), 10);\n        var topIndex = Math.round(target.scrollTop / liHeight);\n        var liCollections = this.list.querySelectorAll('li' + ':not(.e-hide-listitem)');\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var count = 0;\n        var isCount = false;\n        for (var i = topIndex; i > -1; i--) {\n            var index = this.isVirtualizationEnabled ? i + virtualListCount : i;\n            if (this.isVirtualizationEnabled) {\n                var groupListLength = this.list.querySelectorAll('.e-list-group-item').length;\n                var loadedGroupList = 0;\n                if (isCount) {\n                    count++;\n                }\n                if (this.fixedHeaderElement && this.updateGroupHeader(index, liCollections, target)) {\n                    loadedGroupList++;\n                    if (count >= this.getPageCount()) {\n                        break;\n                    }\n                    if (groupListLength <= loadedGroupList) {\n                        break;\n                    }\n                }\n                if (isDownkey) {\n                    if ((!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.selected) && this.getModuleName() !== 'autocomplete') || (!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.focus) && this.getModuleName() === 'autocomplete')) {\n                        count++;\n                        isCount = true;\n                    }\n                }\n            }\n            else {\n                if (this.updateGroupHeader(index, liCollections, target)) {\n                    break;\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.getPageCount = function (returnExactCount) {\n        var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        var pageCount = Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n        return returnExactCount ? pageCount : Math.round(pageCount);\n    };\n    DropDownBase.prototype.updateGroupHeader = function (index, liCollections, target) {\n        if (!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.group)) {\n            this.updateGroupFixedHeader(liCollections[index], target);\n            return true;\n        }\n        else {\n            this.fixedHeaderElement.style.display = 'none';\n            this.fixedHeaderElement.style.top = 'none';\n            return false;\n        }\n    };\n    DropDownBase.prototype.updateGroupFixedHeader = function (element, target) {\n        this.fixedHeaderElement.innerHTML = element.innerHTML;\n        this.fixedHeaderElement.style.position = 'fixed';\n        this.fixedHeaderElement.style.top = this.list.parentElement.offsetTop + this.list.offsetTop + 'px';\n        this.fixedHeaderElement.style.display = 'block';\n    };\n    DropDownBase.prototype.getValidLi = function () {\n        if (this.isVirtualizationEnabled) {\n            return this.liCollections[0].classList.contains('e-virtual-list') ? this.liCollections[this.skeletonCount] : this.liCollections[0];\n        }\n        return this.liCollections[0];\n    };\n    /**\n     * To render the list items\n     *\n     * @param {object[]} listData - Specifies the list of array of data.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the list items.\n     */\n    DropDownBase.prototype.renderItems = function (listData, fields, isCheckBoxUpdate) {\n        var ulElement;\n        if (this.itemTemplate && listData) {\n            var dataSource = listData;\n            if (dataSource && fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            else {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            this.sortedData = dataSource;\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            ulElement = this.templateListItem((this.getModuleName() === 'autocomplete') ? spliceData : dataSource, fields);\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && this.getModuleName() === 'autocomplete')) {\n                    virtualUlElement.replaceChild(ulElement, oldUlElement);\n                    var reOrderList = this.list.querySelectorAll('.e-reorder');\n                    if (this.list.querySelector('.e-virtual-ddl-content') && reOrderList && reOrderList.length > 0 && !isCheckBoxUpdate) {\n                        this.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList[0]);\n                    }\n                    this.updateListElements(listData);\n                }\n                else if ((!virtualUlElement)) {\n                    this.list.innerHTML = '';\n                    this.createVirtualContent();\n                    this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n                    this.updateListElements(listData);\n                }\n            }\n        }\n        else {\n            if (this.getModuleName() === 'multiselect' && this.virtualSelectAll) {\n                this.virtualSelectAllData = listData;\n                listData = listData.slice(this.virtualItemStartIndex, this.virtualItemEndIndex);\n            }\n            ulElement = this.createListItems(listData, fields);\n            if (this.isIncrementalRequest) {\n                this.incrementalLiCollections = ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.incrementalUlElement = ulElement;\n                this.incrementalListData = listData;\n                return ulElement;\n            }\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                var isRemovedUlelement = false;\n                if (!oldUlElement && this.list.querySelector('.e-list-parent' + '.e-reorder')) {\n                    oldUlElement = this.list.querySelector('.e-list-parent' + '.e-reorder');\n                }\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect')) || isRemovedUlelement) {\n                    if (!this.appendUncheckList) {\n                        virtualUlElement.replaceChild(ulElement, oldUlElement);\n                    }\n                    else {\n                        virtualUlElement.appendChild(ulElement);\n                    }\n                    this.updateListElements(listData);\n                }\n                else if ((!virtualUlElement) || (!virtualUlElement.firstChild)) {\n                    this.list.innerHTML = '';\n                    this.createVirtualContent();\n                    this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n                    this.updateListElements(listData);\n                }\n            }\n        }\n        return ulElement;\n    };\n    DropDownBase.prototype.createVirtualContent = function () {\n        if (!this.list.querySelector('.e-virtual-ddl-content')) {\n            this.list.appendChild(this.createElement('div', {\n                className: 'e-virtual-ddl-content',\n            }));\n        }\n    };\n    DropDownBase.prototype.updateListElements = function (listData) {\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n        this.listData = listData;\n        this.postRender(this.list, listData, this.bindEvent);\n    };\n    DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n        var option = this.listOption(dataSource, fields);\n        option.templateID = this.itemTemplateId;\n        option.isStringTemplate = this.isStringTemplate;\n        var itemcheck = this.templateCompiler(this.itemTemplate);\n        if (typeof this.itemTemplate !== 'function' && itemcheck) {\n            var itemValue = select(this.itemTemplate, document).innerHTML.trim();\n            return ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\n        }\n        else {\n            return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\n        }\n    };\n    DropDownBase.prototype.typeOfData = function (items) {\n        var item = { typeof: null, item: null };\n        for (var i = 0; (!isNullOrUndefined(items) && i < items.length); i++) {\n            if (!isNullOrUndefined(items[i])) {\n                var listDataType = typeof (items[i]) === 'string' ||\n                    typeof (items[i]) === 'number' || typeof (items[i]) === 'boolean';\n                var isNullData = listDataType ? isNullOrUndefined(items[i]) :\n                    isNullOrUndefined(getValue((this.fields.value ? this.fields.value : 'value'), items[i]));\n                if (!isNullData) {\n                    return item = { typeof: typeof items[i], item: items[i] };\n                }\n            }\n        }\n        return item;\n    };\n    DropDownBase.prototype.setFixedHeader = function () {\n        if (!isNullOrUndefined(this.list)) {\n            this.list.parentElement.style.display = 'block';\n        }\n        var borderWidth = 0;\n        if (this.list && this.list.parentElement) {\n            borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n            /*Shorthand property not working in Firefox for getComputedStyle method.\n            Refer bug report https://bugzilla.mozilla.org/show_bug.cgi?id=137688\n            Refer alternate solution https://stackoverflow.com/a/41696234/9133493*/\n            if (isNaN(borderWidth)) {\n                var borderTopWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-top-width'), 10);\n                var borderBottomWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-bottom-width'), 10);\n                var borderLeftWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-left-width'), 10);\n                var borderRightWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-right-width'), 10);\n                borderWidth = (borderTopWidth + borderBottomWidth + borderLeftWidth + borderRightWidth);\n            }\n        }\n        if (!isNullOrUndefined(this.liCollections)) {\n            var liWidth = this.getValidLi().offsetWidth - borderWidth;\n            this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n        }\n        setStyleAttribute(this.fixedHeaderElement, { zIndex: 10 });\n        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group + ':not(.e-hide-listitem)');\n        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n    };\n    DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n        if (dataSource && this.sortOrder !== 'None') {\n            var textField = this.fields.text ? this.fields.text : 'text';\n            if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number'\n                || this.typeOfData(dataSource).typeof === 'boolean') {\n                textField = '';\n            }\n            dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n        }\n        return dataSource;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValue = function (value) {\n        var index;\n        var listItems = this.getItems();\n        for (var i = 0; i < listItems.length; i++) {\n            if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValueFilter = function (value) {\n        var index;\n        var listItems = this.renderItems(this.selectData, this.fields);\n        if (listItems && listItems.children) {\n            for (var i = 0; i < listItems.children.length; i++) {\n                if (!isNullOrUndefined(value) && listItems.children[i].getAttribute('data-value') === value.toString()) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n        return index;\n    };\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n    DropDownBase.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        if (element) {\n            element.dispatchEvent(evt);\n        }\n    };\n    /**\n     * To set the current fields\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setFields = function () {\n        if (this.fields.value && !this.fields.text) {\n            this.updateFields(this.fields.value, this.fields.value);\n        }\n        else if (!this.fields.value && this.fields.text) {\n            this.updateFields(this.fields.text, this.fields.text);\n        }\n        else if (!this.fields.value && !this.fields.text) {\n            this.updateFields('text', 'text');\n        }\n    };\n    /**\n     * reset the items list.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {void}\n     */\n    DropDownBase.prototype.resetList = function (dataSource, fields, query, e) {\n        if (this.list) {\n            if ((this.element.tagName === 'SELECT' && this.element.options.length > 0)\n                || (this.element.tagName === 'UL' && this.element.childNodes.length > 0)) {\n                var data = dataSource instanceof Array ? (dataSource.length > 0)\n                    : !isNullOrUndefined(dataSource);\n                if (!data && this.selectData && this.selectData.length > 0) {\n                    dataSource = this.selectData;\n                }\n            }\n            dataSource = this.getModuleName() === 'combobox' && this.selectData && dataSource instanceof Array && dataSource.length < this.selectData.length && this.addedNewItem ? this.selectData : dataSource;\n            this.addedNewItem = false;\n            this.setListData(dataSource, fields, query, e);\n        }\n    };\n    DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n        if ((isFiltering || this.isVirtualizationEnabled) && isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n            this.selectData = this.listData;\n        }\n    };\n    DropDownBase.prototype.updateSelection = function () {\n        // This is for after added the item, need to update the selected index values.\n    };\n    DropDownBase.prototype.renderList = function () {\n        // This is for render the list items.\n        this.render();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateDataSource = function (props, oldProps) {\n        this.resetList(this.dataSource);\n        this.totalItemCount = this.dataSource instanceof DataManager ? this.dataSource.dataSource.json.length : 0;\n    };\n    DropDownBase.prototype.setUpdateInitial = function (props, newProp, oldProp) {\n        this.isDataFetched = false;\n        var updateData = {};\n        for (var j = 0; props.length > j; j++) {\n            if (newProp[props[j]] && props[j] === 'fields') {\n                this.setFields();\n                updateData[props[j]] = newProp[props[j]];\n            }\n            else if (newProp[props[j]]) {\n                updateData[props[j]] = newProp[props[j]];\n            }\n        }\n        if (Object.keys(updateData).length > 0) {\n            if (Object.keys(updateData).indexOf('dataSource') === -1) {\n                updateData.dataSource = this.dataSource;\n            }\n            this.updateDataSource(updateData, oldProp);\n        }\n    };\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {DropDownBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownBaseModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'dropdownbase') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'sortOrder':\n                case 'dataSource':\n                case 'itemTemplate':\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'groupTemplate':\n                    this.renderGroupTemplate(this.list);\n                    if (this.ulElement && this.fixedHeaderElement) {\n                        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n                    }\n                    break;\n                case 'locale':\n                    if (this.list && (!isNullOrUndefined(this.liCollections) && this.liCollections.length === 0)) {\n                        this.l10nUpdate();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n            }\n        }\n    };\n    /**\n     * Build and render the component\n     *\n     * @param {boolean} isEmptyData - Specifies the component to initialize with list data or not.\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.render = function (e, isEmptyData) {\n        if (this.getModuleName() === 'listbox') {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content, attrs: { 'tabindex': '0' } });\n        }\n        else {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content });\n        }\n        this.list.classList.add(dropDownBaseClasses.root);\n        this.setFields();\n        var rippleModel = { duration: 300, selector: '.' + dropDownBaseClasses.li };\n        this.rippleFun = rippleEffect(this.list, rippleModel);\n        var group = this.element.querySelector('select>optgroup');\n        if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (this.getModuleName() === 'dropdownbase') {\n            if (this.element.getAttribute('tabindex')) {\n                this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n            }\n            removeClass([this.element], dropDownBaseClasses.root);\n            this.element.style.display = 'none';\n            var wrapperElement = this.createElement('div');\n            this.element.parentElement.insertBefore(wrapperElement, this.element);\n            wrapperElement.appendChild(this.element);\n            wrapperElement.appendChild(this.list);\n        }\n        this.setEnableRtl();\n        if (!isEmptyData) {\n            this.initialize(e);\n        }\n    };\n    DropDownBase.prototype.removeScrollEvent = function () {\n        if (this.list) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownBase.prototype.getModuleName = function () {\n        return 'dropdownbase';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownBase.prototype.getItems = function () {\n        return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     * @deprecated\n     */\n    DropDownBase.prototype.addItem = function (items, itemIndex) {\n        if (!this.list || (this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox')) {\n            this.renderList();\n        }\n        if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\n            var newList = [].slice.call(this.listData);\n            newList.push(items);\n            newList = this.getSortedDataSource(newList);\n            if (this.fields.groupBy) {\n                newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\n                itemIndex = newList.indexOf(items);\n            }\n            else {\n                itemIndex = newList.indexOf(items);\n            }\n        }\n        var itemsCount = this.getItems().length;\n        var isListboxEmpty = itemsCount === 0;\n        var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        items = (items instanceof Array ? items : [items]);\n        var index;\n        index = (isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1) ? itemsCount : itemIndex;\n        var fields = this.fields;\n        if (items && fields.groupBy) {\n            items = ListBase.groupDataSource(items, fields.properties);\n        }\n        var liCollections = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var isHeader = item.isHeader;\n            var li = this.createElement('li', { className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li, id: 'option-add-' + i });\n            var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n            if (isHeader) {\n                li.innerText = itemText;\n            }\n            if (this.itemTemplate && !isHeader) {\n                var itemCheck = this.templateCompiler(this.itemTemplate);\n                var compiledString = typeof this.itemTemplate !== 'function' &&\n                    itemCheck ? compile(select(this.itemTemplate, document).innerHTML.trim()) : compile(this.itemTemplate);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\n                if (addItemTemplate) {\n                    append(addItemTemplate, li);\n                }\n            }\n            else if (!isHeader) {\n                li.appendChild(document.createTextNode(itemText));\n            }\n            li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n            li.setAttribute('role', 'option');\n            this.notify('addItem', { module: 'CheckBoxSelection', item: li });\n            liCollections.push(li);\n            if (this.getModuleName() === 'listbox') {\n                this.listData.splice(isListboxEmpty ? this.listData.length : index, 0, item);\n                if (this.listData.length !== this.sortedData.length) {\n                    this.sortedData = this.listData;\n                }\n            }\n            else {\n                this.listData.push(item);\n            }\n            if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\n                index = null;\n            }\n            if (this.getModuleName() === 'listbox') {\n                this.updateActionCompleteData(li, item, isListboxEmpty ? null : index);\n            }\n            else {\n                this.updateActionCompleteData(li, item, index);\n            }\n            //Listbox event\n            this.trigger('beforeItemRender', { element: li, item: item });\n        }\n        if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n            if (!isNullOrUndefined(this.list)) {\n                this.list.innerHTML = '';\n                this.list.classList.remove(dropDownBaseClasses.noData);\n                this.isAddNewItemTemplate = true;\n                if (!isNullOrUndefined(this.ulElement)) {\n                    this.list.appendChild(this.ulElement);\n                }\n            }\n            this.liCollections = liCollections;\n            if (!isNullOrUndefined(liCollections) && !isNullOrUndefined(this.ulElement)) {\n                append(liCollections, this.ulElement);\n            }\n            this.updateAddItemList(this.list, itemsCount);\n        }\n        else {\n            if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n                this.ulElement.innerHTML = '';\n            }\n            var attr = [];\n            for (var i = 0; i < items.length; i++) {\n                var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n                for (var j = 0; j < listGroupItem.length; j++) {\n                    attr[j] = listGroupItem[j].innerText;\n                }\n                if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n                    for (var j = 0; j < listGroupItem.length; j++) {\n                        if (attr[j] === liCollections[i].innerText) {\n                            if (this.sortOrder === 'None') {\n                                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n                            }\n                            else {\n                                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\n                            }\n                            i = i + 1;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    if (this.liCollections[index]) {\n                        this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n                    }\n                    else {\n                        this.ulElement.appendChild(liCollections[i]);\n                    }\n                }\n                var tempLi = [].slice.call(this.liCollections);\n                tempLi.splice(index, 0, liCollections[i]);\n                this.liCollections = tempLi;\n                index += 1;\n                if (this.getModuleName() === 'multiselect') {\n                    this.updateDataList();\n                }\n            }\n        }\n        if (this.getModuleName() === 'listbox' && this.isReact) {\n            this.renderReactTemplates();\n        }\n        if (selectedItemValue || itemIndex === 0) {\n            this.updateSelection();\n        }\n        this.addedNewItem = true;\n    };\n    DropDownBase.prototype.validationAttribute = function (target, hidden) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        hidden.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (!target.getAttribute(attributes[i])) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            hidden.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    DropDownBase.prototype.setZIndex = function () {\n        // this is for component wise\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {\n        // this is for ComboBox custom value\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateAddItemList = function (list, itemCount) {\n        // this is for multiselect add item\n    };\n    DropDownBase.prototype.updateDataList = function () {\n        // this is for multiselect update list items\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownBase.prototype.getDataByValue = function (value) {\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (!isNullOrUndefined(item) && item === value) {\n                        return item;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                        return item;\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownBase.prototype.destroy = function () {\n        if (document.body.contains(this.list)) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            if (!isNullOrUndefined(this.rippleFun)) {\n                this.rippleFun();\n            }\n            detach(this.list);\n        }\n        this.liCollections = null;\n        this.ulElement = null;\n        this.list = null;\n        this.enableRtlElements = null;\n        this.rippleFun = null;\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], DropDownBase.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownBase.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property([])\n    ], DropDownBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownBase.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownBase.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], DropDownBase.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"destroyed\", void 0);\n    DropDownBase = __decorate([\n        NotifyPropertyChanges\n    ], DropDownBase);\n    return DropDownBase;\n}(Component));\nexport { DropDownBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { EventHandler, Property, Event, compile, KeyboardEvents, append, select } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, getUniqueID, formatUnit, isUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Animation, Browser, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, prepend, detach, classList } from '@syncfusion/ej2-base';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { incrementalSearch, resetIncrementalSearchValues } from '../common/incremental-search';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\n[];\n// don't use space in classnames\nexport var dropDownListClasses = {\n    root: 'e-dropdownlist',\n    hover: dropDownBaseClasses.hover,\n    selected: dropDownBaseClasses.selected,\n    rtl: dropDownBaseClasses.rtl,\n    li: dropDownBaseClasses.li,\n    disable: dropDownBaseClasses.disabled,\n    base: dropDownBaseClasses.root,\n    focus: dropDownBaseClasses.focus,\n    content: dropDownBaseClasses.content,\n    input: 'e-input-group',\n    inputFocus: 'e-input-focus',\n    icon: 'e-input-group-icon e-ddl-icon',\n    iconAnimation: 'e-icon-anim',\n    value: 'e-input-value',\n    device: 'e-ddl-device',\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    mobileFilter: 'e-ddl-device-filter',\n    footer: 'e-ddl-footer',\n    header: 'e-ddl-header',\n    clearIcon: 'e-clear-icon',\n    clearIconHide: 'e-clear-icon-hide',\n    popupFullScreen: 'e-popup-full-page',\n    disableIcon: 'e-ddl-disable-icon',\n    hiddenElement: 'e-ddl-hidden',\n    virtualList: 'e-list-item e-virtual-list',\n};\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @class */ (function (_super) {\n    __extends(DropDownList, _super);\n    /**\n     * * Constructor for creating the DropDownList component.\n     *\n     * @param {DropDownListModel} options - Specifies the DropDownList model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isListSearched = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.isTouched = false;\n        _this.IsScrollerAtEnd = function () {\n            return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n        };\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.preRender = function () {\n        this.valueTempElement = null;\n        this.element.style.opacity = '0';\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n        this.activeIndex = this.index;\n        this.queryString = '';\n    };\n    DropDownList.prototype.initializeData = function () {\n        this.isPopupOpen = false;\n        this.isDocumentClick = false;\n        this.isInteracted = false;\n        this.isFilterFocus = false;\n        this.beforePopupOpen = false;\n        this.initial = true;\n        this.initialRemoteRender = false;\n        this.isNotSearchList = false;\n        this.isTyped = false;\n        this.isSelected = false;\n        this.preventFocus = false;\n        this.preventAutoFill = false;\n        this.isValidKey = false;\n        this.typedString = '';\n        this.isEscapeKey = false;\n        this.isPreventBlur = false;\n        this.isTabKey = false;\n        this.actionCompleteData = { isUpdated: false };\n        this.actionData = { isUpdated: false };\n        this.prevSelectPoints = {};\n        this.isSelectCustom = false;\n        this.isDropDownClick = false;\n        this.preventAltUp = false;\n        this.isCustomFilter = false;\n        this.isSecondClick = false;\n        this.previousValue = null;\n        this.keyConfigure = {\n            tab: 'tab',\n            enter: '13',\n            escape: '27',\n            end: '35',\n            home: '36',\n            down: '40',\n            up: '38',\n            pageUp: '33',\n            pageDown: '34',\n            open: 'alt+40',\n            close: 'shift+tab',\n            hide: 'alt+38',\n            space: '32'\n        };\n        this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount,\n        };\n    };\n    DropDownList.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    DropDownList.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'VirtualScroll' });\n        }\n        return modules;\n    };\n    DropDownList.prototype.renderList = function (e, isEmptyData) {\n        _super.prototype.render.call(this, e, isEmptyData);\n        if (!(this.dataSource instanceof DataManager)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.enableVirtualization && this.isFiltering() && this.getModuleName() === 'combobox') {\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n            this.ulElement = this.list.querySelector('ul');\n        }\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    DropDownList.prototype.floatLabelChange = function () {\n        if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n            var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n            if (this.inputElement.value !== '' || this.isInteracted) {\n                classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n            }\n            else {\n                classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n            }\n        }\n    };\n    DropDownList.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        this.clearAll(e);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            this.virtualListInfo = null;\n            this.previousStartIndex = 0;\n            this.previousEndIndex = 0;\n        }\n    };\n    DropDownList.prototype.resetFocusElement = function () {\n        this.removeHover();\n        this.removeSelection();\n        this.removeFocus();\n        this.list.scrollTop = 0;\n        if (this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.ulElement)) {\n            var li = this.ulElement.querySelector('.' + dropDownListClasses.li);\n            if (this.enableVirtualization) {\n                li = this.liCollections[this.skeletonCount];\n            }\n            if (li) {\n                li.classList.add(dropDownListClasses.focus);\n            }\n        }\n    };\n    DropDownList.prototype.clearAll = function (e, properties) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (isNullOrUndefined(properties) || (!isNullOrUndefined(properties) &&\n            (isNullOrUndefined(properties.dataSource) ||\n                (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n            this.isActive = true;\n            this.resetSelection(properties);\n        }\n        var dataItem = this.getItemData();\n        if ((!this.allowObjectBinding && (this.previousValue === dataItem.value)) || (this.allowObjectBinding && this.previousValue && this.isObjectInArray(this.previousValue, [this.allowCustom ? this.value ? this.value : dataItem : dataItem.value ? this.getDataByValue(dataItem.value) : dataItem]))) {\n            return;\n        }\n        this.onChangeEvent(e);\n        this.checkAndResetCache();\n        if (this.enableVirtualization) {\n            this.updateInitialData();\n        }\n    };\n    DropDownList.prototype.resetSelection = function (properties) {\n        if (this.list) {\n            if ((!isNullOrUndefined(properties) &&\n                (isNullOrUndefined(properties.dataSource) ||\n                    (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n                this.selectedLI = null;\n                this.actionCompleteData.isUpdated = false;\n                this.actionCompleteData.ulElement = null;\n                this.actionCompleteData.list = null;\n                this.resetList(properties.dataSource);\n            }\n            else {\n                if (this.allowFiltering && this.getModuleName() !== 'autocomplete'\n                    && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list) &&\n                    this.actionCompleteData.list.length > 0) {\n                    this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n                }\n                this.resetFocusElement();\n            }\n        }\n        if (!isNullOrUndefined(this.hiddenElement)) {\n            this.hiddenElement.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            this.inputElement.value = '';\n        }\n        this.value = null;\n        this.itemData = null;\n        this.text = null;\n        this.index = null;\n        this.activeIndex = null;\n        this.item = null;\n        this.queryString = '';\n        if (this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n            this.valueTempElement = null;\n        }\n        this.setSelection(null, null);\n        this.isSelectCustom = false;\n        this.updateIconState();\n        this.cloneElements();\n    };\n    DropDownList.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    var updatedClassValue = (this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ')).trim();\n                    if (updatedClassValue !== '') {\n                        addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                    }\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[\"\" + htmlAttr] === 'disabled') {\n                    this.enabled = false;\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[\"\" + htmlAttr])) {\n                    this.readonly = true;\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.container.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'aria-label') {\n                    if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n                        this.inputElement.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (this.getModuleName() === 'dropdownlist') {\n                        this.inputWrapper.container.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder',\n                        'role', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n                        defaultAttr.push('tabindex');\n                    }\n                    if (validateAttr.indexOf(htmlAttr) > -1 || htmlAttr.indexOf('data') === 0) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputElement);\n                        }\n                        else {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n        if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n            this.inputWrapper.container.removeAttribute('tabindex');\n        }\n    };\n    DropDownList.prototype.getAriaAttributes = function () {\n        return {\n            'aria-disabled': 'false',\n            'role': 'combobox',\n            'aria-expanded': 'false',\n            'aria-live': 'polite',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownList.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    DropDownList.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.targetElement().setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hidePopup();\n            addClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.targetElement().tabIndex = -1;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownList.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    DropDownList.prototype.getLocaleName = function () {\n        return 'drop-down-list';\n    };\n    DropDownList.prototype.preventTabIndex = function (element) {\n        if (this.getModuleName() === 'dropdownlist') {\n            element.tabIndex = -1;\n        }\n    };\n    DropDownList.prototype.targetElement = function () {\n        return !isNullOrUndefined(this.inputWrapper) ? this.inputWrapper.container : null;\n    };\n    DropDownList.prototype.getNgDirective = function () {\n        return 'EJS-DROPDOWNLIST';\n    };\n    DropDownList.prototype.getElementByText = function (text) {\n        return this.getElementByValue(this.getValueByText(text));\n    };\n    DropDownList.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    DropDownList.prototype.initValue = function () {\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initialRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    DropDownList.prototype.updateValues = function () {\n        this.selectedValueInfo = this.viewPortInfo;\n        if (!isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(((this.fields.value) ? this.fields.value : ''), this.value) : this.value;\n            this.setSelection(this.getElementByValue(value), null);\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var element = this.getElementByText(this.text);\n            if (isNullOrUndefined(element)) {\n                this.setProperties({ text: null });\n                return;\n            }\n            else {\n                this.setSelection(element, null);\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DropDownList.prototype.onBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var target = e.relatedTarget;\n        var currentTarget = e.target;\n        var isPreventBlur = this.isPreventBlur;\n        this.isPreventBlur = false;\n        //IE 11 - issue\n        if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) ||\n            !this.isFilterLayout() && isNullOrUndefined(target))) {\n            if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n                this.filterInput.focus();\n            }\n            else {\n                this.targetElement().focus();\n            }\n            return;\n        }\n        if (this.isDocumentClick || (!isNullOrUndefined(this.popupObj)\n            && document.body.contains(this.popupObj.element) &&\n            this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter))) {\n            if (!this.beforePopupOpen) {\n                this.isDocumentClick = false;\n            }\n            return;\n        }\n        if (((this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement)\n            && (document.activeElement !== target || (document.activeElement === target &&\n                currentTarget.classList.contains(dropDownListClasses.inputFocus)))) ||\n            (isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering &&\n                currentTarget !== this.inputWrapper.container) || this.getModuleName() !== 'dropdownlist' &&\n            !this.inputWrapper.container.contains(target) || this.isTabKey) {\n            this.isDocumentClick = this.isPopupOpen ? true : false;\n            this.focusOutAction(e);\n            this.isTabKey = false;\n        }\n        if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n            this.isActive = false;\n            this.beforePopupOpen = false;\n        }\n    };\n    DropDownList.prototype.focusOutAction = function (e) {\n        this.isInteracted = false;\n        this.focusOut(e);\n        this.onFocusOut(e);\n    };\n    DropDownList.prototype.onFocusOut = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isSelected) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        this.floatLabelChange();\n        this.dispatchEvent(this.hiddenElement, 'change');\n        if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n            this.dispatchEvent(this.inputElement, 'blur');\n        }\n        if (this.inputWrapper.clearButton) {\n            addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n        }\n        this.trigger('blur');\n    };\n    DropDownList.prototype.onFocus = function (e) {\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            var args = { isInteracted: e ? true : false, event: e };\n            this.trigger('focus', args);\n        }\n        this.updateIconState();\n    };\n    DropDownList.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var val = (this.element.tagName === this.getNgDirective()) ? null : this.inputElement.getAttribute('value');\n            this.text = val;\n        }\n    };\n    DropDownList.prototype.wireEvent = function () {\n        EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        this.bindCommonEvent();\n    };\n    DropDownList.prototype.bindCommonEvent = function () {\n        EventHandler.add(this.targetElement(), 'blur', this.onBlurHandler, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.keyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.mobileKeyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        this.bindClearEvent();\n    };\n    DropDownList.prototype.windowResize = function () {\n        if (this.isPopupOpen) {\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n        }\n    };\n    DropDownList.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DropDownList.prototype.unBindCommonEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper) && this.targetElement()) {\n            EventHandler.remove(this.targetElement(), 'blur', this.onBlurHandler);\n        }\n        var formElement = this.inputElement && closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule.destroy();\n        }\n        if (this.showClearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n        }\n    };\n    DropDownList.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.wireListEvents = function () {\n        if (!isNullOrUndefined(this.list)) {\n            EventHandler.add(this.list, 'click', this.onMouseClick, this);\n            EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DropDownList.prototype.onSearch = function (e) {\n        if (e.charCode !== 32 && e.charCode !== 13) {\n            if (this.list === undefined) {\n                this.renderList();\n            }\n            this.searchKeyEvent = e;\n            this.onServerIncrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onServerIncrementalSearch = function (e) {\n        if (!this.isRequested && !isNullOrUndefined(this.list) &&\n            !isNullOrUndefined(this.list.querySelector('li')) && this.enabled && !this.readonly) {\n            this.incrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        this.keyboardEvent = null;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.setSelection(li, e);\n        if (Browser.isDevice && this.isFilterLayout()) {\n            history.back();\n        }\n        else {\n            var delay = 100;\n            this.closePopup(delay, e);\n        }\n    };\n    DropDownList.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    DropDownList.prototype.setHover = function (li) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    DropDownList.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    DropDownList.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    DropDownList.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    DropDownList.prototype.updateIncrementalItemIndex = function (startIndex, endIndex) {\n        this.incrementalStartIndex = startIndex;\n        this.incrementalEndIndex = endIndex;\n    };\n    DropDownList.prototype.incrementalSearch = function (e) {\n        if (this.liCollections.length > 0) {\n            if (this.enableVirtualization) {\n                var updatingincrementalindex = false;\n                var queryStringUpdated = false;\n                var activeElement = this.ulElement.getElementsByClassName('e-active')[0];\n                var currentValue = activeElement ? activeElement.textContent : null;\n                if (this.incrementalQueryString == '') {\n                    this.incrementalQueryString = String.fromCharCode(e.charCode);\n                    this.incrementalPreQueryString = this.incrementalQueryString;\n                }\n                else if (String.fromCharCode(e.charCode).toLocaleLowerCase() == this.incrementalPreQueryString.toLocaleLowerCase()) {\n                    queryStringUpdated = true;\n                }\n                else {\n                    this.incrementalQueryString = String.fromCharCode(e.charCode);\n                }\n                if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) || this.incrementalEndIndex == 0) {\n                    updatingincrementalindex = true;\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    if (this.incrementalEndIndex == 0) {\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                    }\n                    else {\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                    }\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                }\n                if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                    this.updateIncrementalView(0, this.itemCount);\n                }\n                var li = incrementalSearch(e.charCode, this.incrementalLiCollections, this.activeIndex, true, this.element.id, queryStringUpdated, currentValue, true);\n                while (isNullOrUndefined(li) && this.incrementalEndIndex < this.totalItemCount) {\n                    this.updateIncrementalItemIndex(this.incrementalEndIndex, this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100);\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n                    if (!isNullOrUndefined(li)) {\n                        break;\n                    }\n                    if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n                        this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n                    this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n                }\n                var index = li && this.getIndexByValue(li.getAttribute('data-value'));\n                if (!index) {\n                    for (var i = 0; i < this.incrementalLiCollections.length; i++) {\n                        if (!isNullOrUndefined(li) && !isNullOrUndefined(li.getAttribute('data-value')) && this.incrementalLiCollections[i].getAttribute('data-value') === li.getAttribute('data-value').toString()) {\n                            index = i;\n                            index = this.incrementalStartIndex + index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    index = index - this.skeletonCount;\n                }\n                if (index) {\n                    if ((!(this.viewPortInfo.startIndex >= index)) || (!(index >= this.viewPortInfo.endIndex))) {\n                        var startIndex = index - ((this.itemCount / 2) - 2) > 0 ? index - ((this.itemCount / 2) - 2) : 0;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                }\n                if (!isNullOrUndefined(li)) {\n                    var index_1 = this.getIndexByValue(li.getAttribute('data-value')) - this.skeletonCount;\n                    if (index_1 > this.itemCount / 2) {\n                        var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) : this.totalItemCount;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                    li = this.getElementByValue(li.getAttribute('data-value'));\n                    this.setSelection(li, e);\n                    this.setScrollPosition();\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    if (this.enableVirtualization && !this.fields.groupBy) {\n                        var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                        this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n                    }\n                    this.incrementalPreQueryString = this.incrementalQueryString;\n                }\n                else {\n                    this.updateIncrementalView(0, this.itemCount);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    this.list.scrollTop = 0;\n                }\n            }\n            else {\n                var li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true, this.element.id);\n                if (!isNullOrUndefined(li)) {\n                    this.setSelection(li, e);\n                    this.setScrollPosition();\n                }\n            }\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            this.spinnerElement.innerHTML = '';\n            this.spinnerElement = null;\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] ||\n                !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    DropDownList.prototype.keyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.keyboardEvent = e;\n        if (this.isPreventKeyAction && this.enableVirtualization) {\n            e.preventDefault();\n        }\n        var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n        var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n        this.isEscapeKey = e.action === 'escape';\n        this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            var isTabAction = e.action === 'tab' || e.action === 'close';\n            if (isNullOrUndefined(this.list) && !this.isRequested && !isTabAction && e.action !== 'escape') {\n                this.searchKeyEvent = e;\n                if (!this.enableVirtualization || (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38))) {\n                    this.renderList(e);\n                    this.UpdateSkeleton();\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.ulElement = this.list.querySelector('ul');\n                }\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                isNavigation && this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if ((isTabAction && this.getModuleName() !== 'autocomplete') && this.isPopupOpen\n                || e.action === 'escape') {\n                e.preventDefault();\n            }\n            this.isSelected = e.action === 'escape' ? false : this.isSelected;\n            this.isTyped = (isNavigation || e.action === 'escape') ? false : this.isTyped;\n            switch (e.action) {\n                case 'down':\n                case 'up':\n                    this.updateUpDownAction(e);\n                    break;\n                case 'pageUp':\n                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'pageDown':\n                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'home':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'end':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'space':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        if (!this.beforePopupOpen) {\n                            this.showPopup();\n                            e.preventDefault();\n                        }\n                    }\n                    break;\n                case 'open':\n                    this.showPopup(e);\n                    break;\n                case 'hide':\n                    this.preventAltUp = this.isPopupOpen;\n                    this.hidePopup(e);\n                    this.focusDropDown(e);\n                    break;\n                case 'enter':\n                    this.selectCurrentItem(e);\n                    break;\n                case 'tab':\n                    this.selectCurrentValueOnTab(e);\n                    break;\n                case 'escape':\n                case 'close':\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                        this.focusDropDown(e);\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.updateUpDownAction = function (e, isVirtualKeyAction) {\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var value_1 = this.getItemData().value;\n            if (isNullOrUndefined(value_1)) {\n                value_1 = 'null';\n            }\n            var filterIndex = this.getIndexByValue(value_1);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n        }\n        var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n        if (this.isSelectFocusItem(focusEle) && !isVirtualKeyAction) {\n            this.setSelection(focusEle, e);\n            if (this.enableVirtualization && !this.fields.groupBy && this.getModuleName() !== 'combobox') {\n                var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n            }\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var virtualIndex = this.activeIndex;\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            index = isVirtualKeyAction ? virtualIndex : index;\n            var startIndex = 0;\n            if (this.getModuleName() === 'autocomplete') {\n                startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n                index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            }\n            var nextItem = void 0;\n            if (this.getModuleName() !== 'autocomplete' || this.getModuleName() === 'autocomplete' && this.isPopupOpen) {\n                if (!this.enableVirtualization) {\n                    nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex]\n                        : this.liCollections[index];\n                }\n                else {\n                    if (!isVirtualKeyAction) {\n                        nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[this.skeletonCount]\n                            : this.liCollections[index];\n                        nextItem = !isNullOrUndefined(nextItem) && !nextItem.classList.contains('e-virtual-list') ? nextItem : null;\n                    }\n                    else {\n                        if (this.getModuleName() === 'autocomplete') {\n                            var value = this.getFormattedValue(this.selectedLI.getAttribute('data-value'));\n                            nextItem = this.getElementByValue(value);\n                        }\n                        else {\n                            nextItem = this.getElementByValue(this.getItemData().value);\n                        }\n                    }\n                }\n            }\n            if (!isNullOrUndefined(nextItem)) {\n                this.setSelection(nextItem, e);\n            }\n            else if (this.enableVirtualization && !this.isPopupOpen && this.getModuleName() !== 'autocomplete' && ((this.viewPortInfo.endIndex !== this.totalItemCount && e.action === 'down') || (this.viewPortInfo.startIndex !== 0 && e.action === 'up'))) {\n                if (e.action === 'down') {\n                    this.viewPortInfo.startIndex = (this.viewPortInfo.startIndex + this.itemCount) < (this.totalItemCount - this.itemCount) ? this.viewPortInfo.startIndex + this.itemCount : this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n                    this.resetList(this.dataSource, this.fields, this.query);\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n                    var value_2 = this.liCollections[0].getAttribute('data-value') !== \"null\" ? this.getFormattedValue(this.liCollections[0].getAttribute('data-value')) : null;\n                    var selectedData = this.getDataByValue(value_2);\n                    if (selectedData) {\n                        this.itemData = selectedData;\n                    }\n                }\n                else if (e.action === 'up') {\n                    this.viewPortInfo.startIndex = (this.viewPortInfo.startIndex - this.itemCount) > 0 ? this.viewPortInfo.startIndex - this.itemCount : 0;\n                    this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n                    this.resetList(this.dataSource, this.fields, this.query);\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n                    var value_3 = this.liCollections[this.liCollections.length - 1].getAttribute('data-value') !== \"null\" ? this.getFormattedValue(this.liCollections[this.liCollections.length - 1].getAttribute('data-value')) : null;\n                    var selectedData = this.getDataByValue(value_3);\n                    if (selectedData) {\n                        this.itemData = selectedData;\n                    }\n                }\n                this.UpdateSkeleton();\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n                this.handleVirtualKeyboardActions(e, this.pageCount);\n            }\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var value_4 = this.getItemData().value;\n            var filterIndex = this.getIndexByValueFilter(value_4);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n        }\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist' && this.filterInput) {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n        e.preventDefault();\n    };\n    DropDownList.prototype.updateHomeEndAction = function (e, isVirtualKeyAction) {\n        if (this.getModuleName() === 'dropdownlist') {\n            var findLi = 0;\n            if (e.action === 'home') {\n                findLi = 0;\n                if (this.enableVirtualization && this.isPopupOpen) {\n                    findLi = this.skeletonCount;\n                }\n                else if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.startIndex !== 0) {\n                    this.viewPortInfo.startIndex = 0;\n                    this.viewPortInfo.endIndex = this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n            }\n            else {\n                if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.endIndex !== this.totalItemCount) {\n                    this.viewPortInfo.startIndex = this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.totalItemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n                findLi = this.getItems().length - 1;\n            }\n            e.preventDefault();\n            if (this.activeIndex === findLi) {\n                if (isVirtualKeyAction) {\n                    this.setSelection(this.liCollections[findLi], e);\n                }\n                return;\n            }\n            this.setSelection(this.liCollections[findLi], e);\n        }\n    };\n    DropDownList.prototype.selectCurrentValueOnTab = function (e) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.selectCurrentItem(e);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                this.focusDropDown(e);\n            }\n        }\n    };\n    DropDownList.prototype.mobileKeyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if ((this.isEditTextBox()) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            if (this.list === undefined && !this.isRequested) {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if (e.action === 'enter') {\n                this.selectCurrentItem(e);\n            }\n        }\n    };\n    DropDownList.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        switch (e.action) {\n            case 'down':\n            case 'up':\n                if (this.itemData != null || this.getModuleName() === 'autocomplete') {\n                    this.updateUpDownAction(e, true);\n                }\n                break;\n            case 'pageUp':\n                var count = (pageCount * 2) - 4;\n                this.activeIndex = Math.round(count);\n                this.pageUpSelection(this.activeIndex - this.getPageCount(), e, true);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.activeIndex = 1;\n                this.pageDownSelection(this.activeIndex + this.getPageCount(), e, true);\n                e.preventDefault();\n                break;\n            case 'home':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n            case 'end':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n        }\n        this.keyboardEvent = null;\n    };\n    DropDownList.prototype.selectCurrentItem = function (e) {\n        if (this.isPopupOpen) {\n            var li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n            this.hidePopup(e);\n            this.focusDropDown(e);\n        }\n        else {\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    DropDownList.prototype.pageUpSelection = function (steps, event, isVirtualKeyAction) {\n        var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n        if ((this.enableVirtualization && this.activeIndex == null) || isVirtualKeyAction) {\n            previousItem = steps >= 0 ? this.liCollections[steps + this.skeletonCount + 1] : this.liCollections[0];\n        }\n        if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n            previousItem = this.liCollections[this.skeletonCount];\n        }\n        this.PageUpDownSelection(previousItem, event);\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n    };\n    DropDownList.prototype.PageUpDownSelection = function (previousItem, event) {\n        if (this.enableVirtualization) {\n            if (!isNullOrUndefined(previousItem) && ((this.getModuleName() !== 'autocomplete' && !previousItem.classList.contains('e-active')) || (this.getModuleName() === 'autocomplete' && !previousItem.classList.contains('e-item-focus')))) {\n                this.setSelection(previousItem, event);\n            }\n        }\n        else {\n            this.setSelection(previousItem, event);\n        }\n    };\n    DropDownList.prototype.pageDownSelection = function (steps, event, isVirtualKeyAction) {\n        var list = this.getItems();\n        var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n        if (this.enableVirtualization && this.skeletonCount > 0) {\n            steps = this.getModuleName() === 'dropdownlist' && this.allowFiltering ? steps + 1 : steps;\n            previousItem = steps < list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        if ((this.enableVirtualization && this.activeIndex == null) || isVirtualKeyAction) {\n            previousItem = steps <= list.length ? this.liCollections[steps + this.skeletonCount - 1] : this.liCollections[list.length - 1];\n        }\n        this.PageUpDownSelection(previousItem, event);\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n    };\n    DropDownList.prototype.unWireEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper)) {\n            EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n            EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n            EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n            EventHandler.remove(window, 'resize', this.windowResize);\n        }\n        this.unBindCommonEvent();\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.unWireListEvents = function () {\n        if (this.list) {\n            EventHandler.remove(this.list, 'click', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    DropDownList.prototype.checkSelector = function (id) {\n        return '[id=\"' + id.replace(/(:|\\.|\\[|\\]|,|=|@|\\\\|\\/|#)/g, '\\\\$1') + '\"]';\n    };\n    DropDownList.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, this.checkSelector(this.popupObj.element.id))) &&\n            !isNullOrUndefined(this.inputWrapper) && !this.inputWrapper.container.contains(e.target)) {\n            if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n                this.isDocumentClick = true;\n                var isActive = this.isRequested;\n                if (this.getModuleName() === 'combobox' && this.isTyped) {\n                    this.isInteracted = false;\n                }\n                this.hidePopup(e);\n                this.isInteracted = false;\n                if (!isActive) {\n                    this.onFocusOut(e);\n                    this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n                }\n            }\n        }\n        else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput)\n            && !(this.getModuleName() === 'combobox' &&\n                !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n            this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() ||\n                document.activeElement === this.filterInput);\n            e.preventDefault();\n        }\n    };\n    DropDownList.prototype.activeStateChange = function () {\n        if (this.isDocumentClick) {\n            this.hidePopup();\n            this.onFocusOut();\n            this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n    };\n    DropDownList.prototype.focusDropDown = function (e) {\n        if (!this.initial && this.isFilterLayout()) {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.dropDownClick = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        this.keyboardEvent = null;\n        if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n            return;\n        }\n        var target = e.target;\n        if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n            e.preventDefault();\n        }\n        if (!this.readonly) {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                if (this.isFilterLayout()) {\n                    this.focusDropDown(e);\n                }\n            }\n            else {\n                this.focusIn(e);\n                this.floatLabelChange();\n                this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n                this.isDropDownClick = true;\n                this.showPopup(e);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            // eslint-disable-next-line max-len\n            var duration = (this.element.tagName === this.getNgDirective() && this.itemTemplate) ? 500 : 100;\n            if (!this.isSecondClick) {\n                setTimeout(function () {\n                    proxy_1.cloneElements();\n                    proxy_1.isSecondClick = true;\n                }, duration);\n            }\n        }\n        else {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.cloneElements = function () {\n        if (this.list) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                this.actionCompleteData.ulElement = ulElement;\n            }\n        }\n    };\n    DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = li.getAttribute('data-value') !== \"null\" ? this.getFormattedValue(li.getAttribute('data-value')) : null;\n        var selectedData = this.getDataByValue(value);\n        if (!this.initial && !preventSelect && !isNullOrUndefined(e)) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                }\n                else {\n                    _this.selectEventCallback(li, e, preventSelect, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, e, preventSelect, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    DropDownList.prototype.selectEventCallback = function (li, e, preventSelect, selectedData, value) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (this.itemData != selectedData) {\n            this.previousValue = (!isNullOrUndefined(this.itemData)) ? typeof this.itemData == \"object\" && !this.allowObjectBinding ? this.checkFieldValue(this.itemData, this.fields.value.split('.')) : this.itemData : null;\n        }\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        li.setAttribute('aria-selected', 'true');\n        if (isNullOrUndefined(value)) {\n            value = 'null';\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var filterIndex = this.getIndexByValueFilter(value);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n            else {\n                this.activeIndex = this.getIndexByValue(value);\n            }\n        }\n        else {\n            this.activeIndex = this.getIndexByValue(value);\n        }\n    };\n    DropDownList.prototype.activeItem = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.removeSelection();\n            li.classList.add(dropDownBaseClasses.selected);\n            this.removeHover();\n            li.setAttribute('aria-selected', 'true');\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.setValue = function (e) {\n        var dataItem = this.getItemData();\n        if (dataItem.value === null) {\n            Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n        }\n        else if (!isNullOrUndefined(this.valueTempElement) && this.inputElement.previousSibling === this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n        }\n        if (!isNullOrUndefined(dataItem.value) && !this.enableVirtualization && this.allowFiltering) {\n            this.activeIndex = this.getIndexByValueFilter(dataItem.value);\n        }\n        var clearIcon = dropDownListClasses.clearIcon;\n        var isFilterElement = this.isFiltering() && this.filterInput && (this.getModuleName() === 'combobox');\n        var clearElement = isFilterElement && this.filterInput.parentElement.querySelector('.' + clearIcon);\n        if (this.isFiltering() && clearElement) {\n            clearElement.style.removeProperty('visibility');\n        }\n        if ((!this.allowObjectBinding && (this.previousValue === dataItem.value)) || (this.allowObjectBinding && (this.previousValue != null && this.isObjectInArray(this.previousValue, [this.allowCustom && this.isObjectCustomValue ? this.value ? this.value : dataItem : dataItem.value ? this.getDataByValue(dataItem.value) : dataItem])))) {\n            this.isSelected = false;\n            return true;\n        }\n        else {\n            this.isSelected = !this.initial ? true : false;\n            this.isSelectCustom = false;\n            if (this.getModuleName() === 'dropdownlist') {\n                this.updateIconState();\n            }\n            return false;\n        }\n    };\n    DropDownList.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n            if (this.enableVirtualization && this.value) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                if (this.dataSource instanceof DataManager && this.virtualGroupDataSource) {\n                    var getItem = new DataManager(this.virtualGroupDataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n                else {\n                    var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DropDownList.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.setValue(e)) {\n            return;\n        }\n        if ((!this.isPopupOpen && !isNullOrUndefined(li)) || (this.isPopupOpen && !isNullOrUndefined(e) &&\n            (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter'))) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n            this.setScrollPosition(e);\n        }\n        if (Browser.info.name !== 'mozilla') {\n            if (this.targetElement()) {\n                attributes(this.targetElement(), { 'aria-describedby': this.inputElement.id !== '' ? this.inputElement.id : this.element.id });\n                this.targetElement().removeAttribute('aria-live');\n            }\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n        }\n        else if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n        }\n    };\n    DropDownList.prototype.dropdownCompiler = function (dropdownTemplate) {\n        var checkTemplate = false;\n        if (typeof dropdownTemplate !== 'function' && dropdownTemplate) {\n            try {\n                checkTemplate = (document.querySelectorAll(dropdownTemplate).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownList.prototype.setValueTemplate = function () {\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['valueTemplate']);\n            if (this.valueTempElement) {\n                detach(this.valueTempElement);\n                this.inputElement.style.display = 'block';\n                this.valueTempElement = null;\n            }\n        }\n        if (!this.valueTempElement) {\n            this.valueTempElement = this.createElement('span', { className: dropDownListClasses.value });\n            this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n            this.inputElement.style.display = 'none';\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.valueTempElement.innerHTML = '';\n        }\n        var valuecheck = this.dropdownCompiler(this.valueTemplate);\n        if (typeof this.valueTemplate !== 'function' && valuecheck) {\n            compiledString = compile(document.querySelector(this.valueTemplate).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.valueTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var valueCompTemp = compiledString(this.itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, this.valueTempElement);\n        if (valueCompTemp && valueCompTemp.length > 0) {\n            append(valueCompTemp, this.valueTempElement);\n        }\n        this.renderReactTemplates();\n    };\n    DropDownList.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DropDownList.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    /**\n     * To trigger the change event for list.\n     *\n     * @param {MouseEvent | KeyboardEvent | TouchEvent} eve - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onChangeEvent = function (eve, isCustomValue) {\n        var _this = this;\n        var dataItem = this.getItemData();\n        var index = this.isSelectCustom ? null : this.activeIndex;\n        if (this.enableVirtualization) {\n            var datas = this.dataSource instanceof DataManager ? this.virtualGroupDataSource : this.dataSource;\n            if (dataItem.value && datas && datas.length > 0) {\n                var foundIndex = datas.findIndex(function (data) {\n                    return !isNullOrUndefined(dataItem.value) && getValue(_this.fields.value, data) === dataItem.value;\n                });\n                if (foundIndex !== -1) {\n                    index = foundIndex;\n                }\n            }\n        }\n        var value = this.allowObjectBinding ? isCustomValue ? this.value : this.getDataByValue(dataItem.value) : dataItem.value;\n        this.setProperties({ 'index': index, 'text': dataItem.text, 'value': value }, true);\n        this.detachChangeEvent(eve);\n    };\n    DropDownList.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    DropDownList.prototype.detachChangeEvent = function (eve) {\n        this.isSelected = false;\n        this.previousValue = this.value;\n        this.activeIndex = this.enableVirtualization ? this.getIndexByValue(this.value) : this.index;\n        this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n        if (!this.initial) {\n            var items = this.detachChanges(this.itemData);\n            var preItems = void 0;\n            if (typeof this.previousItemData === 'string' ||\n                typeof this.previousItemData === 'boolean' ||\n                typeof this.previousItemData === 'number') {\n                preItems = Object.defineProperties({}, {\n                    value: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    },\n                    text: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    }\n                });\n            }\n            else {\n                preItems = this.previousItemData;\n            }\n            this.setHiddenValue();\n            var eventArgs = {\n                e: eve,\n                item: this.item,\n                itemData: items,\n                previousItem: this.previousSelectedLI,\n                previousItemData: preItems,\n                isInteracted: eve ? true : false,\n                value: this.value,\n                element: this.element,\n                event: eve\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n        }\n        if ((isNullOrUndefined(this.value) || this.value === '') && this.floatLabelType !== 'Always') {\n            removeClass([this.inputWrapper.container], 'e-valid-input');\n        }\n    };\n    DropDownList.prototype.setHiddenValue = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            if (this.hiddenElement.querySelector('option')) {\n                var selectedElement = this.hiddenElement.querySelector('option');\n                selectedElement.textContent = this.text;\n                selectedElement.setAttribute('value', value.toString());\n            }\n            else {\n                if (!isNullOrUndefined(this.hiddenElement)) {\n                    this.hiddenElement.innerHTML = '<option selected>' + this.text + '</option>';\n                    var selectedElement = this.hiddenElement.querySelector('option');\n                    selectedElement.setAttribute('value', value.toString());\n                }\n            }\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /**\n     * Filter bar implementation\n     *\n     * @param {KeyboardEventArgs} e - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onFilterUp = function (e) {\n        if (!(e.ctrlKey && e.keyCode === 86) && (this.isValidKey || e.keyCode === 40 || e.keyCode === 38)) {\n            this.isValidKey = false;\n            this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n            switch (e.keyCode) {\n                case 38: //up arrow\n                case 40: //down arrow\n                    if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else {\n                        this.preventAutoFill = false;\n                    }\n                    this.preventAltUp = false;\n                    if (this.getModuleName() === 'autocomplete' && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                        attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                    }\n                    e.preventDefault();\n                    break;\n                case 46: //delete\n                case 8: //backspace\n                    this.typedString = this.filterInput.value;\n                    if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '' && this.queryString === '' && this.getModuleName() !== 'autocomplete') {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '') {\n                        if (this.list) {\n                            this.resetFocusElement();\n                        }\n                        this.activeIndex = null;\n                        if (this.getModuleName() !== 'dropdownlist') {\n                            this.preventAutoFill = true;\n                            this.searchLists(e);\n                            if (this.getModuleName() === 'autocomplete') {\n                                this.hidePopup();\n                            }\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                default:\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        this.getInitialData = true;\n                        this.renderList();\n                    }\n                    this.typedString = this.filterInput.value;\n                    this.preventAutoFill = false;\n                    this.searchLists(e);\n                    if ((this.enableVirtualization && this.getModuleName() !== 'autocomplete') || (this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount != 0)) {\n                        this.getFilteringSkeletonCount();\n                    }\n                    break;\n            }\n        }\n        else {\n            this.isValidKey = false;\n        }\n    };\n    DropDownList.prototype.onFilterDown = function (e) {\n        switch (e.keyCode) {\n            case 13: //enter\n                break;\n            case 40: //down arrow\n            case 38: //up arrow\n                this.queryString = this.filterInput.value;\n                e.preventDefault();\n                break;\n            case 9: //tab\n                if (this.isPopupOpen && this.getModuleName() !== 'autocomplete') {\n                    e.preventDefault();\n                }\n                break;\n            default:\n                this.prevSelectPoints = this.getSelectionPoints();\n                this.queryString = this.filterInput.value;\n                break;\n        }\n    };\n    DropDownList.prototype.removeFillSelection = function () {\n        if (this.isInteracted) {\n            var selection = this.getSelectionPoints();\n            this.inputElement.setSelectionRange(selection.end, selection.end);\n        }\n    };\n    DropDownList.prototype.getQuery = function (query) {\n        var filterQuery;\n        if (!this.isCustomFilter && this.allowFiltering && this.filterInput) {\n            filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n            var filterType = this.typedString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n            else if (((this.getModuleName() !== 'combobox') || this.enableVirtualization) || (this.isFiltering() && this.getModuleName() === 'combobox' && this.typedString !== '')) {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = (this.enableVirtualization && !isNullOrUndefined(this.customFilterQuery)) ? this.customFilterQuery.clone() : query ? query.clone() : this.query ? this.query.clone() : new Query();\n        }\n        if (this.enableVirtualization && (this.viewPortInfo.endIndex != 0) && (!(this.dataSource instanceof DataManager) || (this.dataSource instanceof DataManager && this.virtualGroupDataSource))) {\n            var takeValue = this.getTakeValue();\n            var alreadySkipAdded = false;\n            if (filterQuery) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        alreadySkipAdded = true;\n                        break;\n                    }\n                }\n            }\n            var queryTakeValue = 0;\n            var querySkipValue = 0;\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements_1 = 0; queryElements_1 < filterQuery.queries.length; queryElements_1++) {\n                    if (filterQuery.queries[queryElements_1].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements_1].e.nos;\n                    }\n                    if (filterQuery.queries[queryElements_1].fn === 'onTake') {\n                        queryTakeValue = takeValue <= filterQuery.queries[queryElements_1].e.nos ? filterQuery.queries[queryElements_1].e.nos : takeValue;\n                    }\n                }\n            }\n            if (queryTakeValue <= 0 && this.query && this.query.queries.length > 0) {\n                for (var queryElements_2 = 0; queryElements_2 < this.query.queries.length; queryElements_2++) {\n                    if (this.query.queries[queryElements_2].fn === 'onTake') {\n                        queryTakeValue = takeValue <= this.query.queries[queryElements_2].e.nos ? this.query.queries[queryElements_2].e.nos : takeValue;\n                    }\n                }\n            }\n            var skipExists = false;\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements_3 = 0; queryElements_3 < filterQuery.queries.length; queryElements_3++) {\n                    if (filterQuery.queries[queryElements_3].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements_3].e.nos;\n                        filterQuery.queries.splice(queryElements_3, 1);\n                        --queryElements_3;\n                        continue;\n                    }\n                    if (filterQuery.queries[queryElements_3].fn === 'onTake') {\n                        queryTakeValue = filterQuery.queries[queryElements_3].e.nos <= queryTakeValue ? queryTakeValue : filterQuery.queries[queryElements_3].e.nos;\n                        filterQuery.queries.splice(queryElements_3, 1);\n                        --queryElements_3;\n                    }\n                }\n            }\n            if (!skipExists && (this.allowFiltering || !this.isPopupOpen || !alreadySkipAdded)) {\n                if (querySkipValue > 0) {\n                    filterQuery.skip(querySkipValue);\n                }\n                else {\n                    filterQuery.skip(this.virtualItemStartIndex);\n                }\n            }\n            if (this.isIncrementalRequest) {\n                filterQuery.take(this.incrementalEndIndex);\n            }\n            else {\n                if (queryTakeValue > 0) {\n                    filterQuery.take(queryTakeValue);\n                }\n                else {\n                    filterQuery.take(takeValue);\n                }\n            }\n            filterQuery.requiresCount();\n        }\n        else if (this.enableVirtualization && (this.dataSource instanceof DataManager && !this.virtualGroupDataSource)) {\n            for (var queryElements_4 = 0; queryElements_4 < filterQuery.queries.length; queryElements_4++) {\n                if (filterQuery.queries[queryElements_4].fn === 'onSkip' || filterQuery.queries[queryElements_4].fn === 'onTake') {\n                    filterQuery.queries.splice(queryElements_4, 1);\n                    --queryElements_4;\n                }\n            }\n        }\n        return filterQuery;\n    };\n    DropDownList.prototype.getSelectionPoints = function () {\n        var input = this.inputElement;\n        return { start: Math.abs(input.selectionStart), end: Math.abs(input.selectionEnd) };\n    };\n    DropDownList.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.activeIndex = null;\n        this.isListSearched = true;\n        if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n        this.isDataFetched = false;\n        if (this.isFiltering()) {\n            this.checkAndResetCache();\n            var eventArgs_1 = {\n                preventDefaultAction: false,\n                text: this.filterInput.value,\n                updateData: function (dataSource, query, fields) {\n                    if (eventArgs_1.cancel) {\n                        return;\n                    }\n                    _this.isCustomFilter = true;\n                    _this.customFilterQuery = query;\n                    _this.filteringAction(dataSource, query, fields);\n                },\n                baseEventArgs: e,\n                cancel: false\n            };\n            this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                if (!eventArgs.cancel && !_this.isCustomFilter && !eventArgs.preventDefaultAction) {\n                    _this.filteringAction(_this.dataSource, null, _this.fields);\n                }\n            });\n        }\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    DropDownList.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFilter = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n        if (!isNullOrUndefined(this.filterInput)) {\n            this.beforePopupOpen = ((!this.isPopupOpen && this.getModuleName() === 'combobox' && this.filterInput.value === '') || this.getInitialData) ?\n                false : true;\n            var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n            if (this.filterInput.value.trim() === '' && !this.itemTemplate) {\n                this.actionCompleteData.isUpdated = false;\n                this.isTyped = false;\n                if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    if (this.enableVirtualization) {\n                        if (this.isFiltering()) {\n                            this.isPreventScrollAction = true;\n                            this.list.scrollTop = 0;\n                            this.previousStartIndex = 0;\n                            this.virtualListInfo = null;\n                        }\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n                        this.resetList(dataSource, fields, query);\n                        if (isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                            if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                                this.list.appendChild(this.createElement('div', {\n                                    className: 'e-virtual-ddl-content',\n                                    styles: this.getTransformValues()\n                                })).appendChild(this.list.querySelector('.e-list-parent'));\n                            }\n                            if (!this.list.querySelector('.e-virtual-ddl')) {\n                                var virualElement = this.createElement('div', {\n                                    id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                                });\n                                document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                            }\n                        }\n                    }\n                    this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n                }\n                this.isTyped = true;\n                if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n                    this.focusIndexItem();\n                    this.setScrollPosition();\n                }\n                this.isNotSearchList = true;\n            }\n            else {\n                this.isNotSearchList = false;\n                query = (this.filterInput.value.trim() === '') ? null : query;\n                if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n                    this.isPreventScrollAction = true;\n                    this.list.scrollTop = 0;\n                    this.previousStartIndex = 0;\n                    this.virtualListInfo = null;\n                }\n                this.resetList(dataSource, fields, query);\n                if (this.getModuleName() === 'dropdownlist' && this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    this.popupContentElement.setAttribute('role', 'status');\n                    this.popupContentElement.setAttribute('id', 'no-record');\n                    attributes(this.filterInputObj.container, { 'aria-activedescendant': 'no-record' });\n                }\n                if (this.enableVirtualization && isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                        this.list.appendChild(this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: this.getTransformValues()\n                        })).appendChild(this.list.querySelector('.e-list-parent'));\n                    }\n                    if (!this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = this.createElement('div', {\n                            id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                        });\n                        document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                }\n            }\n            if (this.enableVirtualization) {\n                this.getFilteringSkeletonCount();\n            }\n            this.renderReactTemplates();\n        }\n    };\n    DropDownList.prototype.setSearchBox = function (popupElement) {\n        if (this.isFiltering()) {\n            var parentElement = popupElement.querySelector('.' + dropDownListClasses.filterParent) ?\n                popupElement.querySelector('.' + dropDownListClasses.filterParent) : this.createElement('span', {\n                className: dropDownListClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: dropDownListClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ?\n                    [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            if (!isNullOrUndefined(this.cssClass)) {\n                if (this.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], parentElement);\n            prepend([parentElement], popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            if (!Browser.isDevice) {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.keyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            else {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.mobileKeyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            EventHandler.add(this.filterInput, 'input', this.onInput, this);\n            EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.pasteHandler, this);\n            return this.filterInputObj;\n        }\n        else {\n            return inputObject;\n        }\n    };\n    DropDownList.prototype.onInput = function (e) {\n        this.isValidKey = true;\n        if (this.getModuleName() === 'combobox') {\n            this.updateIconState();\n        }\n        // For filtering works in mobile firefox.\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.typedString = this.filterInput.value;\n            this.preventAutoFill = true;\n            this.searchLists(e);\n        }\n    };\n    DropDownList.prototype.pasteHandler = function (e) {\n        var _this = this;\n        setTimeout(function () {\n            _this.typedString = _this.filterInput.value;\n            _this.searchLists(e);\n        });\n    };\n    DropDownList.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        if (this.beforePopupOpen) {\n            this.renderPopup();\n        }\n    };\n    DropDownList.prototype.getTakeValue = function () {\n        return this.allowFiltering && this.getModuleName() === 'dropdownlist' && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        if (this.dataSource instanceof DataManager && !isNullOrUndefined(e) && !this.virtualGroupDataSource) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = e.count;\n        }\n        if (this.isNotSearchList && !this.enableVirtualization) {\n            this.isNotSearchList = false;\n            return;\n        }\n        if (this.getInitialData) {\n            this.updateActionCompleteDataValues(ulElement, list);\n        }\n        if (!this.preventPopupOpen && this.getModuleName() === 'combobox') {\n            this.beforePopupOpen = true;\n            this.preventPopupOpen = true;\n        }\n        var tempItemCount = this.itemCount;\n        if (this.isActive || !isNullOrUndefined(ulElement)) {\n            var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n            _super.prototype.onActionComplete.call(this, ulElement, list, e);\n            this.skeletonCount = this.totalItemCount != 0 && this.totalItemCount < (this.itemCount * 2) ? 0 : this.skeletonCount;\n            this.updateSelectElementData(this.allowFiltering);\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n                this.isRequested = false;\n                this.keyActionHandler(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n                this.incrementalSearch(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (!this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false', 'aria-label': 'listbox' });\n            }\n            if (this.initialRemoteRender) {\n                this.initial = true;\n                this.activeIndex = this.index;\n                this.initialRemoteRender = false;\n                if (this.value && this.dataSource instanceof DataManager) {\n                    var checkField_1 = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n                    var value_5 = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(checkField_1, this.value) : this.value;\n                    var fieldValue_1 = this.fields.value.split('.');\n                    var checkVal = list.some(function (x) {\n                        return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ?\n                            _this.checkFieldValue(x, fieldValue_1) === value_5 : x[checkField_1] === value_5;\n                    });\n                    if (this.enableVirtualization && this.virtualGroupDataSource) {\n                        checkVal = this.virtualGroupDataSource.some(function (x) {\n                            return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ?\n                                _this.checkFieldValue(x, fieldValue_1) === value_5 : x[checkField_1] === value_5;\n                        });\n                    }\n                    if (!checkVal) {\n                        this.dataSource.executeQuery(this.getQuery(this.query).where(new Predicate(checkField_1, 'equal', value_5)))\n                            .then(function (e) {\n                            if (e.result.length > 0) {\n                                _this.addItem(e.result, list.length);\n                                _this.updateValues();\n                            }\n                            else {\n                                _this.updateValues();\n                            }\n                        });\n                    }\n                    else {\n                        this.updateValues();\n                    }\n                }\n                else {\n                    this.updateValues();\n                }\n                this.initial = false;\n            }\n            else if (this.getModuleName() === 'autocomplete' && this.value) {\n                this.setInputValue();\n            }\n            if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n                if (!this.actionCompleteData.isUpdated || ((!this.isCustomFilter\n                    && !this.isFilterFocus) || (isNullOrUndefined(this.itemData) && this.allowFiltering)\n                    && ((this.dataSource instanceof DataManager)\n                        || (!isNullOrUndefined(this.dataSource) && !isNullOrUndefined(this.dataSource.length) &&\n                            this.dataSource.length !== 0)))) {\n                    if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                        setTimeout(function () {\n                            _this.updateActionCompleteDataValues(ulElement, list);\n                        }, 0);\n                    }\n                    else {\n                        this.updateActionCompleteDataValues(ulElement, list);\n                    }\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if ((this.allowCustom || (this.allowFiltering && !this.isValueInList(list, this.value) && this.dataSource instanceof DataManager)) && !this.enableVirtualization) {\n                    this.addNewItem(list, selectedItem);\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                else if ((this.allowCustom || (this.allowFiltering && this.isValueInList(list, this.value))) && !this.enableVirtualization) {\n                    this.addNewItem(list, selectedItem);\n                }\n                if (!isNullOrUndefined(this.itemData) || (isNullOrUndefined(this.itemData) && this.enableVirtualization)) {\n                    this.focusIndexItem();\n                }\n                if (this.enableVirtualization) {\n                    this.updateActionCompleteDataValues(ulElement, list);\n                }\n            }\n            else if (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && !this.isFiltering()) {\n                var value = this.getItemData().value;\n                this.activeIndex = this.getIndexByValue(value);\n                var element = this.findListElement(this.list, 'li', 'data-value', value);\n                this.selectedLI = element;\n            }\n            else if (this.enableVirtualization && this.getModuleName() === 'autocomplete') {\n                this.activeIndex = this.skeletonCount;\n            }\n            if (this.beforePopupOpen) {\n                this.renderPopup(e);\n                if (this.enableVirtualization) {\n                    if (!this.list.querySelector('.e-virtual-list')) {\n                        this.UpdateSkeleton();\n                        this.liCollections = this.list.querySelectorAll('.e-list-item');\n                    }\n                }\n                if (this.enableVirtualization && tempItemCount != this.itemCount) {\n                    this.resetList(this.dataSource, this.fields);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.isValueInList = function (list, valueToFind) {\n        if (Array.isArray(list)) {\n            for (var i = 0; i < list.length; i++) {\n                if (list[i] === valueToFind) {\n                    return true;\n                }\n            }\n        }\n        else if (typeof list === 'object' && list !== null) {\n            for (var key in list) {\n                if (Object.prototype.hasOwnProperty.call(list, key) && list[key] === valueToFind) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.checkFieldValue = function (list, fieldValue) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var checkField = list;\n        fieldValue.forEach(function (value) {\n            checkField = checkField[value];\n        });\n        return checkField;\n    };\n    DropDownList.prototype.updateActionCompleteDataValues = function (ulElement, list) {\n        this.actionCompleteData = { ulElement: ulElement.cloneNode(true), list: list, isUpdated: true };\n        if (this.actionData.list !== this.actionCompleteData.list && this.actionCompleteData.ulElement && this.actionCompleteData.list) {\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.addNewItem = function (listData, newElement) {\n        var _this = this;\n        if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n            var value_6 = this.getItemData().value;\n            var isExist = listData.some(function (data) {\n                return (((typeof data === 'string' || typeof data === 'number') && data === value_6) ||\n                    (getValue(_this.fields.value, data) === value_6));\n            });\n            if (!isExist) {\n                this.addItem(this.itemData);\n            }\n        }\n    };\n    DropDownList.prototype.updateActionCompleteData = function (li, item, index) {\n        var _this = this;\n        if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n            if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                setTimeout(function () {\n                    _this.actionCompleteDataUpdate(li, item, index);\n                }, 0);\n            }\n            else {\n                this.actionCompleteDataUpdate(li, item, index);\n            }\n        }\n    };\n    DropDownList.prototype.actionCompleteDataUpdate = function (li, item, index) {\n        if (index !== null) {\n            this.actionCompleteData.ulElement.\n                insertBefore(li.cloneNode(true), this.actionCompleteData.ulElement.childNodes[index]);\n        }\n        else {\n            this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n        }\n        if (this.isFiltering() && this.actionCompleteData.list && this.actionCompleteData.list.indexOf(item) < 0) {\n            this.actionCompleteData.list.push(item);\n        }\n    };\n    DropDownList.prototype.focusIndexItem = function () {\n        var value = this.getItemData().value;\n        this.activeIndex = this.getIndexByValue(value);\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.selectedLI = element;\n        this.activeItem(element);\n        if (!(this.enableVirtualization && isNullOrUndefined(element))) {\n            this.removeFocus();\n        }\n    };\n    DropDownList.prototype.updateSelection = function () {\n        var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        if (selectedItem) {\n            this.setProperties({ 'index': this.getIndexByValue(selectedItem.getAttribute('data-value')) });\n            this.activeIndex = this.index;\n        }\n        else {\n            this.removeFocus();\n            this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.updateSelectionList = function () {\n        var selectedItem = this.list && this.list.querySelector('.' + 'e-active');\n        if (!selectedItem && !isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            var findEle = this.findListElement(this.list, 'li', 'data-value', value);\n            if (findEle) {\n                findEle.classList.add('e-active');\n            }\n        }\n    };\n    DropDownList.prototype.removeFocus = function () {\n        var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n        if (highlightedItem && highlightedItem.length) {\n            removeClass(highlightedItem, dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.renderPopup = function (e) {\n        var _this = this;\n        if (this.popupObj && document.body.contains(this.popupObj.element)) {\n            this.refreshPopup();\n            return;\n        }\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle = _this.createElement('div', {\n                    id: _this.element.id + '_popup', className: 'e-ddl e-popup ' + (_this.cssClass !== null ? _this.cssClass : '')\n                });\n                popupEle.setAttribute('aria-label', _this.element.id);\n                popupEle.setAttribute('role', 'dialog');\n                var searchBox = _this.setSearchBox(popupEle);\n                _this.listContainerHeight = _this.allowFiltering && _this.getModuleName() === 'dropdownlist' && Browser.isDevice ? formatUnit(Math.round(window.outerHeight).toString() + 'px') : formatUnit(_this.popupHeight);\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate(popupEle);\n                }\n                append([_this.list], popupEle);\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate(popupEle);\n                }\n                document.body.appendChild(popupEle);\n                popupEle.style.top = '0px';\n                if (_this.enableVirtualization && _this.itemTemplate) {\n                    var listitems = popupEle.querySelectorAll('li.e-list-item:not(.e-virtual-list)');\n                    _this.listItemHeight = listitems.length > 0 ? Math.ceil(listitems[0].getBoundingClientRect().height) : 0;\n                }\n                if (_this.enableVirtualization && !_this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    _this.getSkeletonCount();\n                    _this.skeletonCount = _this.totalItemCount < (_this.itemCount * 2) ? 0 : _this.skeletonCount;\n                    if (!_this.list.querySelector('.e-virtual-ddl-content')) {\n                        _this.list.appendChild(_this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: _this.getTransformValues()\n                        })).appendChild(_this.list.querySelector('.e-list-parent'));\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = _this.getTransformValues();\n                    }\n                    _this.UpdateSkeleton();\n                    _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    _this.virtualItemCount = _this.itemCount;\n                    if (!_this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = _this.createElement('div', {\n                            id: _this.element.id + '_popup', className: 'e-virtual-ddl', styles: _this.GetVirtualTrackHeight()\n                        });\n                        popupEle.querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl')[0].style = _this.GetVirtualTrackHeight();\n                    }\n                }\n                popupEle.style.visibility = 'hidden';\n                if (_this.popupHeight !== 'auto') {\n                    _this.searchBoxHeight = 0;\n                    if (!isNullOrUndefined(searchBox.container) && _this.getModuleName() !== 'combobox' && _this.getModuleName() !== 'autocomplete') {\n                        _this.searchBoxHeight = (searchBox.container.parentElement).getBoundingClientRect().height;\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (_this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.headerTemplate) {\n                        _this.header = _this.header ? _this.header : popupEle.querySelector('.e-ddl-header');\n                        var height = Math.round(_this.header.getBoundingClientRect().height);\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.footerTemplate) {\n                        _this.footer = _this.footer ? _this.footer : popupEle.querySelector('.e-ddl-footer');\n                        var height = Math.round(_this.footer.getBoundingClientRect().height);\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    _this.list.style.maxHeight = (parseInt(_this.listContainerHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n                    popupEle.style.maxHeight = formatUnit(_this.popupHeight);\n                }\n                else {\n                    popupEle.style.height = 'auto';\n                }\n                var offsetValue = 0;\n                var left = void 0;\n                _this.isPreventScrollAction = true;\n                if (!isNullOrUndefined(_this.selectedLI) && (!isNullOrUndefined(_this.activeIndex) && _this.activeIndex >= 0)) {\n                    _this.setScrollPosition();\n                }\n                else if (_this.enableVirtualization) {\n                    _this.setScrollPosition();\n                }\n                else {\n                    _this.list.scrollTop = 0;\n                }\n                if (Browser.isDevice && (!_this.allowFiltering && (_this.getModuleName() === 'dropdownlist' ||\n                    (_this.isDropDownClick && _this.getModuleName() === 'combobox')))) {\n                    offsetValue = _this.getOffsetValue(popupEle);\n                    var firstItem = _this.isEmptyList() ? _this.list : _this.liCollections[0];\n                    if (!isNullOrUndefined(_this.inputElement)) {\n                        left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                            parseInt(getComputedStyle(_this.inputElement).paddingLeft, 10) +\n                            parseInt(getComputedStyle(_this.inputElement.parentElement).borderLeftWidth, 10));\n                    }\n                }\n                _this.createPopup(popupEle, offsetValue, left);\n                _this.popupContentElement = _this.popupObj.element.querySelector('.e-content');\n                _this.getFocusElement();\n                _this.checkCollision(popupEle);\n                if (Browser.isDevice) {\n                    if ((parseInt(_this.popupWidth.toString(), 10) > window.outerWidth) && !(_this.getModuleName() === 'dropdownlist' && _this.allowFiltering)) {\n                        _this.popupObj.element.classList.add('e-wide-popup');\n                    }\n                    _this.popupObj.element.classList.add(dropDownListClasses.device);\n                    if (_this.getModuleName() === 'dropdownlist' || (_this.getModuleName() === 'combobox'\n                        && !_this.allowFiltering && _this.isDropDownClick)) {\n                        _this.popupObj.collision = { X: 'fit', Y: 'fit' };\n                    }\n                    if (_this.isFilterLayout()) {\n                        _this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n                        _this.popupObj.position = { X: 0, Y: 0 };\n                        _this.popupObj.dataBind();\n                        attributes(_this.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n                        addClass([document.body, _this.popupObj.element], dropDownListClasses.popupFullScreen);\n                        _this.setSearchBoxPosition();\n                        _this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n                        _this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n                        EventHandler.add(_this.backIconElement, 'click', _this.clickOnBackIcon, _this);\n                        EventHandler.add(_this.clearIconElement, 'click', _this.clearText, _this);\n                    }\n                }\n                popupEle.style.visibility = 'visible';\n                addClass([popupEle], 'e-popup-close');\n                var scrollParentElements = _this.popupObj.getScrollableParent(_this.inputWrapper.container);\n                for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n                    var element = scrollParentElements_1[_i];\n                    EventHandler.add(element, 'scroll', _this.scrollHandler, _this);\n                }\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n                if (_this.enableVirtualization) {\n                    _this.notify(\"bindScrollEvent\", {\n                        module: \"VirtualScroll\",\n                        component: _this.getModuleName(),\n                        enable: _this.enableVirtualization,\n                    });\n                    setTimeout(function () {\n                        if (_this.value || _this.list.querySelector('.e-active')) {\n                            _this.updateSelectionList();\n                            if (_this.selectedValueInfo && _this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                                _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n                            }\n                            else {\n                                _this.scrollBottom(true, true);\n                            }\n                        }\n                    }, 5);\n                }\n                attributes(_this.targetElement(), { 'aria-expanded': 'true', 'aria-owns': _this.element.id + '_popup', 'aria-controls': _this.element.id });\n                if (_this.getModuleName() !== 'dropdownlist' && _this.list.classList.contains('e-nodata')) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': 'no-record' });\n                    _this.popupContentElement.setAttribute('role', 'status');\n                    _this.popupContentElement.setAttribute('id', 'no-record');\n                }\n                _this.inputElement.setAttribute('aria-expanded', 'true');\n                _this.inputElement.setAttribute('aria-controls', _this.element.id);\n                var inputParent = _this.isFiltering() ? _this.filterInput.parentElement : _this.inputWrapper.container;\n                addClass([inputParent], [dropDownListClasses.inputFocus]);\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, event: e, cancel: false, animation: animModel };\n                _this.trigger('open', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!isNullOrUndefined(_this.inputWrapper)) {\n                            addClass([_this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n                        }\n                        _this.renderReactTemplates();\n                        if (!isNullOrUndefined(_this.popupObj)) {\n                            _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.element : null);\n                        }\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    DropDownList.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick))) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.getOffsetValue = function (popupEle) {\n        var popupStyles = getComputedStyle(popupEle);\n        var borderTop = parseInt(popupStyles.borderTopWidth, 10);\n        var borderBottom = parseInt(popupStyles.borderBottomWidth, 10);\n        return this.setPopupPosition(borderTop + borderBottom);\n    };\n    DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputWrapper.container,\n            collision: this.enableRtl ? { X: 'fit', Y: 'flip' } : { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left,\n            position: this.enableRtl ? { X: 'right', Y: 'bottom' } : { X: 'left', Y: 'bottom' },\n            zIndex: this.zIndex,\n            close: function () {\n                if (!_this.isDocumentClick) {\n                    _this.focusDropDown();\n                }\n                // eslint-disable-next-line\n                if (_this.isReact) {\n                    _this.clearTemplate(['headerTemplate', 'footerTemplate']);\n                }\n                _this.isNotSearchList = false;\n                _this.isDocumentClick = false;\n                _this.destroyPopup();\n                if (_this.isFiltering() && _this.actionCompleteData.list && _this.actionCompleteData.list[0]) {\n                    _this.isActive = true;\n                    if (_this.enableVirtualization) {\n                        _this.onActionComplete(_this.ulElement, _this.listData, null, true);\n                    }\n                    else {\n                        _this.onActionComplete(_this.actionCompleteData.ulElement, _this.actionCompleteData.list, null, true);\n                    }\n                }\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                var actionList = _this.actionCompleteData && _this.actionCompleteData.ulElement &&\n                    _this.actionCompleteData.ulElement.querySelector('li');\n                var ulElement = _this.list.querySelector('ul li');\n                if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                }\n                else if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-active')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-active')[0].id });\n                }\n                if (_this.isFiltering() && _this.itemTemplate && (_this.element.tagName === _this.getNgDirective()) &&\n                    (actionList && ulElement && actionList.textContent !== ulElement.textContent) &&\n                    _this.element.tagName !== 'EJS-COMBOBOX') {\n                    _this.cloneElements();\n                }\n                if (_this.isFilterLayout()) {\n                    removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n                    _this.isFilterFocus = true;\n                    _this.filterInput.focus();\n                    if (_this.inputWrapper.clearButton) {\n                        addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n                    }\n                }\n                _this.activeStateChange();\n            },\n            targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hidePopup();\n                }\n            }\n        });\n    };\n    DropDownList.prototype.isEmptyList = function () {\n        return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n    };\n    DropDownList.prototype.getFocusElement = function () {\n        // combo-box used this method\n    };\n    DropDownList.prototype.isFilterLayout = function () {\n        return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n    };\n    DropDownList.prototype.scrollHandler = function () {\n        if (Browser.isDevice && ((this.getModuleName() === 'dropdownlist' &&\n            !this.isFilterLayout()) || (this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick))) {\n            if (this.element && !(this.isElementInViewport(this.element))) {\n                this.hidePopup();\n            }\n        }\n    };\n    DropDownList.prototype.isElementInViewport = function (element) {\n        var elementRect = element.getBoundingClientRect();\n        return (elementRect.top >= 0 && elementRect.left >= 0 && elementRect.bottom <= window.innerHeight && elementRect.right <= window.innerWidth);\n    };\n    ;\n    DropDownList.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.popupObj.element.style.maxHeight = '100%';\n        this.popupObj.element.style.width = '100%';\n        this.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    DropDownList.prototype.setPopupPosition = function (border) {\n        var offsetValue;\n        var popupOffset = border;\n        var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n        var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n        var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n        var liHeight = firstItem.getBoundingClientRect().height;\n        this.listItemHeight = liHeight;\n        var listHeight = this.list.offsetHeight / 2;\n        var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n        var lastItemOffsetValue = lastItem.offsetTop;\n        if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) &&\n            this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n            var count = this.list.offsetHeight / liHeight;\n            var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n            offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n            this.list.scrollTop = selectedLI.offsetTop;\n        }\n        else if (height > listHeight && !this.enableVirtualization) {\n            offsetValue = listHeight - liHeight / 2;\n            this.list.scrollTop = height - listHeight + liHeight / 2;\n        }\n        else {\n            offsetValue = height;\n        }\n        var inputHeight = this.inputWrapper.container.offsetHeight;\n        offsetValue = offsetValue + liHeight + popupOffset - ((liHeight - inputHeight) / 2);\n        return -offsetValue;\n    };\n    DropDownList.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        if (Browser.isDevice && (width.indexOf('px') > -1) && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            width = (parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2) + 'px';\n        }\n        return width;\n    };\n    DropDownList.prototype.scrollBottom = function (isInitial, isInitialSelection, keyAction) {\n        var _this = this;\n        if (isInitialSelection === void 0) { isInitialSelection = false; }\n        if (keyAction === void 0) { keyAction = null; }\n        if (isNullOrUndefined(this.selectedLI) && this.enableVirtualization) {\n            this.selectedLI = this.list.querySelector('.' + dropDownBaseClasses.li);\n            if (!isNullOrUndefined(this.selectedLI) && this.selectedLI.classList.contains('e-virtual-list')) {\n                this.selectedLI = this.liCollections[this.skeletonCount];\n            }\n        }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            this.isUpwardScrolling = false;\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var lastElementValue = this.list.querySelector('li:last-of-type') ? this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n            var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            var isScrollerCHanged = false;\n            var isScrollTopChanged = false;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10);\n            var boxRange = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop;\n            boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n                isScrollerCHanged = this.isKeyBoardAction;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction == \"pageDown\" ? this.getPageCount() - 2 : 1;\n                if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n                    if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue && currentElementValue === lastElementValue && keyAction != \"end\" && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = true;\n                        if (this.enableVirtualization && this.itemTemplate) {\n                            this.list.scrollTop += nextOffset;\n                        }\n                        else {\n                            if (this.enableVirtualization) {\n                                liCount = keyAction == \"pageDown\" ? this.getPageCount() : liCount;\n                            }\n                            this.list.scrollTop += this.selectedLI.offsetHeight * liCount;\n                        }\n                        this.isPreventKeyAction = this.IsScrollerAtEnd() ? false : this.isPreventKeyAction;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                    }\n                    else if (this.enableVirtualization && keyAction == \"end\") {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                        this.list.scrollTop = this.list.scrollHeight;\n                    }\n                    else {\n                        if (keyAction == \"pageDown\" && this.enableVirtualization && !this.isVirtualScrolling) {\n                            this.isPreventKeyAction = false;\n                            this.isKeyBoardAction = false;\n                            this.isPreventScrollAction = false;\n                            nextOffset = nextOffset + (this.selectedLI.offsetHeight * liCount);\n                        }\n                        this.list.scrollTop = nextOffset;\n                    }\n                }\n                else {\n                    this.list.scrollTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex * this.listItemHeight : 0;\n                }\n                isScrollerCHanged = this.isKeyBoardAction;\n                isScrollTopChanged = true;\n            }\n            this.isKeyBoardAction = isScrollerCHanged;\n            if (this.enableVirtualization && this.fields.groupBy && this.fixedHeaderElement && (keyAction == \"down\")) {\n                setTimeout(function () {\n                    _this.scrollStop(null, true);\n                }, 100);\n            }\n        }\n    };\n    DropDownList.prototype.scrollTop = function (keyAction) {\n        if (keyAction === void 0) { keyAction = null; }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var selectedLiOffsetTop = (this.virtualListInfo && this.virtualListInfo.startIndex) ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n            var nextOffset = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) - this.list.scrollTop;\n            var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ? this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n            nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n            var boxRange = (selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop);\n            var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0 || isPageUpKeyAction) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction == \"pageUp\" ? this.getPageCount() - 2 : 1;\n                if (this.enableVirtualization) {\n                    liCount = keyAction == \"pageUp\" ? this.getPageCount() : liCount;\n                }\n                if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue && currentElementValue === firstElementValue && keyAction != \"home\" && !this.isVirtualScrolling) {\n                    this.isUpwardScrolling = true;\n                    this.isPreventKeyAction = true;\n                    this.list.scrollTop -= this.selectedLI.offsetHeight * liCount;\n                    this.isPreventKeyAction = this.list.scrollTop != 0 ? this.isPreventKeyAction : false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                else if (this.enableVirtualization && keyAction == \"home\") {\n                    this.isPreventScrollAction = false;\n                    this.isPreventKeyAction = true;\n                    this.isKeyBoardAction = false;\n                    this.list.scrollTo(0, 0);\n                }\n                else {\n                    if (keyAction == \"pageUp\" && this.enableVirtualization && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                        nextOffset = nextOffset - (this.selectedLI.offsetHeight * liCount);\n                    }\n                    this.list.scrollTop = this.list.scrollTop + nextOffset;\n                }\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                    this.fixedHeaderElement.offsetHeight : 0);\n            }\n        }\n    };\n    DropDownList.prototype.isEditTextBox = function () {\n        return false;\n    };\n    DropDownList.prototype.isFiltering = function () {\n        return this.allowFiltering;\n    };\n    DropDownList.prototype.isPopupButton = function () {\n        return true;\n    };\n    DropDownList.prototype.setScrollPosition = function (e) {\n        this.isPreventScrollAction = true;\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.isKeyBoardAction = true;\n                    this.scrollBottom(false, false, e.action);\n                    break;\n                default:\n                    this.isKeyBoardAction = e.action == 'up' || e.action == 'pageUp' || e.action == 'open';\n                    this.scrollTop(e.action);\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n        this.isKeyBoardAction = false;\n    };\n    DropDownList.prototype.clearText = function () {\n        this.filterInput.value = this.typedString = '';\n        this.searchLists(null);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            }\n            this.getSkeletonCount();\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n            }\n        }\n    };\n    DropDownList.prototype.setEleWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.inputWrapper.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    DropDownList.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        var isFilterValue = !isNullOrUndefined(this.filterInput) && !isNullOrUndefined(this.filterInput.value) && this.filterInput.value !== '';\n        var typedString = this.getModuleName() === 'combobox' ? this.typedString : null;\n        this.isTyped = false;\n        this.isVirtualTrackHeight = false;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        this.keyboardEvent = null;\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.isActive = false;\n        this.filterInputObj = null;\n        this.isDropDownClick = false;\n        this.preventAutoFill = false;\n        var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n            var element = scrollableParentElements_1[_i];\n            EventHandler.remove(element, 'scroll', this.scrollHandler);\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n        }\n        if (this.isFilterLayout()) {\n            if (!Browser.isDevice) {\n                this.searchKeyModule.destroy();\n                if (this.clearIconElement) {\n                    EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n                }\n            }\n            if (this.backIconElement) {\n                EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n                EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n            }\n            if (!isNullOrUndefined(this.filterInput)) {\n                EventHandler.remove(this.filterInput, 'input', this.onInput);\n                EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.filterInput, 'blur', this.onBlurHandler);\n                EventHandler.remove(this.filterInput, 'paste', this.pasteHandler);\n            }\n            if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n                this.filterInput.removeAttribute('aria-activedescendant');\n            }\n            this.filterInput = null;\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'false' });\n        this.inputElement.setAttribute('aria-expanded', 'false');\n        this.targetElement().removeAttribute('aria-owns');\n        this.targetElement().removeAttribute('aria-activedescendant');\n        this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n        if (this.isFiltering()) {\n            this.actionCompleteData.isUpdated = false;\n        }\n        if (this.enableVirtualization) {\n            if ((this.value == null || this.isTyped)) {\n                this.viewPortInfo.endIndex = this.viewPortInfo && this.viewPortInfo.endIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n                if (this.getModuleName() === 'autocomplete' || (this.getModuleName() === 'dropdownlist' && !isNullOrUndefined(this.typedString) && this.typedString != \"\") || (this.getModuleName() === 'combobox' && this.allowFiltering && !isNullOrUndefined(this.typedString) && this.typedString != \"\")) {\n                    this.checkAndResetCache();\n                }\n            }\n            else if (this.getModuleName() === 'autocomplete') {\n                this.checkAndResetCache();\n            }\n            if ((this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox') && !(this.skeletonCount == 0)) {\n                this.getSkeletonCount(true);\n            }\n        }\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel, event: e || null };\n        this.trigger('close', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.popupObj) &&\n                !isNullOrUndefined(_this.popupObj.element.querySelector('.e-fixed-head'))) {\n                var fixedHeader = _this.popupObj.element.querySelector('.e-fixed-head');\n                fixedHeader.parentNode.removeChild(fixedHeader);\n                _this.fixedHeaderElement = null;\n            }\n            if (!eventArgs.cancel) {\n                if (_this.getModuleName() === 'autocomplete') {\n                    _this.rippleFun();\n                }\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n        if (Browser.isDevice && !eventArgs.cancel && this.popupObj.element.classList.contains('e-wide-popup')) {\n            this.popupObj.element.classList.remove('e-wide-popup');\n        }\n        var dataSourceCount;\n        if (this.dataSource instanceof DataManager) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ? this.virtualGroupDataSource.length : 0;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.enableVirtualization && this.isFiltering() && isFilterValue && this.totalItemCount !== dataSourceCount) {\n            this.updateInitialData();\n            this.checkAndResetCache();\n        }\n    };\n    DropDownList.prototype.updateInitialData = function () {\n        var currentData = this.selectData;\n        var ulElement = this.renderItems(currentData, this.fields);\n        this.list.scrollTop = 0;\n        this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        if (this.getModuleName() === 'combobox') {\n            this.typedString = \"\";\n        }\n        this.previousStartIndex = 0;\n        this.previousEndIndex = 0;\n        if (this.dataSource instanceof DataManager) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ? this.virtualGroupDataSource.length : 0;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        if (this.getModuleName() !== 'autocomplete' && this.totalItemCount != 0 && this.totalItemCount > (this.itemCount * 2)) {\n            this.getSkeletonCount();\n        }\n        this.UpdateSkeleton();\n        this.listData = currentData;\n        this.updateActionCompleteDataValues(ulElement, currentData);\n        this.liCollections = this.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n    };\n    DropDownList.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.isFilterFocus = false;\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    DropDownList.prototype.clickOnBackIcon = function () {\n        this.hidePopup();\n        this.focusIn();\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.render = function () {\n        this.preselectedIndex = !isNullOrUndefined(this.index) ? this.index : null;\n        if (this.element.tagName === 'INPUT') {\n            this.inputElement = this.element;\n            if (isNullOrUndefined(this.inputElement.getAttribute('role'))) {\n                this.inputElement.setAttribute('role', 'combobox');\n            }\n            if (isNullOrUndefined(this.inputElement.getAttribute('type'))) {\n                this.inputElement.setAttribute('type', 'text');\n            }\n            this.inputElement.setAttribute('aria-expanded', 'false');\n        }\n        else {\n            this.inputElement = this.createElement('input', { attrs: { role: 'combobox', type: 'text' } });\n            if (this.element.tagName !== this.getNgDirective()) {\n                this.element.style.display = 'none';\n            }\n            this.element.parentElement.insertBefore(this.inputElement, this.element);\n            this.preventTabIndex(this.inputElement);\n        }\n        var updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            }\n        }, this.createElement);\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.inputWrapper.container);\n        }\n        else {\n            this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n        }\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'aria-label': this.getModuleName(), 'tabindex': '-1', 'class': dropDownListClasses.hiddenElement }\n        });\n        prepend([this.hiddenElement], this.inputWrapper.container);\n        this.validationAttribute(this.element, this.hiddenElement);\n        this.setReadOnly();\n        this.setFields();\n        this.inputWrapper.container.style.width = formatUnit(this.width);\n        this.inputWrapper.container.classList.add('e-ddl');\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n        this.wireEvent();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement.id = id + '_hidden';\n        this.targetElement().setAttribute('tabindex', this.tabIndex);\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n            this.inputElement.setAttribute('aria-label', this.getModuleName());\n        }\n        else if (this.getModuleName() === 'dropdownlist') {\n            attributes(this.targetElement(), { 'aria-label': this.getModuleName() });\n            this.inputElement.setAttribute('aria-label', this.getModuleName());\n            this.inputElement.setAttribute('aria-expanded', 'false');\n            this.inputElement.setAttribute('aria-controls', this.element.id + '_popups');\n        }\n        attributes(this.targetElement(), this.getAriaAttributes());\n        this.updateDataAttribute(this.htmlAttributes);\n        this.setHTMLAttributes();\n        if (this.targetElement() === this.inputElement) {\n            this.inputElement.removeAttribute('aria-labelledby');\n        }\n        if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n            if (this.enableVirtualization) {\n                this.listItemHeight = this.getListHeight();\n                this.getSkeletonCount();\n                this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n                if (this.index !== null) {\n                    this.activeIndex = this.index + this.skeletonCount;\n                }\n            }\n            this.initValue();\n            this.selectedValueInfo = this.viewPortInfo;\n            if (this.enableVirtualization) {\n                this.activeIndex = this.activeIndex + this.skeletonCount;\n            }\n        }\n        else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n            var selectElement = this.element;\n            this.value = this.allowObjectBinding ? this.getDataByValue(selectElement.options[selectElement.selectedIndex].value) : selectElement.options[selectElement.selectedIndex].value;\n            this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n            this.initValue();\n        }\n        this.setEnabled();\n        this.preventTabIndex(this.element);\n        if (!this.enabled) {\n            this.targetElement().tabIndex = -1;\n        }\n        this.initial = false;\n        this.element.style.opacity = '';\n        this.inputElement.onselect = function (e) {\n            e.stopImmediatePropagation();\n        };\n        this.inputElement.onchange = function (e) {\n            e.stopImmediatePropagation();\n        };\n        if (this.element.hasAttribute('autofocus')) {\n            this.focusIn();\n        }\n        if (!isNullOrUndefined(this.text)) {\n            this.inputElement.setAttribute('value', this.text);\n        }\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        var floatLabelElement = this.inputWrapper.container.getElementsByClassName('e-float-text')[0];\n        if (!isNullOrUndefined(this.element.id) && this.element.id !== '' && !isNullOrUndefined(floatLabelElement)) {\n            floatLabelElement.id = 'label_' + this.element.id.replace(/ /g, '_');\n            attributes(this.inputElement, { 'aria-labelledby': floatLabelElement.id });\n        }\n        this.renderComplete();\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        if (this.enableVirtualization) {\n            this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n        }\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n    };\n    DropDownList.prototype.getListHeight = function () {\n        var listParent = this.createElement('div', {\n            className: 'e-dropdownbase'\n        });\n        var item = this.createElement('li', {\n            className: 'e-list-item'\n        });\n        var listParentHeight = formatUnit(this.popupHeight);\n        listParent.style.height = (parseInt(listParentHeight, 10)).toString() + 'px';\n        listParent.appendChild(item);\n        document.body.appendChild(listParent);\n        this.virtualListHeight = listParent.getBoundingClientRect().height;\n        var listItemHeight = Math.ceil(item.getBoundingClientRect().height);\n        listParent.remove();\n        return listItemHeight;\n    };\n    DropDownList.prototype.setFooterTemplate = function (popupEle) {\n        var compiledString;\n        if (this.footer) {\n            if (this.isReact && typeof this.footerTemplate === 'function') {\n                this.clearTemplate(['footerTemplate']);\n            }\n            else {\n                this.footer.innerHTML = '';\n            }\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], dropDownListClasses.footer);\n        }\n        var footercheck = this.dropdownCompiler(this.footerTemplate);\n        if (typeof this.footerTemplate !== 'function' && footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var footerCompTemp = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (footerCompTemp && footerCompTemp.length > 0) {\n            append(footerCompTemp, this.footer);\n        }\n        append([this.footer], popupEle);\n    };\n    DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n        var compiledString;\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], dropDownListClasses.header);\n        }\n        var headercheck = this.dropdownCompiler(this.headerTemplate);\n        if (typeof this.headerTemplate !== 'function' && headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var headerCompTemp = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (headerCompTemp && headerCompTemp.length) {\n            append(headerCompTemp, this.header);\n        }\n        var contentEle = popupEle.querySelector('div.e-content');\n        popupEle.insertBefore(this.header, contentEle);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    DropDownList.prototype.setOldText = function (text) {\n        this.text = text;\n    };\n    DropDownList.prototype.setOldValue = function (value) {\n        this.value = value;\n    };\n    DropDownList.prototype.refreshPopup = function () {\n        if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) &&\n            ((this.allowFiltering && !(Browser.isDevice && this.isFilterLayout())) || this.getModuleName() === 'autocomplete')) {\n            removeClass([this.popupObj.element], 'e-popup-close');\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.checkData = function (newProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) && this.itemTemplate && this.allowFiltering &&\n            !(this.isListSearched && (newProp.dataSource instanceof DataManager))) {\n            this.list = null;\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n        }\n        this.isListSearched = false;\n        var isChangeValue = Object.keys(newProp).indexOf('value') !== -1 && isNullOrUndefined(newProp.value);\n        var isChangeText = Object.keys(newProp).indexOf('text') !== -1 && isNullOrUndefined(newProp.text);\n        if (this.getModuleName() !== 'autocomplete' && this.allowFiltering && (isChangeValue || isChangeText)) {\n            this.itemData = null;\n        }\n        if (this.allowFiltering && newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n            this.actionData = this.actionCompleteData;\n        }\n        else if (this.allowFiltering && newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            this.actionCompleteData = this.getModuleName() === 'combobox' ?\n                { ulElement: null, list: null, isUpdated: false } : this.actionCompleteData;\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.updateDataSource = function (props, oldProps) {\n        if (this.inputElement.value !== '' || (!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0)))) {\n            this.clearAll(null, props);\n        }\n        if ((this.fields.groupBy && props.fields) && !this.isGroupChecking && this.list) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (!(!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0))) || ((props.dataSource instanceof DataManager) || (!isNullOrUndefined(props) && Array.isArray(props.dataSource) && !isNullOrUndefined(oldProps) && Array.isArray(oldProps.dataSource) && props.dataSource.length !== oldProps.dataSource.length))) {\n            this.typedString = '';\n            this.resetList(this.dataSource);\n        }\n        if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n            this.checkCustomValue();\n        }\n    };\n    DropDownList.prototype.checkCustomValue = function () {\n        var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        this.itemData = this.getDataByValue(currentValue);\n        var dataItem = this.getItemData();\n        var value = this.allowObjectBinding ? this.itemData : dataItem.value;\n        this.setProperties({ 'text': dataItem.text, 'value': value });\n    };\n    DropDownList.prototype.updateInputFields = function () {\n        if (this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @private\n     * @param {DropDownListModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownListModel} oldProp - Returns the previous previous value of the component.\n     * @returns {void}\n     */\n    DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!isNullOrUndefined(newProp.dataSource) && !this.isTouched && (isNullOrUndefined(newProp.value) && isNullOrUndefined(newProp.index)) && !isNullOrUndefined(this.preselectedIndex)) {\n            newProp.index = this.preselectedIndex;\n        }\n        if (!isNullOrUndefined(newProp.value) || !isNullOrUndefined(newProp.index)) {\n            this.isTouched = true;\n        }\n        if (this.getModuleName() === 'dropdownlist') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    this_1.getSkeletonCount();\n                    this_1.checkAndResetCache();\n                    break;\n                case 'htmlAttributes':\n                    this_1.setHTMLAttributes();\n                    break;\n                case 'width':\n                    this_1.setEleWidth(newProp.width);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this_1.inputElement);\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this_1.filterInput) {\n                        Input.setPlaceholder(newProp.filterBarPlaceholder, this_1.filterInput);\n                    }\n                    break;\n                case 'readonly':\n                    if (this_1.getModuleName() !== 'dropdownlist') {\n                        Input.setReadonly(newProp.readonly, this_1.inputElement);\n                    }\n                    this_1.setReadOnly();\n                    break;\n                case 'cssClass':\n                    this_1.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'enableRtl':\n                    this_1.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this_1.setEnable();\n                    break;\n                case 'text':\n                    if (newProp.text === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (this_1.enableVirtualization) {\n                        this_1.updateValues();\n                        this_1.updateInputFields();\n                        this_1.notify(\"setCurrentViewDataAsync\", {\n                            module: \"VirtualScroll\",\n                        });\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender) {\n                        var li = this_1.getElementByText(newProp.text);\n                        if (!this_1.checkValidLi(li)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.text, oldProp.text, 'text');\n                            }\n                            else if (newProp.text && this_1.dataSource instanceof DataManager) {\n                                var listLength_1 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.text) ? this_1.fields.value : this_1.fields.text;\n                                this_1.typedString = '';\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.text)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_1);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldText(oldProp.text);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldText(oldProp.text);\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'value':\n                    if (newProp.value === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) && !isNullOrUndefined(oldProp.value) && this_1.isObjectInArray(newProp.value, [oldProp.value])) {\n                        return { value: void 0 };\n                    }\n                    if (this_1.enableVirtualization) {\n                        this_1.updateValues();\n                        this_1.updateInputFields();\n                        this_1.notify(\"setCurrentViewDataAsync\", {\n                            module: \"VirtualScroll\",\n                        });\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                        break;\n                    }\n                    this_1.notify('beforeValueChange', { newProp: newProp }); // gird component value type change\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender) {\n                        var value = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ? getValue((this_1.fields.value) ? this_1.fields.value : '', newProp.value) : newProp.value;\n                        var item = this_1.getElementByValue(value);\n                        if (!this_1.checkValidLi(item)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.value, oldProp.value, 'value');\n                            }\n                            else if (newProp.value && this_1.dataSource instanceof DataManager) {\n                                var listLength_2 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.value) ? this_1.fields.text : this_1.fields.value;\n                                this_1.typedString = '';\n                                var value_7 = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ? getValue(checkField, newProp.value) : newProp.value;\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', value_7)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_2);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldValue(oldProp.value);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldValue(oldProp.value);\n                            }\n                        }\n                        this_1.updateInputFields();\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                    }\n                    break;\n                case 'index':\n                    if (newProp.index === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender && this_1.liCollections) {\n                        var element = this_1.liCollections[newProp.index];\n                        if (!this_1.checkValidLi(element)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.index, oldProp.index, 'index');\n                            }\n                            else {\n                                this_1.index = oldProp.index;\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setFooterTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'headerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setHeaderTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'valueTemplate':\n                    if (!isNullOrUndefined(this_1.itemData) && this_1.valueTemplate !== null) {\n                        this_1.setValueTemplate();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this_1.allowFiltering) {\n                        this_1.actionCompleteData = {\n                            ulElement: this_1.ulElement,\n                            list: this_1.listData, isUpdated: true\n                        };\n                        this_1.actionData = this_1.actionCompleteData;\n                        this_1.updateSelectElementData(this_1.allowFiltering);\n                    }\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this_1.inputWrapper);\n                    Input.addFloating(this_1.inputElement, newProp.floatLabelType, this_1.placeholder, this_1.createElement);\n                    if (!isNullOrUndefined(this_1.inputWrapper.buttons[0]) && this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0] && this_1.floatLabelType !== 'Never') {\n                        this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'showClearButton':\n                    if (!this_1.inputWrapper.clearButton) {\n                        Input.setClearButton(newProp.showClearButton, this_1.inputElement, this_1.inputWrapper, null, this_1.createElement);\n                        this_1.bindClearEvent();\n                    }\n                    break;\n                default:\n                    {\n                        // eslint-disable-next-line max-len\n                        var ddlProps = this_1.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this_1, ddlProps.newProperty, ddlProps.oldProperty);\n                    }\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var state_1 = _loop_1(prop);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    };\n    DropDownList.prototype.checkValidLi = function (element) {\n        if (this.isValidLI(element)) {\n            this.setSelection(element, null);\n            return true;\n        }\n        return false;\n    };\n    DropDownList.prototype.setSelectionData = function (newProp, oldProp, prop) {\n        var _this = this;\n        var li;\n        this.updateListValues = function () {\n            if (prop === 'text') {\n                li = _this.getElementByText(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldText(oldProp);\n                }\n            }\n            else if (prop === 'value') {\n                var fields = (_this.fields.value) ? _this.fields.value : '';\n                var value = _this.allowObjectBinding && !isNullOrUndefined(newProp) ? getValue(fields, newProp) : newProp;\n                li = _this.getElementByValue(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldValue(oldProp);\n                }\n            }\n            else if (prop === 'index') {\n                li = _this.liCollections[newProp];\n                if (!_this.checkValidLi(li)) {\n                    _this.index = oldProp;\n                }\n            }\n        };\n    };\n    DropDownList.prototype.updatePopupState = function () {\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            addClass([this.inputWrapper.container], ['e-readonly']);\n        }\n        else {\n            removeClass([this.inputWrapper.container], ['e-readonly']);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.setInputValue = function (newProp, oldProp) {\n    };\n    DropDownList.prototype.setCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newClass, [this.inputWrapper.container], oldClass);\n        if (this.popupObj) {\n            Input.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownList.prototype.getModuleName = function () {\n        return 'dropdownlist';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        if (this.isReact && this.getModuleName() === 'combobox' && this.itemTemplate && this.isCustomFilter && this.isAddNewItemTemplate) {\n            this.renderList();\n            this.isAddNewItemTemplate = false;\n        }\n        if (this.isFiltering() && this.dataSource instanceof DataManager && (this.actionData.list !== this.actionCompleteData.list) &&\n            this.actionData.list && this.actionData.ulElement) {\n            this.actionCompleteData = this.actionData;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n            this.isActive = true;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && (this.list.classList.contains(dropDownBaseClasses.noData) ||\n            this.list.querySelectorAll('.' + dropDownBaseClasses.li).length <= 0)) {\n            if (this.isReact && this.isFiltering() && this.itemTemplate != null) {\n                this.isSecondClick = false;\n            }\n            this.renderList(e);\n        }\n        if (this.enableVirtualization && this.listData && this.listData.length) {\n            if (!isNullOrUndefined(this.value) && (this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox')) {\n                this.removeHover();\n            }\n            if (!this.beforePopupOpen) {\n                this.notify(\"setCurrentViewDataAsync\", {\n                    module: \"VirtualScroll\",\n                });\n            }\n        }\n        if (this.beforePopupOpen) {\n            this.invokeRenderPopup(e);\n        }\n        if (this.enableVirtualization && !this.allowFiltering && this.selectedValueInfo != null && this.selectedValueInfo.startIndex > 0 && this.value != null) {\n            this.notify(\"dataProcessAsync\", {\n                module: \"VirtualScroll\",\n                isOpen: true,\n            });\n        }\n    };\n    DropDownList.prototype.invokeRenderPopup = function (e) {\n        if (Browser.isDevice && this.isFilterLayout()) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_2 = this;\n            window.onpopstate = function () {\n                proxy_2.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        if (!isNullOrUndefined(this.list) && (!isNullOrUndefined(this.list.children[0]) ||\n            this.list.classList.contains(dropDownBaseClasses.noData))) {\n            this.renderPopup(e);\n        }\n    };\n    DropDownList.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.inputElement)) {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            this.isEscapeKey = false;\n            if (!isNullOrUndefined(this.index)) {\n                var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                var element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n                this.selectedLI = this.liCollections[this.index] || element;\n                if (this.selectedLI) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                    if (this.valueTemplate && this.itemData !== null) {\n                        this.setValueTemplate();\n                    }\n                }\n            }\n            else {\n                this.resetSelection();\n            }\n        }\n        this.isVirtualTrackHeight = false;\n        this.customFilterQuery = null;\n        this.closePopup(0, e);\n        var dataItem = this.getItemData();\n        var isSelectVal = !isNullOrUndefined(this.selectedLI);\n        if (isSelectVal && this.enableVirtualization && this.selectedLI.classList) {\n            isSelectVal = this.selectedLI.classList.contains('e-active');\n        }\n        if (this.inputElement && this.inputElement.value.trim() === '' && !this.isInteracted && (this.isSelectCustom ||\n            isSelectVal && this.inputElement.value !== dataItem.text)) {\n            this.isSelectCustom = false;\n            this.clearAll(e);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Sets the focus on the component for interaction.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusIn = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n            return;\n        }\n        var isFocused = false;\n        if (this.preventFocus && Browser.isDevice) {\n            this.inputWrapper.container.tabIndex = 1;\n            this.inputWrapper.container.focus();\n            this.preventFocus = false;\n            isFocused = true;\n        }\n        if (!isFocused) {\n            this.targetElement().focus();\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        this.onFocus(e);\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.enableVirtualization && (this.getModuleName() === 'combobox' || this.getModuleName() === 'autocomplete')) {\n            this.isTyped = true;\n        }\n        this.hidePopup(e);\n        if (this.targetElement()) {\n            this.targetElement().blur();\n        }\n        removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownList.prototype.destroy = function () {\n        this.isActive = false;\n        if (this.showClearButton) {\n            this.clearButton = document.getElementsByClassName('e-clear-icon')[0];\n        }\n        resetIncrementalSearchValues(this.element.id);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        this.hidePopup();\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        if (this.inputElement) {\n            var attrArray = ['readonly', 'aria-disabled', 'placeholder', 'aria-labelledby',\n                'aria-expanded', 'autocomplete', 'aria-readonly', 'autocapitalize',\n                'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-describedby', 'aria-label'];\n            for (var i = 0; i < attrArray.length; i++) {\n                this.inputElement.removeAttribute(attrArray[i]);\n            }\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n            this.inputElement.classList.remove('e-input');\n            Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.element.style.display = 'block';\n        if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n            detach(this.inputWrapper.container);\n        }\n        else {\n            this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n            detach(this.inputWrapper.container);\n        }\n        this.hiddenElement = null;\n        this.filterInput = null;\n        this.inputWrapper = null;\n        this.keyboardModule = null;\n        this.ulElement = null;\n        this.list = null;\n        this.clearIconElement = null;\n        this.popupObj = null;\n        this.popupContentElement = null;\n        this.rippleFun = null;\n        this.selectedLI = null;\n        this.liCollections = null;\n        this.item = null;\n        this.footer = null;\n        this.header = null;\n        this.previousSelectedLI = null;\n        this.valueTempElement = null;\n        this.actionData.ulElement = null;\n        if (this.inputElement && !isNullOrUndefined(this.inputElement.onchange)) {\n            this.inputElement.onchange = null;\n        }\n        if (this.inputElement && !isNullOrUndefined(this.inputElement.onselect)) {\n            this.inputElement.onselect = null;\n        }\n        Input.destroy({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            properties: this.properties\n        }, this.clearButton);\n        this.clearButton = null;\n        this.inputElement = null;\n        _super.prototype.destroy.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownList.prototype.getItems = function () {\n        if (!this.list) {\n            if (this.dataSource instanceof DataManager) {\n                this.initialRemoteRender = true;\n            }\n            this.renderList();\n        }\n        return this.ulElement ? _super.prototype.getItems.call(this) : [];\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownList.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.clear = function () {\n        this.value = null;\n    };\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"width\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownList.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownList.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownList.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowObjectBinding\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownList.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"focus\", void 0);\n    DropDownList = __decorate([\n        NotifyPropertyChanges\n    ], DropDownList);\n    return DropDownList;\n}(DropDownBase));\nexport { DropDownList };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Input, TextBox } from '@syncfusion/ej2-inputs';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { NotifyPropertyChanges, Property, Event, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, attributes, formatUnit, ChildProperty, remove, L10n, extend } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, prepend, Complex, closest, setValue, getValue, compile, append } from '@syncfusion/ej2-base';\nimport { select, selectAll, isNullOrUndefined as isNOU, matches, Browser, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nvar RTL = 'e-rtl';\nvar DROPDOWNTREE = 'e-ddt';\nvar HIDDENELEMENT = 'e-ddt-hidden';\nvar DROPDOWNICON = 'e-input-group-icon e-ddt-icon e-icons';\nvar SHOW_CHIP = 'e-show-chip';\nvar SHOW_CLEAR = 'e-show-clear';\nvar SHOW_DD_ICON = 'e-show-dd-icon';\nvar CHIP_INPUT = 'e-chip-input';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTGROUP = 'e-input-group';\nvar ICONANIMATION = 'e-icon-anim';\nvar CLOSEICON_CLASS = 'e-clear-icon e-icons';\nvar CHIP_WRAPPER = 'e-chips-wrapper';\nvar CHIP_COLLECTION = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar HIDEICON = 'e-icon-hide';\nvar DDTHIDEICON = 'e-ddt-icon-hide';\nvar POPUP_CLASS = 'e-ddt e-popup';\nvar PARENTITEM = 'e-list-parent';\nvar CONTENT = 'e-popup-content';\nvar DROPDOWN = 'e-dropdown';\nvar DISABLED = 'e-disabled';\nvar ICONS = 'e-icons';\nvar CHECKALLPARENT = 'e-selectall-parent';\nvar CHECKALLHIDE = 'e-hide-selectall';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar ALLTEXT = 'e-all-text';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar FILTERWRAP = 'e-filter-wrap';\nvar DDTICON = 'e-ddt-icon';\nvar FOOTER = 'e-ddt-footer';\nvar HEADER = 'e-ddt-header';\nvar NODATACONTAINER = 'e-ddt-nodata';\nvar NODATA = 'e-no-data';\nvar HEADERTEMPLATE = 'HeaderTemplate';\nvar FOOTERTEMPLATE = 'FooterTemplate';\nvar NORECORDSTEMPLATE = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE = 'ActionFailureTemplate';\nvar CUSTOMTEMPLATE = 'CustomTemplate';\nvar REMAIN_WRAPPER = 'e-remain';\nvar OVERFLOW_VIEW = 'e-overflow';\nvar SHOW_TEXT = 'e-show-text';\nvar TOTAL_COUNT_WRAPPER = 'e-total-count';\nvar REMAIN_COUNT = 'e-wrap-count';\nvar Fields = /** @class */ (function (_super) {\n    __extends(Fields, _super);\n    function Fields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], Fields.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], Fields.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], Fields.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], Fields.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], Fields.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], Fields.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], Fields.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('parentValue')\n    ], Fields.prototype, \"parentValue\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"query\", void 0);\n    __decorate([\n        Property('selectable')\n    ], Fields.prototype, \"selectable\", void 0);\n    __decorate([\n        Property('selected')\n    ], Fields.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], Fields.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], Fields.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('value')\n    ], Fields.prototype, \"value\", void 0);\n    return Fields;\n}(ChildProperty));\nexport { Fields };\nvar TreeSettings = /** @class */ (function (_super) {\n    __extends(TreeSettings, _super);\n    function TreeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"autoCheck\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeSettings.prototype, \"expandOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"loadOnDemand\", void 0);\n    return TreeSettings;\n}(ChildProperty));\nexport { TreeSettings };\n/**\n * The Dropdown Tree control allows you to select single or multiple values from hierarchical data in a tree-like structure.\n * It has several out-of-the-box features, such as data binding, check boxes, templates, filter,\n * UI customization, accessibility, and preselected values.\n * ```html\n *  <input type=\"text\" id=\"tree\"></input>\n * ```\n * ```typescript\n *  let ddtObj: DropDownTree = new DropDownTree();\n *  ddtObj.appendTo(\"#tree\");\n * ```\n */\nvar DropDownTree = /** @class */ (function (_super) {\n    __extends(DropDownTree, _super);\n    function DropDownTree(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.filterTimer = null;\n        _this.isFilteredData = false;\n        _this.isFilterRestore = false;\n        _this.selectedData = [];\n        _this.filterDelayTime = 300;\n        _this.isClicked = false;\n        // Specifies if the checkAll method has been called\n        _this.isCheckAllCalled = false;\n        _this.isFromFilterChange = false;\n        return _this;\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string}\n     * @hidden\n     */\n    DropDownTree.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    DropDownTree.prototype.getLocaleName = function () {\n        return 'drop-down-tree';\n    };\n    /**\n     * Initialize the event handler.\n     *\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.preRender = function () {\n        this.inputFocus = false;\n        this.isPopupOpen = false;\n        this.isFirstRender = true;\n        this.isInitialized = false;\n        this.currentText = null;\n        this.currentValue = null;\n        this.oldValue = null;\n        this.removeValue = false;\n        this.selectedText = [];\n        this.treeItems = [];\n        this.dataValue = null;\n        this.isNodeSelected = false;\n        this.isDynamicChange = false;\n        this.clearIconWidth = 0;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE;\n        this.customTemplateId = \"\" + this.element.id + CUSTOMTEMPLATE;\n        this.keyConfigs = {\n            escape: 'escape',\n            altUp: 'alt+uparrow',\n            altDown: 'alt+downarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            end: 'end',\n            enter: 'enter',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n            ctrlA: 'ctrl+A'\n        };\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownTree.prototype.render = function () {\n        var isTree = select('#' + this.element.id + '_tree', document);\n        if (isTree) {\n            var popupDiv = select('#' + this.element.id + '_options', document);\n            detach(popupDiv ? popupDiv : isTree.parentElement);\n        }\n        if (this.element.tagName === 'INPUT') {\n            this.inputEle = this.element;\n            if (isNOU(this.inputEle.getAttribute('role'))) {\n                this.inputEle.setAttribute('aria-expanded', 'false');\n                this.inputEle.setAttribute('role', 'combobox');\n                this.inputEle.setAttribute('aria-haspopup', 'tree');\n                this.inputEle.setAttribute('aria-controls', this.element.id + '_options');\n            }\n            if (isNOU(this.inputEle.getAttribute('type'))) {\n                this.inputEle.setAttribute('type', 'text');\n            }\n        }\n        else {\n            this.inputEle = this.createElement('input', { attrs: { role: 'textbox', type: 'text' } });\n            this.element.parentElement.insertBefore(this.inputEle, this.element);\n        }\n        this.inputObj = Input.createInput({\n            element: this.inputEle,\n            floatLabelType: this.floatLabelType,\n            buttons: this.showDropDownIcon ? [DROPDOWNICON] : null,\n            properties: {\n                readonly: true,\n                placeholder: this.placeholder,\n                enabled: this.enabled,\n                cssClass: this.cssClass,\n                enableRtl: this.enableRtl\n            }\n        }, this.createElement);\n        this.inputWrapper = this.inputObj.container;\n        if (!this.inputWrapper.classList.contains(INPUTGROUP)) {\n            this.inputWrapper.classList.add(INPUTGROUP);\n        }\n        if (this.showDropDownIcon) {\n            this.inputWrapper.classList.add(SHOW_DD_ICON);\n        }\n        if (this.element.tagName === this.getDirective()) {\n            this.element.appendChild(this.inputWrapper);\n        }\n        this.createHiddenElement();\n        this.createClearIcon();\n        this.inputWrapper.classList.add(DROPDOWNTREE);\n        this.setElementWidth(this.width);\n        this.updateDataAttribute();\n        this.setHTMLAttributes();\n        this.setAttributes();\n        this.popupDiv = this.createElement('div', { className: CONTENT });\n        this.popupDiv.classList.add(DROPDOWN);\n        this.tree = this.createElement('div', { id: this.element.id + '_tree' });\n        this.popupDiv.appendChild(this.tree);\n        if (!this.destroyPopupOnHide) {\n            document.body.appendChild(this.popupDiv);\n        }\n        this.wireTreeEvents();\n        addClass([this.popupDiv], DDTHIDEICON);\n        this.renderTree();\n        this.isRemoteData = this.fields.dataSource instanceof DataManager;\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter') {\n                this.createChip();\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n                if (this.mode !== 'Box') {\n                    addClass([this.overFlowWrapper], SHOW_TEXT);\n                }\n            }\n        }\n        if (!this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n        }\n        this.wireEvents();\n        var firstUl = select('.' + PARENTITEM, this.treeObj.element);\n        if (firstUl && firstUl.getAttribute('aria-multiselectable')) {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n        this.oldValue = this.value;\n        this.isInitialized = true;\n        this.hasTemplate = this.itemTemplate || this.headerTemplate || this.footerTemplate || this.actionFailureTemplate\n            || this.noRecordsTemplate || this.customTemplate;\n        this.renderComplete();\n    };\n    DropDownTree.prototype.hideCheckAll = function (flag) {\n        var checkAllEle = !isNOU(this.popupEle) ? this.popupEle.querySelector('.' + CHECKALLPARENT) : null;\n        if (!isNOU(checkAllEle)) {\n            if (flag && !checkAllEle.classList.contains(CHECKALLHIDE)) {\n                addClass([checkAllEle], CHECKALLHIDE);\n            }\n            else if (!flag && checkAllEle.classList.contains(CHECKALLHIDE)) {\n                removeClass([checkAllEle], CHECKALLHIDE);\n            }\n        }\n    };\n    DropDownTree.prototype.renderFilter = function () {\n        this.filterContainer = this.createElement('div', {\n            id: this.element.id + '_filter_wrap',\n            className: FILTERWRAP\n        });\n        var filterInput = this.createElement('input', {\n            id: this.element.id + '_filter',\n            attrs: { autocomplete: 'off', 'aria-label': this.filterBarPlaceholder }\n        });\n        this.filterContainer.appendChild(filterInput);\n        prepend([this.filterContainer], this.popupEle);\n        this.filterObj = new TextBox({\n            value: '',\n            showClearButton: true,\n            placeholder: this.filterBarPlaceholder,\n            input: this.filterChangeHandler.bind(this)\n        });\n        this.filterObj.appendTo('#' + this.element.id + '_filter');\n    };\n    DropDownTree.prototype.filterChangeHandler = function (args) {\n        var _this = this;\n        if (!isNOU(args.value)) {\n            window.clearTimeout(this.filterTimer);\n            this.filterTimer = window.setTimeout(function () { _this.filterHandler(args.value, args.event); }, this.filterDelayTime);\n        }\n    };\n    DropDownTree.prototype.isChildObject = function () {\n        if (typeof this.treeObj.fields.child === 'object') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.filterHandler = function (value, event) {\n        var _this = this;\n        this.isFromFilterChange = true;\n        if (!this.isFilteredData) {\n            if (this.isRemoteData) {\n                this.treeObj.expandedNodes = [];\n            }\n            this.treeData = this.treeObj.getTreeData();\n        }\n        var filterFields = this.cloneFields(this.fields);\n        var args = {\n            cancel: false,\n            preventDefaultAction: false,\n            event: event,\n            text: value.trim(),\n            fields: filterFields\n        };\n        this.trigger('filtering', args, function (args) {\n            if (!args.cancel) {\n                var flag = false;\n                var fields = void 0;\n                _this.isFilteredData = true;\n                if (args.text === '') {\n                    _this.isFilteredData = false;\n                    _this.isFilterRestore = true;\n                    _this.isFromFilterChange = false;\n                    fields = _this.cloneFields(_this.fields);\n                }\n                else if (args.preventDefaultAction) {\n                    fields = args.fields;\n                }\n                else {\n                    if (_this.treeDataType === 1) {\n                        fields = _this.selfReferencefilter(args.text, args.fields);\n                    }\n                    else {\n                        if (_this.fields.dataSource instanceof DataManager) {\n                            fields = _this.remoteDataFilter(args.text, args.fields);\n                            fields.child = _this.fields.child;\n                            _this.treeObj.fields = _this.getTreeFields(args.fields);\n                            _this.treeObj.dataBind();\n                            flag = true;\n                        }\n                        else {\n                            fields = _this.nestedFilter(args.text, args.fields);\n                        }\n                    }\n                }\n                _this.hideCheckAll(_this.isFilteredData);\n                if (flag) {\n                    return;\n                }\n                if (_this.isRemoteData) {\n                    if (_this.isChildObject()) {\n                        fields.child = _this.fields.child;\n                    }\n                    else {\n                        fields = args.fields;\n                    }\n                }\n                _this.treeObj.fields = _this.getTreeFields(fields);\n                _this.treeObj.dataBind();\n                if (_this.hasTemplate && _this.portals && _this.treeObj.portals) {\n                    for (var i = 0; i < _this.treeObj.portals.length; i++) {\n                        if (_this.portals.indexOf(_this.treeObj.portals[i]) === -1) {\n                            _this.portals.push(_this.treeObj.portals[i]);\n                        }\n                    }\n                    if (_this.isReact) {\n                        _this.renderReactTemplates();\n                    }\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.remoteDataFilter = function (value, filteredFields) {\n        var _this = this;\n        filteredFields.dataSource = this.treeData.map(function (item) {\n            return _this.remoteChildFilter(value, item);\n        }).filter(function (filteredChild) {\n            return !isNOU(filteredChild);\n        });\n        return filteredFields;\n    };\n    DropDownTree.prototype.remoteChildFilter = function (value, node, isChild, isChildFiltering) {\n        var children = this.isChildObject() ? node['child'] : node[this.fields.child];\n        if (isNOU(children)) {\n            return (this.isMatchedNode(value, node, isChild, isChildFiltering)) ? node : null;\n        }\n        var matchedChildren = [];\n        for (var i = 0; i < children.length; i++) {\n            var filteredChild = this.remoteChildFilter(value, children[i], true, true);\n            if (!isNOU(filteredChild)) {\n                matchedChildren.push(filteredChild);\n            }\n        }\n        var filteredItems = Object.assign({}, node);\n        isChildFiltering = false;\n        if (matchedChildren.length !== 0) {\n            filteredItems.child = matchedChildren;\n        }\n        else {\n            filteredItems.child = null;\n            filteredItems = (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n        }\n        return filteredItems;\n    };\n    DropDownTree.prototype.nestedFilter = function (value, filteredFields) {\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            // eslint-disable-next-line\n            var filteredChild = this.nestedChildFilter(value, this.treeData[i]);\n            if (!isNOU(filteredChild)) {\n                matchedDataSource.push(filteredChild);\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    DropDownTree.prototype.nestedChildFilter = function (value, node) {\n        var children = node[this.fields.child];\n        if (isNOU(children)) {\n            return (this.isMatchedNode(value, node)) ? node : null;\n        }\n        else {\n            var matchedChildren = [];\n            for (var i = 0; i < children.length; i++) {\n                // eslint-disable-next-line\n                var filteredChild = this.nestedChildFilter(value, children[i]);\n                if (!isNOU(filteredChild)) {\n                    matchedChildren.push(filteredChild);\n                }\n            }\n            var filteredItems = Object.assign({}, node);\n            if (matchedChildren.length !== 0) {\n                filteredItems[this.fields.child] = matchedChildren;\n                return filteredItems;\n            }\n            else {\n                filteredItems[this.fields.child] = null;\n                return (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n            }\n        }\n    };\n    DropDownTree.prototype.selfReferencefilter = function (value, filteredFields) {\n        var matchedData = [];\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            if (this.isMatchedNode(value, this.treeData[i])) {\n                matchedData.push(this.treeData[i]);\n            }\n        }\n        for (var i = 0; i < matchedData.length; i++) {\n            if (matchedDataSource.indexOf(matchedData[i]) === -1) {\n                matchedDataSource.push(matchedData[i]);\n                // eslint-disable-next-line\n                var parentId = matchedData[i][this.fields.parentValue];\n                while (!isNOU(parentId)) {\n                    var parent_1 = null;\n                    for (var j = 0; j < this.treeData.length; j++) {\n                        // eslint-disable-next-line\n                        var value_1 = this.treeData[j][this.fields.value];\n                        if (!isNOU(value_1) && (value_1 === parentId)) {\n                            parent_1 = this.treeData[j];\n                            break;\n                        }\n                    }\n                    if (!isNOU(parent_1) && (matchedDataSource.indexOf(parent_1) === -1)) {\n                        matchedDataSource.push(parent_1);\n                        parentId = parent_1[this.fields.parentValue];\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    DropDownTree.prototype.isMatchedNode = function (value, node, isChild, isChildFiltering) {\n        var checkValue;\n        var isObjectValue = isChild && isChildFiltering && this.isChildObject();\n        checkValue = isObjectValue ? node[this.fields.child.text] : node[this.fields.text];\n        if (!checkValue) {\n            var tempChild = this.fields.child;\n            while (!node[tempChild.text]) {\n                tempChild = tempChild.child;\n            }\n            checkValue = node[tempChild.text];\n        }\n        if (this.ignoreCase) {\n            checkValue = checkValue.toLowerCase();\n            value = value.toLowerCase();\n        }\n        if (this.ignoreAccent) {\n            checkValue = DataUtil.ignoreDiacritics(checkValue);\n            value = DataUtil.ignoreDiacritics(value);\n        }\n        if (this.filterType === 'StartsWith') {\n            return checkValue.slice(0, value.length) === value;\n        }\n        else if (this.filterType === 'EndsWith') {\n            return checkValue.slice(-value.length) === value;\n        }\n        else {\n            return checkValue.indexOf(value) !== -1;\n        }\n    };\n    /* To wire events for the dropdown tree */\n    DropDownTree.prototype.wireEvents = function () {\n        EventHandler.add(this.inputWrapper, 'mouseup', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper, 'blur', this.focusOut, this);\n        EventHandler.add(this.inputWrapper, 'mousemove', this.mouseIn, this);\n        EventHandler.add(this.inputWrapper, 'mouseout', this.onMouseLeave, this);\n        EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        this.keyboardModule = new KeyboardEvents(this.inputWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireTreeEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.tree, {\n            keyAction: this.treeAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireCheckAllWrapperEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.checkAllParent, {\n            keyAction: this.checkAllAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    /* To unwire events for the dropdown tree */\n    DropDownTree.prototype.unWireEvents = function () {\n        EventHandler.remove(this.inputWrapper, 'mouseup', this.dropDownClick);\n        EventHandler.remove(this.inputWrapper, 'focus', this.focusIn);\n        EventHandler.remove(this.inputWrapper, 'blur', this.focusOut);\n        EventHandler.remove(this.inputWrapper, 'mousemove', this.mouseIn);\n        EventHandler.remove(this.inputWrapper, 'mouseout', this.onMouseLeave);\n        EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n    };\n    /* Trigger when the dropdown is clicked */\n    DropDownTree.prototype.dropDownClick = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n            return;\n        }\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        else {\n            this.focusIn(e);\n            this.renderPopup();\n        }\n        this.showOverAllClear();\n    };\n    DropDownTree.prototype.mouseIn = function () {\n        if (this.enabled || !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    DropDownTree.prototype.onMouseLeave = function () {\n        if (!this.inputFocus) {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n    };\n    DropDownTree.prototype.getDirective = function () {\n        return 'EJS-DROPDOWNTREE';\n    };\n    DropDownTree.prototype.focusOut = function (e) {\n        if (!this.enabled || this.readonly || !this.inputFocus) {\n            return;\n        }\n        if ((Browser.isIE || Browser.info.name === 'edge') && (e.target === this.inputWrapper)) {\n            return;\n        }\n        var target = e.relatedTarget;\n        if ((target !== this.inputEle) && (isNOU(target)) && (e.target !== this.inputWrapper || !this.isPopupOpen)) {\n            this.onFocusOut(e);\n        }\n    };\n    DropDownTree.prototype.onFocusOut = function (event) {\n        this.inputFocus = false;\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n        }\n        if (this.showClearButton) {\n            this.clearIconWidth = select('.e-clear-icon', this.inputWrapper).offsetWidth;\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        removeClass([this.inputWrapper], [INPUTFOCUS]);\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (this.mode !== 'Delimiter' && this.mode !== 'Custom') {\n                if (this.chipWrapper && (this.mode === 'Default')) {\n                    addClass([this.chipWrapper], HIDEICON);\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n            }\n            if (!this.wrapText && isValue) {\n                this.updateView();\n            }\n        }\n        if (this.changeOnBlur) {\n            this.triggerChangeEvent(event);\n        }\n        this.removeValue = false;\n        this.oldValue = this.value;\n        this.trigger('blur');\n    };\n    DropDownTree.prototype.updateView = function () {\n        if ((!this.showCheckBox && !this.allowMultiSelection) || this.mode === 'Custom' || this.inputFocus) {\n            return;\n        }\n        if (this.mode !== 'Box') {\n            addClass([this.inputWrapper, this.overFlowWrapper], SHOW_TEXT);\n        }\n        else {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        if (this.value && this.value.length !== 0) {\n            if (this.inputWrapper.contains(this.chipWrapper)) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n            addClass([this.inputEle], CHIP_INPUT);\n            this.updateOverFlowView();\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.triggerChangeEvent = function (event) {\n        var isEqual = this.ddtCompareValues(this.oldValue, this.value);\n        if ((!isEqual || this.isChipDelete) && !this.removeValue) {\n            var eventArgs = {\n                e: event,\n                oldValue: this.oldValue,\n                value: this.value,\n                isInteracted: event ? true : false,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n            this.oldValue = this.value;\n        }\n    };\n    DropDownTree.prototype.ddtCompareValues = function (oldValue, newValue) {\n        if (oldValue === null || newValue === null) {\n            var isValid = oldValue === null ? ((newValue === oldValue) ? true : false) :\n                (oldValue.length === 0 ? (newValue === oldValue) : false);\n            return isValid;\n        }\n        else if (oldValue.length !== newValue.length) {\n            return false;\n        }\n        for (var i = 0; i < oldValue.length; i++) {\n            if (oldValue[i] !== newValue[i]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    DropDownTree.prototype.focusIn = function (e) {\n        if (!this.enabled || this.readonly || this.inputFocus) {\n            return;\n        }\n        this.showOverAllClear();\n        this.inputFocus = true;\n        addClass([this.inputWrapper], [INPUTFOCUS]);\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter' && this.inputFocus) {\n                if (this.chipWrapper && (this.value && this.value.length !== 0)) {\n                    removeClass([this.chipWrapper], HIDEICON);\n                    addClass([this.inputEle], CHIP_INPUT);\n                }\n                addClass([this.inputWrapper], SHOW_CHIP);\n                if (this.popupObj) {\n                    this.popupObj.refreshPosition();\n                }\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                if (this.inputWrapper.contains(this.overFlowWrapper)) {\n                    addClass([this.overFlowWrapper], HIDEICON);\n                }\n                if (this.mode === 'Delimiter') {\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n                else {\n                    addClass([this.inputWrapper], SHOW_CHIP);\n                }\n                removeClass([this.inputWrapper], SHOW_TEXT);\n                this.ensurePlaceHolder();\n            }\n        }\n        var args = { isInteracted: e ? true : false, event: e };\n        this.trigger('focus', args);\n    };\n    DropDownTree.prototype.treeAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        _this.inputWrapper.focus();\n                        e.preventDefault();\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'tab':\n                    case 'shiftTab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'enter':\n                    case 'ctrlEnter':\n                    case 'shiftEnter':\n                    case 'csEnter':\n                        if (!_this.showCheckBox) {\n                            _this.isValueChange = true;\n                            _this.keyEventArgs = e;\n                        }\n                        break;\n                    case 'space':\n                        _this.isValueChange = true;\n                        _this.keyEventArgs = e;\n                        break;\n                    case 'ctrlA':\n                        if (_this.allowMultiSelection) {\n                            _this.selectAll(true);\n                        }\n                        break;\n                    case 'moveRight':\n                    case 'moveLeft':\n                    case 'shiftDown':\n                    case 'moveDown':\n                    case 'ctrlDown':\n                    case 'csDown':\n                    case 'shiftUp':\n                    case 'moveUp':\n                    case 'ctrlUp':\n                    case 'csUp':\n                    case 'home':\n                    case 'shiftHome':\n                    case 'ctrlHome':\n                    case 'csHome':\n                    case 'end':\n                    case 'shiftEnd':\n                    case 'ctrlEnd':\n                    case 'csEnd':\n                }\n            }\n            else {\n                e.stopImmediatePropagation();\n            }\n        });\n    };\n    DropDownTree.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'shiftTab':\n                    case 'tab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        if (_this.inputFocus) {\n                            _this.onFocusOut();\n                        }\n                        break;\n                    case 'altDown':\n                        if (!_this.isPopupOpen) {\n                            _this.showPopup();\n                            e.preventDefault();\n                        }\n                        break;\n                    case 'moveDown':\n                        if (_this.showSelectAll && _this.showCheckBox) {\n                            _this.checkAllParent.focus();\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.checkAllAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'space':\n                        _this.clickHandler(e);\n                        break;\n                    case 'moveDown':\n                        var focusedElement = _this.treeObj.element.querySelector('li');\n                        focusedElement.focus();\n                        addClass([focusedElement], ['e-node-focus']);\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.windowResize = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ width: this.setWidth() });\n            this.popupObj.refreshPosition();\n        }\n    };\n    DropDownTree.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement && e.target === formElement) {\n            this.isDynamicChange = true;\n            this.setProperties({ value: null }, true);\n            this.resetValue(true);\n            this.isDynamicChange = false;\n        }\n    };\n    DropDownTree.prototype.getAriaAttributes = function () {\n        return {};\n    };\n    DropDownTree.prototype.updateOverFlowView = function () {\n        this.overFlowWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        removeClass([this.overFlowWrapper], HIDEICON);\n        if (this.value && this.value.length) {\n            var data = '';\n            var overAllContainer = void 0;\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            this.overFlowWrapper.innerHTML = '';\n            var l10nLocale = { overflowCountTemplate: '+${count} more..', totalCountTemplate: '${count} selected' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            var remainContent = this.l10n.getConstant('overflowCountTemplate');\n            var totalContent = this.l10n.getConstant('totalCountTemplate');\n            var remainElement = this.createElement('span', { className: REMAIN_WRAPPER });\n            this.overFlowWrapper.appendChild(remainElement);\n            remainElement.innerText = remainContent.replace('${count}', this.value.length.toString());\n            var remainSize = remainElement.offsetWidth;\n            remove(remainElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = select('.' + DDTICON, this.inputWrapper).offsetWidth;\n            }\n            if (!isNOU(this.value)) {\n                if (this.mode !== 'Box') {\n                    for (var index = 0; !isNOU(this.value[index]); index++) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = this.getOverflowVal(index);\n                        data += temp;\n                        temp = this.overFlowWrapper.innerHTML;\n                        if (this.enableHtmlSanitizer) {\n                            this.overFlowWrapper.innerText = SanitizeHtmlHelper.sanitize(data);\n                        }\n                        else {\n                            this.overFlowWrapper.innerHTML = data;\n                        }\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                index = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - index;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                var textArr = this.overFlowWrapper.innerHTML.split(this.delimiterChar);\n                                textArr.pop();\n                                this.overFlowWrapper.innerHTML = textArr.join(this.delimiterChar);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = index;\n                        }\n                        else if (index === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n                else {\n                    addClass([this.chipWrapper], HIDEICON);\n                    var ele = this.chipWrapper.cloneNode(true);\n                    var chips = selectAll('.' + CHIP, ele);\n                    for (var i = 0; i < chips.length; i++) {\n                        temp = this.overFlowWrapper.innerHTML;\n                        this.overFlowWrapper.appendChild(chips[i]);\n                        data = this.overFlowWrapper.innerHTML;\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                i = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - i;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = i;\n                        }\n                        else if (i === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n            }\n            if (remaining > 0) {\n                this.overFlowWrapper.appendChild(this.updateRemainTemplate(remainElement, remaining, remainContent, totalContent));\n            }\n            if (this.mode === 'Box' && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([remainElement], REMAIN_COUNT);\n            }\n        }\n        else {\n            this.overFlowWrapper.innerHTML = '';\n            addClass([this.overFlowWrapper], HIDEICON);\n        }\n        this.updateDelimMode();\n    };\n    DropDownTree.prototype.updateRemainTemplate = function (remainElement, remaining, remainContent, totalContent) {\n        if (this.overFlowWrapper.firstChild && this.overFlowWrapper.firstChild.nodeType === 3 &&\n            this.overFlowWrapper.firstChild.nodeValue === '') {\n            this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild);\n        }\n        remainElement.innerHTML = '';\n        remainElement.innerText = (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) ?\n            remainContent.replace('${count}', remaining.toString()) : totalContent.replace('${count}', remaining.toString());\n        if (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) {\n            removeClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            addClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n            removeClass([this.overFlowWrapper], REMAIN_COUNT);\n        }\n        return remainElement;\n    };\n    DropDownTree.prototype.getOverflowVal = function (index) {\n        // eslint-disable-next-line\n        var selectedData = this.getSelectedData(this.value[index]);\n        return getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n    };\n    DropDownTree.prototype.updateDelimMode = function () {\n        if (this.mode !== 'Box') {\n            if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper) && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([this.overFlowWrapper], REMAIN_COUNT);\n                addClass([this.overFlowWrapper], SHOW_TEXT);\n            }\n            else {\n                this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n                removeClass([this.overFlowWrapper], REMAIN_COUNT);\n            }\n        }\n        else if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper)) {\n            this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n        }\n    };\n    DropDownTree.prototype.createHiddenElement = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'class': HIDDENELEMENT, 'tabindex': '-1', 'multiple': '', 'aria-label': this.getModuleName() }\n            });\n        }\n        else {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'tabindex': '-1', 'class': HIDDENELEMENT, 'aria-label': this.getModuleName() }\n            });\n        }\n        prepend([this.hiddenElement], this.inputWrapper);\n        this.validationAttribute();\n    };\n    DropDownTree.prototype.createClearIcon = function () {\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS\n        });\n        addClass([this.overAllClear], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CLEAR);\n        if (this.showClearButton) {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.validationAttribute = function () {\n        var name = this.inputEle.getAttribute('name') ? this.inputEle.getAttribute('name') : this.inputEle.getAttribute('id');\n        this.hiddenElement.setAttribute('name', name);\n        this.inputEle.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            var attr = this.inputEle.getAttribute(attributes[i]);\n            if (attr) {\n                this.hiddenElement.setAttribute(attributes[i], attr);\n                this.inputEle.removeAttribute(attributes[i]);\n            }\n        }\n    };\n    DropDownTree.prototype.createChip = function () {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.chipWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER\n            });\n            this.chipCollection = this.createElement('span', {\n                className: CHIP_COLLECTION\n            });\n            this.chipWrapper.appendChild(this.chipCollection);\n            this.inputWrapper.insertBefore(this.chipWrapper, this.hiddenElement);\n            addClass([this.inputWrapper], SHOW_CHIP);\n            var isValid = this.getValidMode();\n            if (isValid && this.value !== null && (this.value && this.value.length !== 0)) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else if (this.value === null || (this.value && this.value.length === 0) || this.checkWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.getValidMode = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return this.mode === 'Box' ? true : (this.mode === 'Default' && this.inputFocus) ? true : false;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.createSelectAllWrapper = function () {\n        this.checkAllParent = this.createElement('div', {\n            className: CHECKALLPARENT, attrs: { 'tabindex': '0' }\n        });\n        this.selectAllSpan = this.createElement('span', {\n            className: ALLTEXT\n        });\n        this.selectAllSpan.textContent = '';\n        var ele = closest(this.element, '.' + BIGGER);\n        var touchClass = isNOU(ele) ? '' : SMALL;\n        this.checkBoxElement = createCheckBox(this.createElement, true, { cssClass: touchClass });\n        this.checkBoxElement.setAttribute('role', 'checkbox');\n        this.checkAllParent.appendChild(this.checkBoxElement);\n        this.checkAllParent.appendChild(this.selectAllSpan);\n        this.setLocale();\n        EventHandler.add(this.checkAllParent, 'mouseup', this.clickHandler, this);\n        this.wireCheckAllWrapperEvents();\n    };\n    DropDownTree.prototype.clickHandler = function (e) {\n        var target;\n        if ((e.currentTarget && e.currentTarget.classList.contains(CHECKALLPARENT))) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.target;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        if (!isNOU(this.checkWrapper)) {\n            this.isClicked = true;\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.changeState(this.checkWrapper, checkElement.classList.contains(CHECK) ? 'uncheck' : 'check', e);\n            this.isClicked = false;\n        }\n        e.preventDefault();\n    };\n    DropDownTree.prototype.changeState = function (wrapper, state, e) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (!this.isReverseUpdate) {\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(true);\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK))) {\n            frameSpan.classList.remove(CHECK);\n            ariaState = 'false';\n            if (!this.isReverseUpdate) {\n                this.treeObj.uncheckAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(false);\n        }\n        this.setMultiSelect();\n        this.ensurePlaceHolder();\n        ariaState = state === 'check' ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.parentElement.setAttribute('aria-checked', ariaState);\n        }\n    };\n    DropDownTree.prototype.setLocale = function (unSelect) {\n        if (!this.selectAllSpan) {\n            return;\n        }\n        if (this.selectAllText !== 'Select All' || this.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.unSelectAllText : this.selectAllText;\n            this.selectAllSpan.textContent = '';\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this, templateName, null, !this.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            this.selectAllSpan.textContent = unSelect ? this.unSelectAllText : this.selectAllText;\n        }\n    };\n    DropDownTree.prototype.setAttributes = function () {\n        this.inputEle.setAttribute('tabindex', '-1');\n        this.inputEle.setAttribute('aria-label', this.getModuleName());\n        var id = this.element.getAttribute('id');\n        this.hiddenElement.id = id + '_hidden';\n        this.inputWrapper.setAttribute('tabindex', '0');\n        this.inputWrapper.setAttribute('aria-label', this.getModuleName());\n        attributes(this.inputWrapper, this.getAriaAttributes());\n    };\n    DropDownTree.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    this.inputWrapper.classList.add(this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'disabled') {\n                    this.setProperties({ enabled: false }, true);\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly') {\n                    this.setProperties({ readonly: true }, true);\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder',\n                        'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputEle);\n                        }\n                        else {\n                            this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDataAttribute = function () {\n        var value = this.htmlAttributes;\n        var invalidAttr = ['class', 'style', 'id', 'type'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownTree.prototype.showOverAllClear = function () {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.overAllClear) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (isValue && this.showClearButton) {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n            else {\n                addClass([this.overAllClear], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeValue = function () {\n        if (this.value !== null && this.value.length !== 0) {\n            var data = void 0;\n            if (this.showCheckBox || this.allowMultiSelection) {\n                for (var i = 0; i < this.value.length; i++) {\n                    data = this.treeObj.getTreeData(this.value[i])[0];\n                    if (isNOU(data)) {\n                        this.value.splice(this.value.indexOf(this.value[i]), 1);\n                    }\n                }\n                if (this.value.length !== 0) {\n                    this.setValidValue();\n                }\n            }\n            else {\n                data = this.treeObj.getTreeData(this.value[0])[0];\n                if (!isNOU(data)) {\n                    this.setProperties({ text: data[this.fields.text] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ value: this.currentValue }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeText = function () {\n        if (this.value !== null && !this.isInitialized) {\n            return;\n        }\n        if (this.text !== null) {\n            var data = void 0;\n            var valArr = [];\n            if (this.showCheckBox || this.allowMultiSelection) {\n                var textArr = this.text.split(this.delimiterChar);\n                for (var i = 0; i < textArr.length; i++) {\n                    data = this.getItems(textArr[i]);\n                    if (!isNOU(data)) {\n                        valArr.push(data[this.fields.value].toString());\n                    }\n                }\n                if (valArr.length !== 0) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: valArr }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n            else {\n                data = this.getItems(this.text);\n                if (!isNOU(data)) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: [data[this.fields.value].toString()] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setSelectedValue = function () {\n        if (this.value != null) {\n            return;\n        }\n        if (!this.isInitialized) {\n            this.oldValue = this.value;\n            if (this.treeObj.selectedNodes.length > 0 && !this.showCheckBox) {\n                this.setProperties({ value: this.treeObj.selectedNodes }, true);\n                if (this.allowMultiSelection) {\n                    this.updateMode();\n                }\n            }\n            else if (this.showCheckBox && this.treeObj.checkedNodes) {\n                if (this.treeObj.checkedNodes.length > 0) {\n                    this.setProperties({ value: this.treeObj.checkedNodes }, true);\n                    setValue('selectedNodes', [], this.treeObj);\n                    this.treeObj.dataBind();\n                    this.updateMode();\n                }\n            }\n            this.updateSelectedValues();\n            this.currentText = this.text;\n            this.currentValue = this.value;\n        }\n    };\n    DropDownTree.prototype.setValidValue = function () {\n        var _this = this;\n        if (!this.showCheckBox && !this.allowMultiSelection) {\n            Input.setValue(this.text, this.inputEle, this.floatLabelType);\n            var id = this.value[0].toString();\n            if (this.treeObj.selectedNodes[0] !== id) {\n                setValue('selectedNodes', [id], this.treeObj);\n            }\n        }\n        else {\n            if (this.showCheckBox) {\n                var difference = this.value.filter(function (e) {\n                    return _this.treeObj.checkedNodes.indexOf(e) === -1;\n                });\n                if (difference.length > 0 || this.treeSettings.autoCheck) {\n                    this.treeObj.checkedNodes = this.value.slice();\n                    this.treeObj.dataBind();\n                    this.setMultiSelect();\n                }\n            }\n            else {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.selectedText = [];\n                this.updateSelectedValues();\n            }\n            this.treeObj.dataBind();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        if (this.isInitialized) {\n            this.triggerChangeEvent();\n        }\n    };\n    DropDownTree.prototype.getItems = function (givenText) {\n        var data;\n        if (this.treeDataType === 1) {\n            for (var i = 0; i < this.treeItems.length; i++) {\n                // eslint-disable-next-line\n                var text = getValue(this.fields.text, this.treeItems[i]);\n                if (!isNOU(this.treeItems[i]) && !isNOU(text) && text === givenText) {\n                    data = this.treeItems[i];\n                    break;\n                }\n            }\n        }\n        else {\n            data = this.getNestedItems(this.treeItems, this.fields, givenText);\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNestedItems = function (data, field, givenText) {\n        var newData;\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            // eslint-disable-next-line\n            var dataId = getValue(this.fields.text, data[i]);\n            if (data[i] && dataId && dataId.toString() === givenText) {\n                return data[i];\n            }\n            else if (typeof field.child === 'string' && !isNOU(getValue(field.child, data[i]))) {\n                // eslint-disable-next-line\n                var childData = getValue(field.child, data[i]);\n                newData = this.getNestedItems(childData, this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', data[i]))) {\n                var child = 'child';\n                // eslint-disable-next-line\n                newData = this.getNestedItems(getValue(child, data[i]), this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newData;\n    };\n    DropDownTree.prototype.getChildType = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    /* To render the treeview */\n    DropDownTree.prototype.renderTree = function () {\n        this.treeObj = new TreeView({\n            fields: this.getTreeFields(this.fields),\n            enableRtl: this.enableRtl,\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeChecked: this.onNodeChecked.bind(this),\n            nodeChecking: this.beforeCheck.bind(this),\n            nodeExpanded: this.onNodeExpanded.bind(this),\n            actionFailure: this.onActionFailure.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            dataBound: this.OnDataBound.bind(this),\n            allowMultiSelection: this.allowMultiSelection,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            showCheckBox: this.showCheckBox,\n            autoCheck: this.treeSettings.autoCheck,\n            sortOrder: this.sortOrder,\n            expandOn: this.treeSettings.expandOn,\n            loadOnDemand: this.treeSettings.loadOnDemand,\n            nodeSelecting: this.onBeforeSelect.bind(this),\n            nodeTemplate: this.itemTemplate\n        });\n        this.treeObj.root = this.root ? this.root : this;\n        this.treeObj.appendTo(this.tree);\n    };\n    /* To render the popup element */\n    DropDownTree.prototype.renderPopup = function () {\n        var _this = this;\n        if (this.isFilteredData) {\n            this.filterObj.value = '';\n            this.treeObj.fields = this.getTreeFields(this.fields);\n            this.isFilterRestore = true;\n            this.isFilteredData = false;\n            this.hideCheckAll(false);\n        }\n        var isCancelled = false;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                addClass([_this.inputWrapper], [ICONANIMATION]);\n                if (_this.isFirstRender) {\n                    _this.popupEle = _this.createElement('div', {\n                        id: _this.element.id + '_options', className: POPUP_CLASS + ' ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                    _this.popupEle.setAttribute('role', 'region');\n                    _this.popupEle.setAttribute('aria-label', _this.element.id);\n                    document.body.appendChild(_this.popupEle);\n                    _this.createPopup(_this.popupEle);\n                }\n                else {\n                    _this.popupEle = _this.popupObj.element;\n                    if (_this.isReact && _this.isFilterRestore) {\n                        _this.treeObj.refresh();\n                        _this.isFilteredData = true;\n                        _this.popupEle.removeChild(_this.filterContainer);\n                    }\n                }\n            }\n            else {\n                isCancelled = true;\n            }\n            if (_this.isFirstRender && !isCancelled || _this.isFilteredData) {\n                _this.isFilteredData = false;\n                prepend([_this.popupDiv], _this.popupEle);\n                removeClass([_this.popupDiv], DDTHIDEICON);\n                if (_this.allowFiltering) {\n                    _this.renderFilter();\n                }\n                if (_this.showCheckBox && _this.showSelectAll && (!_this.popupDiv.classList.contains(NODATA))) {\n                    _this.createSelectAllWrapper();\n                    _this.popupEle.insertBefore(_this.checkAllParent, _this.popupDiv);\n                }\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate();\n                }\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate();\n                }\n                _this.isFirstRender = false;\n                /* eslint-disable */\n                if (_this.hasTemplate && _this.portals) {\n                    if (_this.treeObj.portals) {\n                        _this.portals = _this.portals.concat(_this.treeObj.portals.filter(function (item) { return !_this.portals.includes(item); }));\n                    }\n                    /* eslint-enable */\n                    if (_this.isReact) {\n                        _this.renderReactTemplates(_this.reactCallBack);\n                    }\n                }\n            }\n            if (!isCancelled) {\n                attributes(_this.inputEle, { 'aria-expanded': 'true' });\n                _this.popupObj.show(null, (_this.zIndex === 1000) ? _this.inputEle : null);\n                removeClass([_this.popupEle], DDTHIDEICON);\n                _this.updatePopupHeight();\n                _this.popupObj.refreshPosition();\n                if (!(_this.showCheckBox && _this.showSelectAll) && (!_this.popupDiv.classList.contains(NODATA)\n                    && _this.treeItems.length > 0)) {\n                    var focusedElement = void 0;\n                    if (_this.value != null && _this.text != null) {\n                        _this.treeObj.element.querySelector('li').setAttribute('tabindex', '-1');\n                        focusedElement = _this.treeObj.element.querySelector('[data-uid=\"' + _this.value[0] + '\"]');\n                        focusedElement.setAttribute('tabindex', '0');\n                    }\n                    else {\n                        var oldFocussedNode = _this.treeObj.element.querySelector('.e-node-focus');\n                        focusedElement = _this.treeObj.element.querySelector('li:not(.e-disable):not(.e-prevent)');\n                        if (oldFocussedNode && oldFocussedNode != focusedElement) {\n                            oldFocussedNode.setAttribute('tabindex', '-1');\n                            removeClass([oldFocussedNode], 'e-node-focus');\n                        }\n                    }\n                    focusedElement.focus();\n                    addClass([focusedElement], ['e-node-focus']);\n                }\n                if (_this.checkSelectAll && _this.checkBoxElement) {\n                    var wrap = closest(_this.checkBoxElement, '.' + CHECKBOXWRAP);\n                    _this.changeState(wrap, 'check');\n                    _this.checkSelectAll = false;\n                }\n                if (_this.allowFiltering) {\n                    removeClass([_this.inputWrapper], [INPUTFOCUS]);\n                    _this.filterObj.element.focus();\n                }\n                var eventArgs = { popup: _this.popupObj };\n                _this.trigger('open', eventArgs);\n            }\n        });\n    };\n    DropDownTree.prototype.reactCallBack = function () {\n        this.updatePopupHeight();\n        this.popupObj.refreshPosition();\n    };\n    DropDownTree.prototype.updatePopupHeight = function () {\n        if (this.isFirstRender) {\n            return;\n        }\n        var popupHeight = this.getHeight();\n        this.popupEle.style.maxHeight = popupHeight;\n        if (this.allowFiltering) {\n            var height = Math.round(this.filterContainer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.headerTemplate) {\n            var height = Math.round(this.header.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.showCheckBox && this.showSelectAll && (!this.popupDiv.classList.contains(NODATA))) {\n            var height = Math.round(this.checkAllParent.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.footerTemplate) {\n            var height = Math.round(this.footer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        var border = parseInt(window.getComputedStyle(this.popupEle).borderTopWidth, 10);\n        border = border + parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth, 10);\n        popupHeight = formatUnit(parseInt(popupHeight, 10) - border + 'px');\n        this.popupDiv.style.maxHeight = popupHeight;\n    };\n    DropDownTree.prototype.createPopup = function (element) {\n        var _this = this;\n        if (this.isFirstRender) {\n            this.popupObj = new Popup(element, {\n                width: this.setWidth(),\n                targetType: 'relative',\n                collision: { X: 'flip', Y: 'flip' },\n                relateTo: this.inputWrapper,\n                zIndex: this.zIndex,\n                enableRtl: this.enableRtl,\n                position: { X: 'left', Y: 'bottom' },\n                close: function () {\n                    _this.isPopupOpen = false;\n                },\n                open: function () {\n                    EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                    _this.isPopupOpen = true;\n                },\n                targetExitViewport: function () {\n                    if (!Browser.isDevice) {\n                        _this.hidePopup();\n                    }\n                }\n            });\n        }\n    };\n    /* To calculate the width when change via set model */\n    DropDownTree.prototype.setElementWidth = function (inputWidth) {\n        var ddElement = this.inputWrapper;\n        if (!isNOU(inputWidth)) {\n            if (typeof inputWidth === 'number') {\n                ddElement.style.width = formatUnit(inputWidth);\n            }\n            else if (typeof inputWidth === 'string') {\n                ddElement.style.width = (inputWidth.match(/px|%|em/)) ? (inputWidth) :\n                    (formatUnit(inputWidth));\n            }\n        }\n    };\n    /* To calculate the width of the popup */\n    DropDownTree.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            width = (this.inputWrapper.offsetWidth * parseFloat(width) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupWidth === 'string') {\n            width = (this.popupWidth.match(/px|em/)) ? (this.popupWidth) : width;\n        }\n        return width;\n    };\n    /* To calculate the height of the popup */\n    DropDownTree.prototype.getHeight = function () {\n        var height = formatUnit(this.popupHeight);\n        if (height.indexOf('%') > -1) {\n            // Will set the height of the popup according to the view port height\n            height = (document.documentElement.clientHeight * parseFloat(height) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupHeight === 'string') {\n            height = (this.popupHeight.match(/px|em/)) ? (this.popupHeight) : height;\n        }\n        return height;\n    };\n    DropDownTree.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        var isTree = closest(target, '.' + PARENTITEM);\n        var isFilter = closest(target, '.' + FILTERWRAP);\n        var isHeader = closest(target, '.' + HEADER);\n        var isFooter = closest(target, '.' + FOOTER);\n        var isScroller = target.classList.contains(DROPDOWN) ? true :\n            (matches(target, '.e-ddt .e-popup') || matches(target, '.e-ddt .e-treeview'));\n        if ((this.isPopupOpen && ((!isNOU(this.inputWrapper) && this.inputWrapper.contains(target)) || isTree || isScroller || isHeader || isFooter)) ||\n            ((this.allowMultiSelection || this.showCheckBox) && (this.isPopupOpen && target.classList.contains(CHIP_CLOSE) ||\n                (this.isPopupOpen && (target.classList.contains(CHECKALLPARENT) || target.classList.contains(ALLTEXT)\n                    || target.classList.contains(CHECKBOXFRAME)))))) {\n            this.isDocumentClick = false;\n            e.preventDefault();\n        }\n        else if (!isNOU(this.inputWrapper) && !this.inputWrapper.contains(target) && this.inputFocus && !isFilter) {\n            this.focusOut(e);\n        }\n    };\n    DropDownTree.prototype.onActionFailure = function (e) {\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        addClass([this.popupDiv], NODATA);\n    };\n    DropDownTree.prototype.OnDataBound = function (args) {\n        this.treeItems = args.data;\n        if (this.treeItems.length <= 0) {\n            this.l10nUpdate();\n            addClass([this.popupDiv], NODATA);\n            this.hideCheckAll(true);\n        }\n        else if (this.popupDiv.classList.contains(NODATA) && this.treeItems.length >= 1) {\n            removeClass([this.popupDiv], NODATA);\n            this.hideCheckAll(false);\n        }\n        this.treeDataType = this.getTreeDataType(this.treeItems, this.fields);\n        if (this.isFirstRender && this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n            this.treeObj.element.focus();\n        }\n        var eventArgs = { data: args.data };\n        this.trigger('dataBound', eventArgs);\n        if (this.filterObj === null) {\n            this.isFilteredData = false;\n        }\n        if (this.isFilteredData) {\n            this.treeObj.expandAll();\n        }\n        if (this.isFilterRestore) {\n            this.restoreFilterSelection();\n            this.isFilterRestore = false;\n        }\n    };\n    DropDownTree.prototype.restoreFilterSelection = function () {\n        if (this.showCheckBox) {\n            this.treeObj.checkedNodes = this.value ? this.value : [];\n        }\n        else {\n            this.treeObj.selectedNodes = this.value ? this.value : [];\n        }\n    };\n    /* To set cssclass for the dropdowntree */\n    DropDownTree.prototype.setCssClass = function (newClass, oldClass) {\n        var elements = this.popupObj ? [this.inputWrapper, this.popupObj.element] : [this.inputWrapper];\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass(elements, newClass.split(' '));\n        }\n    };\n    DropDownTree.prototype.setEnableRTL = function (state) {\n        if (state) {\n            this.inputWrapper.classList.add(RTL);\n        }\n        else {\n            this.inputWrapper.classList.remove(RTL);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n        if (this.treeObj) {\n            this.treeObj.enableRtl = state;\n            this.treeObj.dataBind();\n        }\n    };\n    /* To set enable property */\n    DropDownTree.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputEle);\n        if (this.enabled) {\n            removeClass([this.inputWrapper], DISABLED);\n            this.inputEle.setAttribute('aria-disabled', 'false');\n            this.inputWrapper.setAttribute('aria-disabled', 'false');\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            addClass([this.inputWrapper], DISABLED);\n            if (this.inputWrapper && this.inputWrapper.classList.contains(INPUTFOCUS)) {\n                removeClass([this.inputWrapper], [INPUTFOCUS]);\n            }\n            this.inputEle.setAttribute('aria-disabled', 'true');\n            this.inputWrapper.setAttribute('aria-disabled', 'true');\n        }\n    };\n    DropDownTree.prototype.cloneFields = function (fields) {\n        var clonedField = {\n            dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n            child: this.cloneChildField(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes, query: fields.query,\n            selected: fields.selected, selectable: fields.selectable, tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return clonedField;\n    };\n    DropDownTree.prototype.cloneChildField = function (fields) {\n        if (typeof fields === 'string') {\n            return fields;\n        }\n        else {\n            var clonedField = {\n                dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n                child: (fields.child ? this.cloneChildField(fields.child) : null), hasChildren: fields.hasChildren,\n                expanded: fields.expanded, iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes,\n                query: fields.query, selected: fields.selected, selectable: fields.selectable, tableName: fields.tableName, tooltip: fields.tooltip\n            };\n            return clonedField;\n        }\n    };\n    DropDownTree.prototype.getTreeFields = function (fields) {\n        var treeFields = {\n            dataSource: fields.dataSource, id: fields.value, text: fields.text, parentID: fields.parentValue,\n            child: this.getTreeChildren(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, isChecked: fields.selected,\n            htmlAttributes: fields.htmlAttributes, query: fields.query, selectable: fields.selectable, selected: fields.selected,\n            tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return treeFields;\n    };\n    DropDownTree.prototype.getTreeChildren = function (mapper) {\n        if (typeof mapper === 'string') {\n            return mapper;\n        }\n        else if (!isNOU(mapper)) {\n            mapper = this.getActualProperties(mapper);\n            var childFields = mapper;\n            if (mapper.value) {\n                childFields.id = mapper.value;\n            }\n            if (mapper.parentValue) {\n                childFields.parentID = mapper.parentValue;\n            }\n            if (mapper.child) {\n                childFields.child = this.getTreeChildren(mapper.child);\n            }\n            if (mapper.selected && this.showCheckBox) {\n                childFields.isChecked = mapper.selected;\n            }\n            return childFields;\n        }\n        return null;\n    };\n    DropDownTree.prototype.getTreeDataType = function (ds, field) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof field.child === 'string') && isNOU(getValue(field.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        if (isNOU(this.fields.dataSource)) {\n            this.fields.dataSource = [];\n        }\n        for (var i = 0, len = this.fields.dataSource.length; i < len; i++) {\n            if ((typeof field.child === 'string') && !isNOU(getValue(field.child, this.fields.dataSource[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(field.parentValue, this.fields.dataSource[i])) || !isNOU(getValue(field.hasChildren, this.fields.dataSource[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    /* Triggers when the tree fields is changed dynamically */\n    DropDownTree.prototype.setFields = function () {\n        this.resetValue();\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        this.treeObj.fields = this.getTreeFields(this.fields);\n        this.treeObj.dataBind();\n    };\n    DropDownTree.prototype.getEventArgs = function (args) {\n        var checkData = args.data;\n        var selectData = args.nodeData;\n        var state;\n        if (this.showCheckBox) {\n            if (args.action === 'check') {\n                state = 'select';\n            }\n            else if (args.action === 'uncheck') {\n                state = 'un-select';\n            }\n        }\n        var eventArgs = {\n            action: this.showCheckBox ? state : args.action,\n            isInteracted: this.isClicked ? true : args.isInteracted,\n            item: args.node,\n            itemData: this.showCheckBox ? checkData[0] : selectData\n        };\n        return eventArgs;\n    };\n    DropDownTree.prototype.onBeforeSelect = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n            if (this.value === null) {\n                this.setProperties({ value: [] }, true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateHiddenValue = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return;\n        }\n        if (this.value && this.value.length) {\n            this.hiddenElement.innerHTML = '<option selected value =\"' + this.value[0] + '\">' + this.text + '</option>';\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /* Triggers when the tree node is selected */\n    DropDownTree.prototype.onNodeSelected = function (args) {\n        if (this.showCheckBox) {\n            return;\n        }\n        var selectedText;\n        if (args.isInteracted) {\n            var id = getValue('id', args.nodeData).toString();\n            if (!this.allowMultiSelection) {\n                this.hiddenElement.innerHTML = '';\n                this.setProperties({ value: [id] }, true);\n                if (this.itemTemplate) {\n                    selectedText = getValue('text', this.treeObj.getNode(id));\n                }\n                else {\n                    selectedText = getValue('text', args.nodeData).toString();\n                }\n                Input.setValue(selectedText, this.inputEle, this.floatLabelType);\n                this.setProperties({ text: selectedText }, true);\n                this.currentText = this.text;\n                this.currentValue = this.value;\n                attributes(this.inputWrapper, { 'aria-describedby': this.element.id });\n                attributes(this.inputWrapper, { 'aria-activedescendant': id.toString() });\n                this.updateHiddenValue();\n                this.showOverAllClear();\n                this.hidePopup();\n                this.isNodeSelected = true;\n            }\n            else if (this.allowMultiSelection) {\n                this.setMultiSelect();\n            }\n        }\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        if (this.isValueChange && !this.changeOnBlur) {\n            this.triggerChangeEvent(this.keyEventArgs);\n            this.isValueChange = false;\n        }\n    };\n    DropDownTree.prototype.onNodeClicked = function (args) {\n        if (!this.changeOnBlur && this.isNodeSelected) {\n            this.triggerChangeEvent(args.event);\n            this.isNodeSelected = false;\n        }\n        var target = args.event.target;\n        if ((target.classList.contains('e-fullrow') || target.classList.contains('e-list-text')) && this.showCheckBox) {\n            this.isClicked = true;\n            var getNodeDetails = this.treeObj.getNode(args.node);\n            if (getNodeDetails.isChecked === 'true') {\n                this.treeObj.uncheckAll([args.node]);\n            }\n            else {\n                this.treeObj.checkAll([args.node]);\n            }\n            this.isClicked = false;\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (!this.changeOnBlur && (this.allowMultiSelection || this.showCheckBox)) {\n            this.triggerChangeEvent(args.event);\n        }\n    };\n    DropDownTree.prototype.onNodeChecked = function (args) {\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        if (this.isFilteredData && args.action === 'uncheck') {\n            var id = getValue('id', args.data[0]).toString();\n            this.removeSelectedData(id, true);\n        }\n        if (!this.isChipDelete && args.isInteracted) {\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (this.showSelectAll && this.checkBoxElement) {\n            var nodes = this.treeObj.element.querySelectorAll('li');\n            var checkedNodes = this.treeObj.element.querySelectorAll('li[aria-checked=true]');\n            var wrap = closest(this.checkBoxElement, '.' + CHECKBOXWRAP);\n            if (wrap && args.action === 'uncheck' && (args.isInteracted || checkedNodes.length === 0 || (!isNOU(args.data[0]) && args.data[0].isChecked === 'false'))) {\n                this.isReverseUpdate = true;\n                this.changeState(wrap, 'uncheck');\n                this.isReverseUpdate = false;\n            }\n            else if (wrap && args.action === 'check' && checkedNodes.length === nodes.length && (args.isInteracted || this.isCheckAllCalled || (!isNOU(args.data[0]) && args.data[0].isChecked === 'true'))) {\n                this.isReverseUpdate = true;\n                this.isCheckAllCalled = false;\n                this.changeState(wrap, 'check');\n                this.isReverseUpdate = false;\n            }\n        }\n    };\n    DropDownTree.prototype.beforeCheck = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n        }\n    };\n    DropDownTree.prototype.onNodeExpanded = function (args) {\n        if (this.hasTemplate && this.portals && this.treeObj.portals) {\n            for (var i = 0; i < this.treeObj.portals.length; i++) {\n                if (this.portals.indexOf(this.treeObj.portals[i]) === -1) {\n                    this.portals.push(this.treeObj.portals[i]);\n                }\n            }\n            /* eslint-enable */\n            this.renderReactTemplates();\n        }\n    };\n    DropDownTree.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (!this.inputWrapper.contains(this.overAllClear)) {\n                this.inputEle.parentElement.insertBefore(this.overAllClear, this.inputEle.nextSibling);\n            }\n            else {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n        else {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            var chipClose = selectAll('.' + CHIP_CLOSE, this.chipWrapper);\n            for (var i = 0; i < chipClose.length; i++) {\n                if (!state) {\n                    addClass([chipClose[i]], HIDEICON);\n                }\n                else {\n                    removeClass([chipClose[i]], HIDEICON);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDropDownIconState = function (state) {\n        var spinIcon = select('.' + DDTICON, this.inputWrapper);\n        if (state) {\n            if (!spinIcon) {\n                Input.appendSpan(DROPDOWNICON, this.inputWrapper, this.createElement);\n            }\n            else {\n                removeClass([spinIcon], HIDEICON);\n            }\n            addClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n        else {\n            addClass([spinIcon], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n    };\n    DropDownTree.prototype.updateMode = function () {\n        if (this.mode === 'Custom') {\n            return;\n        }\n        if (this.mode !== 'Delimiter') {\n            if (!this.inputWrapper.contains(this.chipWrapper)) {\n                this.createChip();\n            }\n            var isValid = this.getValidMode();\n            if (this.chipWrapper.classList.contains(HIDEICON) && isValid) {\n                removeClass([this.chipWrapper], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CHIP);\n            }\n            else if (!isValid) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n            var isValue = this.value !== null ? (this.value.length !== 0 ? true : false) : false;\n            if (isValid && isValue) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else {\n                removeClass([this.inputEle], CHIP_INPUT);\n            }\n        }\n        else if (this.inputEle.classList.contains(CHIP_INPUT)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n        }\n    };\n    DropDownTree.prototype.ensurePlaceHolder = function () {\n        if (isNOU(this.value) || (this.value && this.value.length === 0)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.ensureClearIconPosition = function (floatLabelType) {\n        if (floatLabelType !== 'Never') {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.setMultiSelectValue = function (newValues) {\n        if (!this.isFilteredData) {\n            this.setProperties({ value: this.isFromFilterChange && newValues && newValues.length === 0 ? this.value : newValues }, true);\n            this.isFromFilterChange = false;\n            if (newValues && newValues.length !== 0 && !this.showCheckBox) {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.treeObj.dataBind();\n            }\n        }\n        else {\n            var selectedValues = isNOU(this.value) ? [] : this.value;\n            for (var i = 0; i < newValues.length; i++) {\n                if (isNOU(this.value) || this.value.indexOf(newValues[i]) === -1) {\n                    selectedValues.push(newValues[i]);\n                }\n            }\n            this.setProperties({ value: selectedValues }, true);\n        }\n    };\n    DropDownTree.prototype.setMultiSelect = function () {\n        if (this.showCheckBox && !this.isDynamicChange) {\n            this.setMultiSelectValue(this.treeObj.checkedNodes.slice());\n        }\n        else {\n            var ddtValue = this.allowMultiSelection ? (this.showCheckBox ? this.treeObj.checkedNodes\n                : this.treeObj.selectedNodes) : (this.value ? (this.showCheckBox ? this.value : [this.value[0]]) : null);\n            this.setMultiSelectValue(ddtValue);\n            if (this.showCheckBox && this.value !== null) {\n                this.treeObj.checkedNodes = this.value;\n                this.treeObj.dataBind();\n            }\n        }\n        this.selectedText = [];\n        var checkSelection = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (this.inputWrapper.contains(this.chipWrapper) && !checkSelection) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            detach(this.chipWrapper);\n        }\n        var isValid = this.getValidMode();\n        if (isValid && this.value !== null) {\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                removeClass([this.chipWrapper], HIDEICON);\n            }\n        }\n        var isValue = this.value ? (this.value.length ? true : false) : false;\n        if (this.chipWrapper && (this.mode === 'Box' && !isValue)) {\n            addClass([this.chipWrapper], HIDEICON);\n            removeClass([this.inputEle], CHIP_INPUT);\n        }\n        this.updateSelectedValues();\n    };\n    DropDownTree.prototype.getSelectedData = function (value) {\n        var data = null;\n        if (this.isFilteredData) {\n            for (var i = 0; i < this.selectedData.length; i++) {\n                if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                    data = this.selectedData[i];\n                    break;\n                }\n            }\n        }\n        if (isNOU(data)) {\n            if (this.treeSettings.loadOnDemand) {\n                data = this.getNodeData(value);\n            }\n            else {\n                data = this.treeObj.getNode(value);\n            }\n            if (!isNOU(data)) {\n                this.selectedData.push(data);\n            }\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNodeData = function (id) {\n        var childItems;\n        if (isNOU(id)) {\n            return childItems;\n        }\n        else if (this.treeDataType === 1) {\n            for (var i = 0, objlen = this.treeItems.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.value, this.treeItems[i]);\n                if (!isNOU(this.treeItems[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeItems[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeData(this.treeItems, this.fields, id);\n        }\n        return childItems;\n    };\n    DropDownTree.prototype.getChildNodeData = function (obj, mapper, id) {\n        var newChildItems;\n        if (isNOU(obj)) {\n            return newChildItems;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataValue = getValue(mapper.value, obj[i]);\n            if (obj[i] && dataValue && dataValue.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childNodeData = getValue(mapper.child, obj[i]);\n                newChildItems = this.getChildNodeData(childNodeData, this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newChildItems = this.getChildNodeData(getValue(child, obj[i]), this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newChildItems;\n    };\n    DropDownTree.prototype.getChildMapperFields = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    DropDownTree.prototype.removeSelectedData = function (value, muteOnChange) {\n        var selectedValues = isNOU(this.value) ? [] : this.value.slice();\n        selectedValues.splice(selectedValues.indexOf(value), 1);\n        this.setProperties({ value: selectedValues }, muteOnChange);\n        for (var i = 0; i < this.selectedData.length; i++) {\n            if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                this.selectedData.splice(i, 1);\n                break;\n            }\n        }\n    };\n    DropDownTree.prototype.updateSelectedValues = function () {\n        this.dataValue = '';\n        var temp;\n        var text;\n        var textValue = '';\n        var selectedData;\n        this.hiddenElement.innerHTML = '';\n        var hiddenInputValue = '';\n        if ((!this.isChipDelete || this.treeSettings.autoCheck) && (this.inputWrapper.contains(this.chipWrapper))) {\n            this.chipCollection.innerHTML = '';\n        }\n        if (!this.isFilteredData) {\n            this.selectedData = [];\n        }\n        if (!isNOU(this.value)) {\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                selectedData = this.getSelectedData(this.value[i]);\n                text = getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n                this.selectedText.push(text);\n                temp = this.selectedText[this.selectedText.length - 1];\n                if (this.selectedText.length > 1) {\n                    this.dataValue += (this.delimiterChar + ' ' + temp);\n                    textValue += (',' + temp);\n                }\n                else {\n                    this.dataValue += temp;\n                    textValue += temp;\n                }\n                if (this.mode !== 'Custom' && this.mode !== 'Delimiter' && (!this.isChipDelete || this.treeSettings.autoCheck) &&\n                    (this.allowMultiSelection || this.showCheckBox)) {\n                    this.setChipValues(temp, this.value[i]);\n                }\n                hiddenInputValue += '<option selected value =\"' + this.value[i] + '\">' +\n                    this.selectedText[this.selectedText.length - 1] + '</option>';\n            }\n            if (this.selectedText.length >= 1) {\n                this.setProperties({ text: textValue }, true);\n            }\n            this.hiddenElement.innerHTML = hiddenInputValue;\n            if (this.mode === 'Custom' && (this.allowMultiSelection || this.showCheckBox)) {\n                this.setTagValues();\n            }\n        }\n        var isValid = this.getValidMode();\n        if (this.mode !== 'Custom' && this.mode !== 'Box' && (this.allowMultiSelection || this.showCheckBox) && !isValid) {\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n        }\n        Input.setValue(this.dataValue, this.inputEle, this.floatLabelType);\n        if (textValue === '') {\n            this.setProperties({ text: null }, true);\n        }\n        else {\n            this.setProperties({ text: textValue }, true);\n        }\n        if (this.showClearButton && this.inputFocus) {\n            this.showOverAllClear();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n    };\n    DropDownTree.prototype.setChipValues = function (text, value) {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value }\n        });\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE + ' ' + ICONS });\n        if (this.enableHtmlSanitizer) {\n            chipContent.innerText = SanitizeHtmlHelper.sanitize(text);\n        }\n        else {\n            chipContent.innerHTML = text;\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n        if (this.showClearButton) {\n            chip.appendChild(chipClose);\n            EventHandler.add(chipClose, 'mousedown', this.removeChip, this);\n        }\n    };\n    DropDownTree.prototype.setTagValues = function () {\n        if (this.value === null || this.text == null) {\n            return;\n        }\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        if (!this.inputWrapper.classList.contains(SHOW_CHIP)) {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        var chip = this.createElement('span', {\n            className: CHIP\n        });\n        if (!this.inputEle.classList.contains(CHIP_INPUT)) {\n            addClass([this.inputEle], CHIP_INPUT);\n        }\n        if (this.chipWrapper.classList.contains(HIDEICON)) {\n            removeClass([this.chipWrapper], HIDEICON);\n        }\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var template = this.customTemplate;\n        var templateId = this.customTemplateId;\n        var templatestring = 'customTemplate';\n        var compiledString = this.templateComplier(template);\n        var tempArr = compiledString({ 'value': this.value, 'text': this.text }, this, templatestring, templateId, this.isStringTemplate, undefined, chipContent);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, chipContent);\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n    };\n    DropDownTree.prototype.setSelectAllWrapper = function (state) {\n        if (this.isFirstRender) {\n            return;\n        }\n        if (state && !this.popupEle.contains(this.checkAllParent) && this.showCheckBox) {\n            this.createSelectAllWrapper();\n            this.popupEle.insertBefore(this.checkAllParent, this.popupDiv);\n        }\n        else if (this.popupEle.contains(this.checkAllParent)) {\n            detach(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    DropDownTree.prototype.setHeaderTemplate = function () {\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], HEADER);\n        }\n        var compiledString = this.templateComplier(this.headerTemplate);\n        var tempArr = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, undefined, this.header);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.header);\n        }\n        this.popupEle.insertBefore(this.header, this.checkAllParent ? this.checkAllParent : this.popupDiv);\n    };\n    DropDownTree.prototype.templateComplier = function (template) {\n        if (template) {\n            // eslint-disable-next-line\n            var e = void 0;\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return compile(template);\n    };\n    DropDownTree.prototype.setFooterTemplate = function () {\n        if (this.footer) {\n            if (this.isReact && typeof this.footerTemplate === 'function') {\n                this.clearTemplate(['footerTemplate']);\n            }\n            else {\n                this.footer.innerHTML = '';\n            }\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], FOOTER);\n        }\n        var compiledString = this.templateComplier(this.footerTemplate);\n        var tempArr = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, undefined, this.footer);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.footer);\n        }\n        append([this.footer], this.popupEle);\n    };\n    DropDownTree.prototype.clearAll = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.resetValue();\n        this.showOverAllClear();\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            if (this.popupObj) {\n                this.popupObj.refreshPosition();\n            }\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n        }\n        if (e) {\n            this.isClearButtonClick = true;\n        }\n        if (!this.changeOnBlur) {\n            this.triggerChangeEvent(e);\n        }\n    };\n    DropDownTree.prototype.removeChip = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var element = e.target.parentElement;\n        var value = element.getAttribute('data-value');\n        if (this.chipCollection) {\n            if (element) {\n                remove(element);\n            }\n        }\n        this.isChipDelete = true;\n        this.isClearButtonClick = true;\n        this.removeSelectedData(value, true);\n        this.selectedText = [];\n        if (this.allowMultiSelection) {\n            this.treeObj.selectedNodes = this.value.slice();\n            this.updateSelectedValues();\n        }\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll([value]);\n            this.clearCheckAll();\n            this.setMultiSelect();\n        }\n        this.triggerChangeEvent(e);\n        this.isChipDelete = false;\n        this.ensurePlaceHolder();\n    };\n    DropDownTree.prototype.resetValue = function (isDynamicChange) {\n        if (this.value === [] && this.text == null) {\n            return;\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        if (!isDynamicChange) {\n            this.oldValue = this.value;\n            this.setProperties({ value: [] }, true);\n        }\n        this.dataValue = null;\n        this.setProperties({ text: null }, true);\n        this.selectedData = [];\n        setValue('selectedNodes', [], this.treeObj);\n        this.hiddenElement.innerHTML = '';\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll();\n            this.setMultiSelect();\n            this.clearCheckAll();\n        }\n        if (this.oldValue === null && !isDynamicChange) {\n            this.removeValue = true;\n        }\n        else if (isDynamicChange) {\n            this.triggerChangeEvent();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            this.chipCollection.innerHTML = '';\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.clearCheckAll = function () {\n        if (this.showSelectAll && this.value && this.value.length === 0) {\n            this.setLocale(false);\n        }\n    };\n    DropDownTree.prototype.selectAllItems = function (state) {\n        if (this.showCheckBox) {\n            if (state) {\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n            }\n            else {\n                this.treeObj.uncheckAll();\n            }\n            this.checkSelectAll = state;\n        }\n        else if (this.allowMultiSelection) {\n            if (!state) {\n                this.treeObj.selectedNodes = [];\n            }\n            else {\n                var li = selectAll('li', this.treeObj.element);\n                var id = void 0;\n                var arr = [];\n                for (var i = 0; i < li.length; i++) {\n                    id = li[i].getAttribute('data-uid').toString();\n                    arr.push(id);\n                }\n                this.treeObj.selectedNodes = arr;\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText) {\n            if (state) {\n                this.updateView();\n            }\n            else {\n                this.updateOverflowWrapper(true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateTreeSettings = function (prop) {\n        var value = Object.keys(prop.treeSettings)[0];\n        if (value === 'autoCheck') {\n            this.treeObj.autoCheck = this.treeSettings.autoCheck;\n        }\n        else if (value === 'loadOnDemand') {\n            this.treeObj.loadOnDemand = this.treeSettings.loadOnDemand;\n        }\n        else if (value === 'expandOn') {\n            this.treeObj.expandOn = this.treeSettings.expandOn;\n            this.treeObj.dataBind();\n            return;\n        }\n        this.treeObj.dataBind();\n        this.setMultiSelect();\n        this.updateValue(this.value);\n    };\n    DropDownTree.prototype.updateCheckBoxState = function (checkBox) {\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.showCheckBox = checkBox;\n        this.treeObj.dataBind();\n        this.isDynamicChange = true;\n        this.setSelectAllWrapper(this.showSelectAll);\n        if (this.showSelectAll) {\n            this.setLocale();\n        }\n        if (this.showCheckBox) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateTemplate = function () {\n        if (this.popupObj) {\n            this.clearTemplate();\n            /* eslint-disable */\n            this.portals = [];\n            /* eslint-enable */\n            this.popupObj.destroy();\n            if (this.isPopupOpen) {\n                this.hidePopup();\n                this.isFirstRender = true;\n                this.renderPopup();\n            }\n            else {\n                this.isFirstRender = true;\n            }\n        }\n    };\n    DropDownTree.prototype.l10nUpdate = function (actionFailure) {\n        if (this.noRecord) {\n            this.noRecord.innerHTML = '';\n        }\n        else {\n            this.noRecord = this.createElement('div');\n        }\n        if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            var templatestring = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            var compiledString = this.templateComplier(template);\n            var tempArr = compiledString({}, this, templatestring, templateId, this.isStringTemplate, undefined, this.noRecord);\n            if (tempArr) {\n                tempArr = Array.prototype.slice.call(tempArr);\n                append(tempArr, this.noRecord);\n            }\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No Records Found', actionFailureTemplate: 'The Request Failed' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            this.noRecord.innerHTML = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n        }\n        addClass([this.noRecord], NODATACONTAINER);\n        prepend([this.noRecord], this.popupDiv);\n    };\n    DropDownTree.prototype.updateRecordTemplate = function (action) {\n        if (this.treeItems && this.treeItems.length <= 0) {\n            this.l10nUpdate(action);\n            if (this.hasTemplate) {\n                this.updateTemplate();\n            }\n        }\n    };\n    DropDownTree.prototype.updateOverflowWrapper = function (state) {\n        if (!state) {\n            if (!this.inputWrapper.contains(this.overFlowWrapper)) {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n            }\n        }\n        else if (this.inputWrapper.contains(this.overFlowWrapper) && state) {\n            this.overFlowWrapper.innerHTML = '';\n        }\n    };\n    DropDownTree.prototype.updateMultiSelection = function (state) {\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.allowMultiSelection = state;\n        this.treeObj.dataBind();\n        this.updateOption();\n        if (this.allowMultiSelection) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n    };\n    DropDownTree.prototype.updateAllowFiltering = function (state) {\n        if (!this.isFirstRender) {\n            if (state) {\n                this.renderFilter();\n            }\n            else {\n                this.destroyFilter();\n            }\n        }\n    };\n    DropDownTree.prototype.updateFilterPlaceHolder = function () {\n        if (this.filterObj) {\n            this.filterObj.placeholder = this.filterBarPlaceholder;\n            this.filterObj.element.setAttribute('aria-label', this.filterBarPlaceholder);\n        }\n    };\n    DropDownTree.prototype.updateValue = function (value) {\n        this.isDynamicChange = true;\n        if (isNOU(value) || value.length === 0) {\n            this.resetValue(true);\n        }\n        else {\n            this.setTreeValue();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateText = function (text) {\n        if (isNOU(text)) {\n            this.resetValue();\n        }\n        else {\n            this.setTreeText();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n    };\n    DropDownTree.prototype.updateModelMode = function () {\n        var validMode = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (!validMode) {\n            return;\n        }\n        if (!this.wrapText) {\n            var overFlow = select('.' + OVERFLOW_VIEW, this.inputWrapper);\n            if (overFlow) {\n                overFlow.innerHTML = '';\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText && (this.value && this.value.length !== 0)) {\n            this.updateOverFlowView();\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.mode === 'Box') {\n                removeClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n            else {\n                addClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n        }\n    };\n    DropDownTree.prototype.updateOption = function () {\n        if (!this.hiddenElement.hasAttribute('multiple') && (this.allowMultiSelection || this.showCheckBox)) {\n            this.hiddenElement.setAttribute('multiple', '');\n        }\n        else if (this.hiddenElement.hasAttribute('multiple') && (!this.allowMultiSelection && !this.showCheckBox)) {\n            this.hiddenElement.removeAttribute('multiple');\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {DropDownTreeModel} newProp - specifies the newProp value.\n     * @param {DropDownTreeModel} oldProp - specifies the newProp value.\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputEle);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL(this.enableRtl);\n                    break;\n                case 'fields':\n                    this.setFields();\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.inputEle);\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this.inputObj);\n                    Input.addFloating(this.inputEle, newProp.floatLabelType, this.placeholder, this.createElement);\n                    this.ensureClearIconPosition(newProp.floatLabelType);\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'allowFiltering':\n                    this.updateAllowFiltering(newProp.allowFiltering);\n                    break;\n                case 'filterBarPlaceholder':\n                    this.updateFilterPlaceHolder();\n                    break;\n                case 'value':\n                    this.oldValue = oldProp.value;\n                    this.updateValue(newProp.value);\n                    break;\n                case 'text':\n                    this.updateText(newProp.text);\n                    break;\n                case 'allowMultiSelection':\n                    this.updateMultiSelection(newProp.allowMultiSelection);\n                    break;\n                case 'mode':\n                    if (!this.showCheckBox && !this.allowMultiSelection) {\n                        return;\n                    }\n                    if (this.mode === 'Custom') {\n                        if (this.overFlowWrapper) {\n                            detach(this.overFlowWrapper);\n                        }\n                        if (this.chipWrapper) {\n                            detach(this.chipWrapper);\n                        }\n                        this.setTagValues();\n                    }\n                    else {\n                        if (oldProp.mode === 'Custom') {\n                            this.updateOverflowWrapper(this.wrapText);\n                        }\n                        this.updateModelMode();\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode === 'Box') {\n                        return;\n                    }\n                    if (this.showCheckBox || this.allowMultiSelection) {\n                        this.setMultiSelect();\n                    }\n                    break;\n                case 'selectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale();\n                    }\n                    break;\n                case 'unSelectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale(false);\n                    }\n                    break;\n                case 'showSelectAll':\n                    if (this.showCheckBox) {\n                        this.setSelectAllWrapper(newProp.showSelectAll);\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'showCheckBox':\n                    this.updateCheckBoxState(newProp.showCheckBox);\n                    if (!this.wrapText) {\n                        this.updateOverflowWrapper(true);\n                    }\n                    this.updatePopupHeight();\n                    this.updateOption();\n                    break;\n                case 'treeSettings':\n                    this.updateTreeSettings(newProp);\n                    break;\n                case 'customTemplate':\n                    if (this.mode !== 'Custom') {\n                        return;\n                    }\n                    this.chipCollection.innerHTML = '';\n                    this.setTagValues();\n                    break;\n                case 'sortOrder':\n                    if (this.hasTemplate) {\n                        this.updateTemplate();\n                    }\n                    this.treeObj.sortOrder = newProp.sortOrder;\n                    this.treeObj.dataBind();\n                    this.updateValue(this.value);\n                    break;\n                case 'showDropDownIcon':\n                    this.updateDropDownIconState(newProp.showDropDownIcon);\n                    break;\n                case 'popupWidth':\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'zIndex':\n                    if (this.popupObj) {\n                        this.popupObj.zIndex = newProp.zIndex;\n                        this.popupObj.dataBind();\n                    }\n                    break;\n                case 'headerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'footerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'itemTemplate':\n                    this.updateTemplate();\n                    this.treeObj.nodeTemplate = newProp.itemTemplate;\n                    this.treeObj.dataBind();\n                    break;\n                case 'noRecordsTemplate':\n                    this.updateRecordTemplate();\n                    break;\n                case 'actionFailureTemplate':\n                    this.updateRecordTemplate(true);\n                    break;\n                case 'htmlAttributes':\n                    this.setHTMLAttributes();\n                    break;\n                case 'wrapText':\n                    this.updateOverflowWrapper(this.wrapText);\n                    if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                        this.updateView();\n                    }\n                    else {\n                        addClass([this.overFlowWrapper], HIDEICON);\n                        if (this.chipWrapper && this.mode === 'Box') {\n                            removeClass([this.chipWrapper], HIDEICON);\n                        }\n                        else {\n                            removeClass([this.inputWrapper], SHOW_CHIP);\n                            removeClass([this.inputEle], CHIP_INPUT);\n                        }\n                        this.ensurePlaceHolder();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Allows you to clear the selected values from the Dropdown Tree component.\n     *\n     * @method clear\n     * @returns {void}\n     */\n    DropDownTree.prototype.clear = function () {\n        this.clearAll();\n        if (this.inputFocus) {\n            this.onFocusOut();\n        }\n        else {\n            if (this.changeOnBlur) {\n                this.triggerChangeEvent();\n            }\n            this.removeValue = false;\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownTree.prototype.destroy = function () {\n        this.clearTemplate();\n        this.unWireEvents();\n        this.setCssClass(null, this.cssClass);\n        this.setProperties({ text: null }, true);\n        this.treeObj.destroy();\n        this.destroyFilter();\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n        if (this.element.tagName !== this.getDirective()) {\n            this.inputWrapper.parentElement.insertBefore(this.element, this.inputWrapper);\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        detach(this.inputWrapper);\n        detach(this.popupDiv);\n        detach(this.hiddenElement);\n        this.element.classList.remove('e-input');\n        if (this.showCheckBox || this.allowMultiSelection) {\n            this.element.classList.remove(CHIP_INPUT);\n        }\n        this.inputObj = null;\n        while (this.hiddenElement.options.length > 0) {\n            this.hiddenElement.remove(0);\n        }\n        this.hiddenElement.innerHTML = '';\n        this.hiddenElement = null;\n        this.inputWrapper = null;\n        this.popupDiv = null;\n        this.tree = null;\n        this.popupObj = null;\n        this.treeObj = null;\n        this.overAllClear = null;\n        this.chipWrapper = null;\n        this.chipCollection = null;\n        this.checkAllParent = null;\n        this.selectAllSpan = null;\n        this.checkBoxElement = null;\n        this.checkWrapper = null;\n        this.popupEle = null;\n        this.header = null;\n        this.footer = null;\n        this.overFlowWrapper = null;\n        this.keyboardModule = null;\n        _super.prototype.destroy.call(this);\n        this.setProperties({ value: [] }, true);\n    };\n    DropDownTree.prototype.destroyFilter = function () {\n        if (this.filterObj) {\n            this.filterObj.destroy();\n            detach(this.filterObj.element);\n            detach(this.filterContainer);\n            this.filterObj = null;\n        }\n    };\n    DropDownTree.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    /**\n     * Ensures visibility of the Dropdown Tree item by using item value or item element.\n     * If many Dropdown Tree items are present, and we are in need to find a particular item, then the `ensureVisible` property\n     * helps you to bring the item to visibility by expanding the Dropdown Tree and scrolling to the specific item.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element.\n     * @returns {void}\n     */\n    DropDownTree.prototype.ensureVisible = function (item) {\n        this.treeObj.ensureVisible(item);\n    };\n    /**\n     * To get the updated data source of the Dropdown Tree.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element\n     * @returns {'{[key: string]: Object }[]'} - returns the updated data source of the Dropdown Tree.\n     */\n    DropDownTree.prototype.getData = function (item) {\n        return this.treeObj.getTreeData(item);\n    };\n    /**\n     * Close the Dropdown tree pop-up.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.hidePopup = function () {\n        var eventArgs = { popup: this.popupObj };\n        this.inputWrapper.classList.remove(ICONANIMATION);\n        if (this.popupEle) {\n            addClass([this.popupEle], DDTHIDEICON);\n        }\n        attributes(this.inputEle, { 'aria-expanded': 'false' });\n        if (this.popupObj && this.isPopupOpen) {\n            this.popupObj.hide();\n            if (this.inputFocus) {\n                this.inputWrapper.focus();\n                if (this.allowFiltering) {\n                    addClass([this.inputWrapper], [INPUTFOCUS]);\n                }\n            }\n            this.trigger('close', eventArgs);\n            if (this.destroyPopupOnHide) {\n                this.isFirstRender = true;\n                this.destroyPopup();\n            }\n        }\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected or deselected.\n     *\n     * @param {boolean} state - Unselects/Selects entire Dropdown Tree items.\n     * @returns {void}\n     *\n     */\n    DropDownTree.prototype.selectAll = function (state) {\n        this.selectAllItems(state);\n    };\n    /**\n     * Opens the popup that displays the Dropdown Tree items.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.showPopup = function () {\n        if (!this.enabled || this.readonly || this.isPopupOpen) {\n            return;\n        }\n        this.renderPopup();\n        this.focusIn();\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - returns the module name.\n     */\n    DropDownTree.prototype.getModuleName = function () {\n        return 'dropdowntree';\n    };\n    __decorate([\n        Property('The Request Failed')\n    ], DropDownTree.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"changeOnBlur\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownTree.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('${value.length} item(s) selected')\n    ], DropDownTree.prototype, \"customTemplate\", void 0);\n    __decorate([\n        Property(',')\n    ], DropDownTree.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"enabled\", void 0);\n    __decorate([\n        Complex({}, Fields)\n    ], DropDownTree.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownTree.prototype, \"filterType\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownTree.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownTree.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('Default')\n    ], DropDownTree.prototype, \"mode\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], DropDownTree.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownTree.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], DropDownTree.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"destroyPopupOnHide\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownTree.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, TreeSettings)\n    ], DropDownTree.prototype, \"treeSettings\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], DropDownTree.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"value\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownTree.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"wrapText\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"select\", void 0);\n    DropDownTree = __decorate([\n        NotifyPropertyChanges\n    ], DropDownTree);\n    return DropDownTree;\n}(Component));\nexport { DropDownTree };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nimport { EventHandler, Property, Event, addClass, Browser, removeClass, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, NotifyPropertyChanges, getValue, setValue } from '@syncfusion/ej2-base';\nimport { DropDownList, dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { Search } from '../common/incremental-search';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    /**\n     * *Constructor for creating the component\n     *\n     * @param {ComboBoxModel} options - Specifies the ComboBox model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function ComboBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    ComboBox.prototype.getLocaleName = function () {\n        return 'combo-box';\n    };\n    ComboBox.prototype.wireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n            EventHandler.add(this.inputWrapper.container, 'blur', this.onBlurHandler, this);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n        }\n        EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n        if (!this.readonly) {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n            EventHandler.add(window, 'resize', this.windowResize, this);\n        }\n        this.bindCommonEvent();\n    };\n    ComboBox.prototype.preventBlur = function (e) {\n        if ((!this.allowFiltering && document.activeElement !== this.inputElement &&\n            !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice)) {\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.onBlurHandler = function (e) {\n        var inputValue = this.inputElement && this.inputElement.value === '' ?\n            null : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData) && !isNullOrUndefined(inputValue) && inputValue !== this.text) {\n            this.customValue(e);\n        }\n        _super.prototype.onBlurHandler.call(this, e);\n    };\n    ComboBox.prototype.targetElement = function () {\n        return this.inputElement;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldText = function (text) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n        this.removeSelection();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldValue = function (value) {\n        if (this.allowCustom) {\n            this.valueMuteChange(this.value);\n        }\n        else {\n            this.valueMuteChange(null);\n        }\n        this.removeSelection();\n        this.setHiddenValue();\n    };\n    ComboBox.prototype.valueMuteChange = function (value) {\n        value = this.allowObjectBinding && !isNullOrUndefined(value) ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n        var inputValue = isNullOrUndefined(value) ? null : value.toString();\n        Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        if (this.allowObjectBinding) {\n            value = this.getDataByValue(value);\n        }\n        this.setProperties({ value: value, text: value, index: null }, true);\n        this.activeIndex = this.index;\n        var fields = this.fields;\n        var dataItem = {};\n        dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n        dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n        this.itemData = dataItem;\n        this.item = null;\n        if ((!this.allowObjectBinding && (this.previousValue !== this.value)) || (this.allowObjectBinding && this.previousValue && this.value && !this.isObjectInArray(this.previousValue, [this.value]))) {\n            this.detachChangeEvent(null);\n        }\n    };\n    ComboBox.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            var li = this.getElementByValue(currentValue);\n            var doesItemExist = !isNullOrUndefined(li) ? true : false;\n            if (this.enableVirtualization && this.value) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var currentValue_1 = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                if (this.dataSource instanceof DataManager && this.virtualGroupDataSource) {\n                    var getItem = new DataManager(this.virtualGroupDataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue_1)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        doesItemExist = true;\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n                else {\n                    var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue_1)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        doesItemExist = true;\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n            }\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else if ((!this.enableVirtualization && this.allowCustom) || (this.allowCustom && this.enableVirtualization && !doesItemExist)) {\n                this.valueMuteChange(this.value);\n            }\n            else if (!this.enableVirtualization || (this.enableVirtualization && !doesItemExist)) {\n                this.valueMuteChange(null);\n            }\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var li = this.getElementByText(this.text);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.customValue();\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    ComboBox.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement && this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    ComboBox.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'role': 'combobox',\n            'aria-autocomplete': 'both',\n            'aria-labelledby': this.hiddenElement.id,\n            'aria-expanded': 'false',\n            'aria-readonly': this.readonly.toString(),\n            'autocomplete': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false'\n        };\n        return ariaAttributes;\n    };\n    ComboBox.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        if (this.isFiltering()) {\n            _super.prototype.searchLists.call(this, e);\n            if (this.ulElement && this.filterInput.value.trim() === '') {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n        }\n        else {\n            if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n            this.incrementalSearch(e);\n        }\n    };\n    ComboBox.prototype.getNgDirective = function () {\n        return 'EJS-COMBOBOX';\n    };\n    ComboBox.prototype.setSearchBox = function () {\n        this.filterInput = this.inputElement;\n        var searchBoxContainer = (this.isFiltering() || (this.isReact && this.getModuleName() === 'combobox')) ? this.inputWrapper : inputObject;\n        return searchBoxContainer;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isSelectCustom) {\n            this.removeSelection();\n        }\n        if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped && !this.enableVirtualization) {\n            setTimeout(function () {\n                _this.inlineSearch();\n            });\n        }\n    };\n    ComboBox.prototype.getFocusElement = function () {\n        var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n        var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : this.list;\n        var isSelected = dataItem.text && dataItem.text.toString() === this.inputElement.value && !isNullOrUndefined(selected);\n        if (isSelected) {\n            return selected;\n        }\n        if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) &&\n            !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n            var inputValue = this.inputElement.value;\n            var dataSource = this.sortedData;\n            var type = this.typeOfData(dataSource).typeof;\n            var activeItem = Search(inputValue, this.liCollections, this.filterType, true, dataSource, this.fields, type);\n            if (this.enableVirtualization && inputValue !== '' && this.getModuleName() !== 'autocomplete' && this.isTyped && !this.allowFiltering) {\n                var updatingincrementalindex = false;\n                if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) || this.incrementalEndIndex == 0) {\n                    updatingincrementalindex = true;\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    if (this.incrementalEndIndex == 0) {\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                    }\n                    else {\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                    }\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                }\n                if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                    this.updateIncrementalView(0, this.itemCount);\n                }\n                activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n                while (isNullOrUndefined(activeItem.item) && this.incrementalEndIndex < this.totalItemCount) {\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n                    if (!isNullOrUndefined(activeItem)) {\n                        activeItem.index = activeItem.index + this.incrementalStartIndex;\n                        break;\n                    }\n                    if (isNullOrUndefined(activeItem) && this.incrementalEndIndex >= this.totalItemCount) {\n                        this.incrementalStartIndex = 0;\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                        break;\n                    }\n                }\n                if (activeItem.index) {\n                    if ((!(this.viewPortInfo.startIndex >= activeItem.index)) || (!(activeItem.index >= this.viewPortInfo.endIndex))) {\n                        var startIndex = activeItem.index - ((this.itemCount / 2) - 2) > 0 ? activeItem.index - ((this.itemCount / 2) - 2) : 0;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        if (startIndex != this.viewPortInfo.startIndex) {\n                            this.updateIncrementalView(startIndex, endIndex);\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(activeItem.item)) {\n                    var index_1 = this.getIndexByValue(activeItem.item.getAttribute('data-value')) - this.skeletonCount;\n                    if (index_1 > this.itemCount / 2) {\n                        var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) : this.totalItemCount;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                    activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n                }\n                else {\n                    this.updateIncrementalView(0, this.itemCount);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    this.list.scrollTop = 0;\n                }\n                if (activeItem && activeItem.item) {\n                    activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n                }\n            }\n            var activeElement = activeItem.item;\n            if (!isNullOrUndefined(activeElement)) {\n                var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n                var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n                if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n                    this.removeFocus();\n                    var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = count * height + fixedHead;\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                        if (this.enableVirtualization && !this.fields.groupBy) {\n                            var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? activeElement.offsetTop + (this.virtualListInfo.startIndex * activeElement.offsetHeight) : activeElement.offsetTop;\n                            this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * activeElement.offsetHeight);\n                        }\n                    }\n                    addClass([activeElement], dropDownListClasses.focus);\n                }\n            }\n            else {\n                if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n                    this.removeFocus();\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = 0;\n                    }\n                }\n            }\n            return activeElement;\n        }\n        else {\n            return null;\n        }\n    };\n    ComboBox.prototype.setValue = function (e) {\n        if (e && e.type === 'keydown' && e.action === 'enter') {\n            this.removeFillSelection();\n        }\n        if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n            this.preventAutoFill = false;\n            this.inlineSearch(e);\n            return false;\n        }\n        else {\n            return _super.prototype.setValue.call(this, e);\n        }\n    };\n    ComboBox.prototype.checkCustomValue = function () {\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        this.itemData = this.getDataByValue(value);\n        var dataItem = this.getItemData();\n        var setValue = this.allowObjectBinding ? this.itemData : dataItem.value;\n        if (!(this.allowCustom && isNullOrUndefined(dataItem.value) && isNullOrUndefined(dataItem.text))) {\n            this.setProperties({ 'value': setValue }, !this.allowCustom);\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = (this.getModuleName() === 'autocomplete') ? (this.inputWrapper.buttons[0] ||\n                this.inputWrapper.clearButton ||\n                Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement)) :\n                (this.inputWrapper.buttons[0] || this.inputWrapper.clearButton);\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n        if (!isHover) {\n            this.setHoverList(activeElement);\n        }\n        if (this.autofill && !this.preventAutoFill) {\n            var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n            var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n            if (this.getModuleName() === 'combobox') {\n                if (!this.isSelected && ((!this.allowObjectBinding && this.previousValue !== currentFillValue)) || (this.allowObjectBinding && this.previousValue && currentFillValue && !this.isObjectInArray(this.previousValue, [this.getDataByValue(currentFillValue)]))) {\n                    this.updateSelectedItem(activeElement, null);\n                    this.isSelected = true;\n                    this.previousValue = this.allowObjectBinding ? this.getDataByValue(this.getFormattedValue(activeElement.getAttribute('data-value'))) : this.getFormattedValue(activeElement.getAttribute('data-value'));\n                }\n                else {\n                    this.updateSelectedItem(activeElement, null, true);\n                }\n            }\n            if (!this.isAndroidAutoFill(currentValue)) {\n                this.setAutoFillSelection(currentValue, isHover);\n            }\n        }\n    };\n    ComboBox.prototype.isAndroidAutoFill = function (value) {\n        if (Browser.isAndroid) {\n            var currentPoints = this.getSelectionPoints();\n            var prevEnd = this.prevSelectPoints.end;\n            var curEnd = currentPoints.end;\n            var prevStart = this.prevSelectPoints.start;\n            var curStart = currentPoints.start;\n            if (prevEnd !== 0 && ((prevEnd === value.length && prevStart === value.length) ||\n                (prevStart > curStart && prevEnd > curEnd) || (prevEnd === curEnd && prevStart === curStart))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    ComboBox.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n        if (this.isFiltering() && !isNullOrUndefined(e) && e.target === this.inputWrapper.clearButton) {\n            this.searchLists(e);\n        }\n    };\n    ComboBox.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    ComboBox.prototype.inlineSearch = function (e) {\n        var isKeyNavigate = (e && (e.action === 'down' || e.action === 'up' ||\n            e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown'));\n        var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n        if (!isNullOrUndefined(activeElement)) {\n            if (!isKeyNavigate) {\n                var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n                this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n            }\n            this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n            this.setAutoFill(activeElement, isKeyNavigate);\n        }\n        else if (!isNullOrUndefined(this.inputElement) && this.inputElement.value === '') {\n            this.activeIndex = null;\n            if (!isNullOrUndefined(this.list)) {\n                if (!this.enableVirtualization) {\n                    this.list.scrollTop = 0;\n                }\n                var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n                this.setHoverList(focusItem);\n            }\n        }\n        else {\n            this.activeIndex = null;\n            this.removeSelection();\n            if (this.liCollections && this.liCollections.length > 0 && !this.isCustomFilter) {\n                this.removeFocus();\n            }\n        }\n    };\n    ComboBox.prototype.incrementalSearch = function (e) {\n        this.showPopup(e);\n        if (!isNullOrUndefined(this.listData)) {\n            this.inlineSearch(e);\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.setAutoFillSelection = function (currentValue, isKeyNavigate) {\n        if (isKeyNavigate === void 0) { isKeyNavigate = false; }\n        var selection = this.getSelectionPoints();\n        var value = this.inputElement.value.substr(0, selection.start);\n        if (value && (value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase())) {\n            var inputValue = value + currentValue.substr(value.length, currentValue.length);\n            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n        }\n        else if (isKeyNavigate) {\n            Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n    };\n    ComboBox.prototype.getValueByText = function (text) {\n        return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n    };\n    ComboBox.prototype.unWireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n            EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n        }\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n            if (!this.readonly) {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n                EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n                EventHandler.remove(window, 'resize', this.windowResize);\n            }\n        }\n        this.unBindCommonEvent();\n    };\n    ComboBox.prototype.setSelection = function (li, e) {\n        _super.prototype.setSelection.call(this, li, e);\n        if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.selectCurrentItem = function (e) {\n        var li;\n        if (this.isPopupOpen) {\n            if (this.isSelected) {\n                li = this.list.querySelector('.' + dropDownListClasses.selected);\n            }\n            else {\n                li = this.list.querySelector('.' + dropDownListClasses.focus);\n            }\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n        }\n        if (e.action === 'enter' && this.inputElement.value.trim() === '') {\n            this.clearAll(e);\n        }\n        else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n            this.customValue(e);\n        }\n        this.hidePopup(e);\n    };\n    ComboBox.prototype.setHoverList = function (li) {\n        this.removeSelection();\n        if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n            this.removeFocus();\n            li.classList.add(dropDownListClasses.focus);\n        }\n    };\n    ComboBox.prototype.targetFocus = function (e) {\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = false;\n        }\n        this.onFocus(e);\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    };\n    ComboBox.prototype.dropDownClick = function (e) {\n        e.preventDefault();\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.dropDownClick.call(this, e);\n    };\n    ComboBox.prototype.customValue = function (e) {\n        var _this = this;\n        var value = this.getValueByText(this.inputElement.value);\n        if (!this.allowCustom && this.inputElement.value !== '') {\n            var previousValue = this.previousValue;\n            var currentValue = this.value;\n            value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n            this.setProperties({ value: value });\n            if (isNullOrUndefined(this.value)) {\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            var newValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            if (this.autofill && ((!this.allowObjectBinding && previousValue === this.value) || (this.allowObjectBinding && previousValue && this.isObjectInArray(previousValue, [this.value]))) && ((!this.allowObjectBinding && currentValue !== this.value) || (this.allowObjectBinding && currentValue && !this.isObjectInArray(currentValue, [this.value])))) {\n                this.onChangeEvent(null);\n            }\n        }\n        else if (this.inputElement.value.trim() !== '') {\n            var previousValue_1 = this.value;\n            if (isNullOrUndefined(value)) {\n                var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n                // eslint-disable-next-line max-len\n                var eventArgs = { text: value_1, item: {} };\n                this.isObjectCustomValue = true;\n                if (!this.initial) {\n                    this.trigger('customValueSpecifier', eventArgs, function (eventArgs) {\n                        _this.updateCustomValueCallback(value_1, eventArgs, previousValue_1, e);\n                    });\n                }\n                else {\n                    this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n                }\n            }\n            else {\n                this.isSelectCustom = false;\n                value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n                this.setProperties({ value: value });\n                if ((!this.allowObjectBinding && previousValue_1 !== this.value) || (this.allowObjectBinding && previousValue_1 && this.value && !this.isObjectInArray(previousValue_1, [this.value]))) {\n                    this.onChangeEvent(e);\n                }\n            }\n        }\n        else if (this.allowCustom) {\n            this.isSelectCustom = true;\n        }\n    };\n    ComboBox.prototype.updateCustomValueCallback = function (value, eventArgs, previousValue, e) {\n        var _this = this;\n        var fields = this.fields;\n        var item = eventArgs.item;\n        var dataItem = {};\n        if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n            dataItem = item;\n        }\n        else {\n            setValue(fields.text, value, dataItem);\n            setValue(fields.value, value, dataItem);\n        }\n        this.itemData = dataItem;\n        var emptyObject = {};\n        if (this.allowObjectBinding) {\n            var keys = this.listData && this.listData.length > 0 ? Object.keys(this.listData[0]) : Object.keys(this.itemData);\n            if ((!(this.listData && this.listData.length > 0)) && (this.getModuleName() === 'autocomplete' || (this.getModuleName() === 'combobox' && this.allowFiltering))) {\n                keys = this.firstItem ? Object.keys(this.firstItem) : Object.keys(this.itemData);\n            }\n            // Create an empty object with predefined keys\n            keys.forEach(function (key) {\n                emptyObject[key] = ((key === fields.value) || (key === fields.text)) ? getValue(fields.value, _this.itemData) : null;\n            });\n        }\n        var changeData = {\n            text: getValue(fields.text, this.itemData),\n            value: this.allowObjectBinding ? emptyObject : getValue(fields.value, this.itemData),\n            index: null\n        };\n        this.setProperties(changeData, true);\n        this.setSelection(null, null);\n        this.isSelectCustom = true;\n        this.isObjectCustomValue = false;\n        if ((!this.allowObjectBinding && (previousValue !== this.value)) || (this.allowObjectBinding && ((previousValue == null && this.value !== null) || (previousValue && !this.isObjectInArray(previousValue, [this.value]))))) {\n            this.onChangeEvent(e, true);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {ComboBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {ComboBoxModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'combobox') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp, oldProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    if (this.readonly) {\n                        EventHandler.remove(this.inputElement, 'input', this.onInput);\n                        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                    }\n                    else {\n                        EventHandler.add(this.inputElement, 'input', this.onInput, this);\n                        EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n                        EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n                    }\n                    this.setReadOnly();\n                    break;\n                case 'allowFiltering':\n                    this.setSearchBox();\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                case 'allowCustom':\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var comboProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n                    if (this.isFiltering() && prop === 'dataSource' && isNullOrUndefined(this.list) && this.itemTemplate &&\n                        this.getModuleName() === 'combobox') {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * To initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.setSearchBox();\n        this.renderComplete();\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    ComboBox.prototype.getModuleName = function () {\n        return 'combobox';\n    };\n    /**\n     * Adds a new item to the combobox popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.filter = function (dataSource, query, fields) {\n        _super.prototype.filter.call(this, dataSource, query, fields);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.showPopup.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        var inputValue = this.inputElement && this.inputElement.value === '' ? null\n            : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData)) {\n            var isEscape = this.isEscapeKey;\n            if (this.isEscapeKey) {\n                Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.isEscapeKey = false;\n            }\n            if (this.autofill) {\n                this.removeFillSelection();\n            }\n            var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n            var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : null;\n            if (this.inputElement && dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) {\n                if (this.isSelected) {\n                    this.onChangeEvent(e);\n                    this.isSelectCustom = false;\n                }\n                _super.prototype.hidePopup.call(this, e);\n                return;\n            }\n            if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n                var dataSource = this.sortedData;\n                var type = this.typeOfData(dataSource).typeof;\n                var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true, dataSource, this.fields, type);\n                this.selectedLI = searchItem.item;\n                if (isNullOrUndefined(searchItem.index)) {\n                    searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true, dataSource, this.fields, type).index;\n                }\n                this.activeIndex = searchItem.index;\n                if (!isNullOrUndefined(this.selectedLI)) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                }\n                else if (isEscape) {\n                    this.isSelectCustom = true;\n                    this.removeSelection();\n                }\n            }\n            if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n                this.customValue(e);\n            }\n        }\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== value) {\n            this.customValue();\n        }\n        _super.prototype.hidePopup.call(this, e);\n    };\n    /**\n     * Sets the focus to the component for interaction.\n     *\n     * @returns {void}\n     */\n    ComboBox.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.clear = function () {\n        this.value = null;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.focusOut.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     * @deprecated\n     */\n    ComboBox.prototype.getItems = function () {\n        return _super.prototype.getItems.call(this);\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     * @deprecated\n     */\n    ComboBox.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    ComboBox.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"autofill\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"allowCustom\", void 0);\n    __decorate([\n        Property({})\n    ], ComboBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"index\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"customValueSpecifier\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('Never')\n    ], ComboBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], ComboBox.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowObjectBinding\", void 0);\n    ComboBox = __decorate([\n        NotifyPropertyChanges\n    ], ComboBox);\n    return ComboBox;\n}(DropDownList));\nexport { ComboBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../combo-box/combo-box-model.d.ts'/>\nimport { Property, EventHandler, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { Event, Complex } from '@syncfusion/ej2-base';\nimport { removeClass, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { ComboBox } from '../combo-box/combo-box';\nimport { highlightSearch, revertHighlightSearch } from '../common/highlight-search';\nimport { Search } from '../common/incremental-search';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\ndropDownListClasses.root = 'e-autocomplete';\ndropDownListClasses.icon = 'e-input-group-icon e-ddl-icon e-search-icon';\n/**\n * The AutoComplete component provides the matched suggestion list when type into the input,\n * from which the user can select one.\n * ```html\n * <input id=\"list\" type=\"text\"/>\n * ```\n * ```typescript\n *   let atcObj:AutoComplete = new AutoComplete();\n *   atcObj.appendTo(\"#list\");\n * ```\n */\nvar AutoComplete = /** @class */ (function (_super) {\n    __extends(AutoComplete, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {AutoCompleteModel} options - Specifies the AutoComplete model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function AutoComplete(options, element) {\n        var _this_1 = _super.call(this, options, element) || this;\n        _this_1.isFiltered = false;\n        _this_1.searchList = false;\n        return _this_1;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    AutoComplete.prototype.getLocaleName = function () {\n        return 'auto-complete';\n    };\n    AutoComplete.prototype.getNgDirective = function () {\n        return 'EJS-AUTOCOMPLETE';\n    };\n    AutoComplete.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        var filterType = (this.queryString === '' && !isNullOrUndefined(value)) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(value)) ? value : this.queryString;\n        if (this.isFiltered) {\n            if ((this.enableVirtualization && !isNullOrUndefined(this.customFilterQuery))) {\n                filterQuery = this.customFilterQuery.clone();\n            }\n            else if (!this.enableVirtualization) {\n                return filterQuery;\n            }\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else if ((!this.enableVirtualization) || (this.enableVirtualization && (!(this.dataSource instanceof DataManager) || (this.dataSource instanceof DataManager && this.virtualGroupDataSource)))) {\n                var mapping = !isNullOrUndefined(this.fields.value) ? this.fields.value : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount) && !this.enableVirtualization) {\n            // Since defualt value of suggestioncount is 20, checked the condition\n            if (this.suggestionCount !== 20) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        if (this.enableVirtualization && (!(this.dataSource instanceof DataManager) || (this.dataSource instanceof DataManager && this.virtualGroupDataSource))) {\n            var queryTakeValue = 0;\n            var querySkipValue = 0;\n            var takeValue = this.getTakeValue();\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements].e.nos;\n                    }\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = takeValue <= filterQuery.queries[queryElements].e.nos ? filterQuery.queries[queryElements].e.nos : takeValue;\n                    }\n                }\n            }\n            if (queryTakeValue <= 0 && this.query && this.query.queries.length > 0) {\n                for (var queryElements = 0; queryElements < this.query.queries.length; queryElements++) {\n                    if (this.query.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = takeValue <= this.query.queries[queryElements].e.nos ? this.query.queries[queryElements].e.nos : takeValue;\n                    }\n                }\n            }\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements].e.nos;\n                        filterQuery.queries.splice(queryElements, 1);\n                        --queryElements;\n                        continue;\n                    }\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = filterQuery.queries[queryElements].e.nos <= queryTakeValue ? queryTakeValue : filterQuery.queries[queryElements].e.nos;\n                        filterQuery.queries.splice(queryElements, 1);\n                        --queryElements;\n                    }\n                }\n            }\n            if (querySkipValue > 0 && this.virtualItemStartIndex <= querySkipValue) {\n                filterQuery.skip(querySkipValue);\n            }\n            else {\n                filterQuery.skip(this.virtualItemStartIndex);\n            }\n            if (queryTakeValue > 0 && takeValue <= queryTakeValue) {\n                filterQuery.take(queryTakeValue);\n            }\n            else {\n                filterQuery.take(takeValue);\n            }\n            filterQuery.requiresCount();\n        }\n        else if (this.enableVirtualization && (this.dataSource instanceof DataManager && !this.virtualGroupDataSource)) {\n            for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                if (filterQuery.queries[queryElements].fn === 'onSkip' || filterQuery.queries[queryElements].fn === 'onTake') {\n                    filterQuery.queries.splice(queryElements, 1);\n                    --queryElements;\n                }\n            }\n        }\n        return filterQuery;\n    };\n    AutoComplete.prototype.searchLists = function (e) {\n        var _this_1 = this;\n        this.isTyped = true;\n        this.isDataFetched = this.isSelectCustom = false;\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        this.checkAndResetCache();\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this, e, true);\n        }\n        this.queryString = this.filterInput.value;\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields, null, e);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.filterInput.value,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this_1.isFiltered = true;\n                _this_1.customFilterQuery = query;\n                _this_1.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this_1.isFiltered && !eventArgs.preventDefaultAction) {\n                _this_1.searchList = true;\n                _this_1.filterAction(_this_1.dataSource, null, _this_1.fields, e);\n            }\n        });\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    AutoComplete.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.filterAction(dataSource, query, fields);\n    };\n    AutoComplete.prototype.filterAction = function (dataSource, query, fields, e) {\n        this.beforePopupOpen = true;\n        var isNoDataElement = this.list.classList.contains('e-nodata');\n        if (this.queryString !== '' && (this.queryString.length >= this.minLength)) {\n            if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n                this.isPreventScrollAction = true;\n                this.list.scrollTop = 0;\n                this.previousStartIndex = 0;\n                this.virtualListInfo = null;\n            }\n            this.resetList(dataSource, fields, query, e);\n            if (this.enableVirtualization && isNoDataElement && !this.list.classList.contains('e-nodata')) {\n                if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                    this.list.appendChild(this.createElement('div', {\n                        className: 'e-virtual-ddl-content',\n                        styles: this.getTransformValues()\n                    })).appendChild(this.list.querySelector('.e-list-parent'));\n                }\n                if (!this.list.querySelector('.e-virtual-ddl')) {\n                    var virualElement = this.createElement('div', {\n                        id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                    });\n                    document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                }\n            }\n            if ((this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount != 0)) {\n                this.getFilteringSkeletonCount();\n            }\n        }\n        else {\n            this.hidePopup(e);\n            this.beforePopupOpen = false;\n        }\n        this.renderReactTemplates();\n    };\n    AutoComplete.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n            this.checkAndResetCache();\n        }\n        if (this.beforePopupOpen) {\n            this.hidePopup();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        if (!this.enableVirtualization) {\n            this.fixedHeaderElement = null;\n        }\n        if ((this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount != 0)) {\n            this.getFilteringSkeletonCount();\n        }\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var item = this.list.querySelector('.' + dropDownListClasses.li);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], dropDownListClasses.focus);\n        }\n        this.postBackAction();\n    };\n    AutoComplete.prototype.postBackAction = function () {\n        if (this.autofill && !isNullOrUndefined(this.liCollections[0]) && this.searchList) {\n            var items = [this.liCollections[0]];\n            var dataSource = this.listData;\n            var type = this.typeOfData(dataSource).typeof;\n            var searchItem = Search(this.inputElement.value, items, 'StartsWith', this.ignoreCase, dataSource, this.fields, type);\n            this.searchList = false;\n            if (!isNullOrUndefined(searchItem.item)) {\n                _super.prototype.setAutoFill.call(this, this.liCollections[0], true);\n            }\n        }\n    };\n    AutoComplete.prototype.setSelection = function (li, e) {\n        if (!this.isValidLI(li)) {\n            this.selectedLI = li;\n            return;\n        }\n        if (!isNullOrUndefined(e) && e.type === 'keydown' && e.action !== 'enter'\n            && e.action !== 'tab' && this.isValidLI(li)) {\n            var value = this.getFormattedValue(li.getAttribute('data-value'));\n            this.activeIndex = this.getIndexByValue(value);\n            this.setHoverList(li);\n            this.selectedLI = li;\n            this.setScrollPosition(e);\n            if (this.autofill && this.isPopupOpen) {\n                this.preventAutoFill = false;\n                var isKeyNavigate = (e && e.action === 'down' || e.action === 'up' ||\n                    e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown');\n                _super.prototype.setAutoFill.call(this, li, isKeyNavigate);\n            }\n        }\n        else {\n            _super.prototype.setSelection.call(this, li, e);\n        }\n    };\n    AutoComplete.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this_1 = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this_1.highlight) {\n                    if (_this_1.element.tagName === _this_1.getNgDirective() && _this_1.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                        }, 0);\n                    }\n                    else {\n                        highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this_1.highlight) {\n                    highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                }\n                itemCreated_1.apply(_this_1, [e]);\n            };\n        }\n        return fields;\n    };\n    AutoComplete.prototype.isFiltering = function () {\n        return true;\n    };\n    AutoComplete.prototype.renderPopup = function (e) {\n        if (!this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        _super.prototype.renderPopup.call(this, e);\n    };\n    AutoComplete.prototype.isEditTextBox = function () {\n        return false;\n    };\n    AutoComplete.prototype.isPopupButton = function () {\n        return this.showPopupButton;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.isSelectFocusItem = function (element) {\n        return false;\n    };\n    AutoComplete.prototype.setInputValue = function (newProp, oldProp) {\n        var oldValue = oldProp && oldProp.text ? oldProp.text : oldProp ? oldProp.value : oldProp;\n        var value = newProp && newProp.text ? newProp.text : newProp && newProp.value ? newProp.value : this.value;\n        if (this.allowObjectBinding) {\n            oldValue = !isNullOrUndefined(oldValue) ? getValue((this.fields.value) ? this.fields.value : '', oldValue) : oldValue;\n            value = !isNullOrUndefined(value) ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n        }\n        if (value && this.typedString === '' && !this.allowCustom && !(this.dataSource instanceof DataManager)) {\n            var checkFields_1_1 = this.typeOfData(this.dataSource).typeof === 'string' ? '' : this.fields.value;\n            var listLength_1 = this.getItems().length;\n            var query = new Query();\n            var _this_2 = this;\n            new DataManager(this.dataSource).executeQuery(query.where(new Predicate(checkFields_1_1, 'equal', value)))\n                .then(function (e) {\n                if (e.result.length > 0) {\n                    _this_2.value = checkFields_1_1 !== '' ? _this_2.allowObjectBinding ? e.result[0] : e.result[0][_this_2.fields.value].toString() : e.result[0].toString();\n                    _this_2.addItem(e.result, listLength_1);\n                    _this_2.updateValues();\n                }\n                else {\n                    newProp && newProp.text ? _this_2.setOldText(oldValue) : newProp && newProp.value ? _this_2.setOldValue(oldValue) : _this_2.updateValues();\n                }\n            });\n        }\n        else if (newProp) {\n            newProp.text ? this.setOldText(oldValue) : this.setOldValue(oldValue);\n        }\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    AutoComplete.prototype.showPopup = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        this.preventAutoFill = true;\n        if (isNullOrUndefined(this.list)) {\n            this.renderList(e);\n        }\n        else {\n            this.resetList(this.dataSource, this.fields, null, e);\n        }\n    };\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n     */\n    AutoComplete.prototype.hidePopup = function (e) {\n        _super.prototype.hidePopup.call(this, e);\n        this.activeIndex = null;\n        this.virtualListInfo = this.viewPortInfo;\n        this.previousStartIndex = this.viewPortInfo.startIndex;\n        this.startIndex = this.viewPortInfo.startIndex;\n        this.previousEndIndex = this.viewPortInfo.endIndex;\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {AutoCompleteModel} newProp - Returns the dynamic property value of the component.\n     * @param {AutoCompleteModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showPopupButton':\n                    if (this.showPopupButton) {\n                        var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container, this.createElement);\n                        this.inputWrapper.buttons[0] = button;\n                        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                        }\n                        if (this.inputWrapper && this.inputWrapper.buttons && this.inputWrapper.buttons[0]) {\n                            EventHandler.add(this.inputWrapper.buttons[0], 'click', this.dropDownClick, this);\n                        }\n                    }\n                    else {\n                        detach(this.inputWrapper.buttons[0]);\n                        this.inputWrapper.buttons[0] = null;\n                    }\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var atcProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);\n                    break;\n                }\n            }\n        }\n    };\n    AutoComplete.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n                isHighlight = null;\n            }\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    AutoComplete.prototype.getModuleName = function () {\n        return 'autocomplete';\n    };\n    /**\n     * To initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.render = function () {\n        _super.prototype.render.call(this);\n    };\n    __decorate([\n        Complex({ value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], AutoComplete.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], AutoComplete.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"showPopupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"highlight\", void 0);\n    __decorate([\n        Property(20)\n    ], AutoComplete.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property({})\n    ], AutoComplete.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"query\", void 0);\n    __decorate([\n        Property(1)\n    ], AutoComplete.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('Contains')\n    ], AutoComplete.prototype, \"filterType\", void 0);\n    __decorate([\n        Event()\n    ], AutoComplete.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], AutoComplete.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"text\", void 0);\n    AutoComplete = __decorate([\n        NotifyPropertyChanges\n    ], AutoComplete);\n    return AutoComplete;\n}(ComboBox));\nexport { AutoComplete };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { isCollide, Popup, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { attributes, setValue, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, extend } from '@syncfusion/ej2-base';\nimport { EventHandler, Property, Event, compile, L10n } from '@syncfusion/ej2-base';\nimport { Animation, Browser, prepend, Complex } from '@syncfusion/ej2-base';\nimport { Search } from '../common/incremental-search';\nimport { append, addClass, removeClass, closest, detach, remove, select, selectAll } from '@syncfusion/ej2-base';\nimport { getUniqueID, formatUnit, isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { DataManager, Query, Predicate, JsonAdaptor } from '@syncfusion/ej2-data';\nimport { createFloatLabel, removeFloating, floatLabelFocus, floatLabelBlur, encodePlaceholder } from './float-label';\nvar FOCUS = 'e-input-focus';\nvar DISABLED = 'e-disabled';\nvar OVER_ALL_WRAPPER = 'e-multiselect e-input-group e-control-wrapper';\nvar ELEMENT_WRAPPER = 'e-multi-select-wrapper';\nvar ELEMENT_MOBILE_WRAPPER = 'e-mob-wrapper';\nvar HIDE_LIST = 'e-hide-listitem';\nvar DELIMITER_VIEW = 'e-delim-view';\nvar CHIP_WRAPPER = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar CHIP_SELECTED = 'e-chip-selected';\nvar SEARCHBOX_WRAPPER = 'e-searcher';\nvar DELIMITER_VIEW_WRAPPER = 'e-delimiter';\nvar ZERO_SIZE = 'e-zero-size';\nvar REMAIN_WRAPPER = 'e-remain';\nvar CLOSEICON_CLASS = 'e-chips-close e-close-hooker';\nvar DELIMITER_WRAPPER = 'e-delim-values';\nvar POPUP_WRAPPER = 'e-ddl e-popup e-multi-select-list-wrapper';\nvar INPUT_ELEMENT = 'e-dropdownbase';\nvar RTL_CLASS = 'e-rtl';\nvar CLOSE_ICON_HIDE = 'e-close-icon-hide';\nvar MOBILE_CHIP = 'e-mob-chip';\nvar FOOTER = 'e-ddl-footer';\nvar HEADER = 'e-ddl-header';\nvar DISABLE_ICON = 'e-ddl-disable-icon';\nvar SPINNER_CLASS = 'e-ms-spinner-icon';\nvar HIDDEN_ELEMENT = 'e-multi-hidden';\nvar destroy = 'destroy';\nvar dropdownIcon = 'e-input-group-icon e-ddl-icon';\nvar iconAnimation = 'e-icon-anim';\nvar TOTAL_COUNT_WRAPPER = 'e-delim-total';\nvar BOX_ELEMENT = 'e-multiselect-box';\nvar FILTERPARENT = 'e-filter-parent';\nvar CUSTOM_WIDTH = 'e-search-custom-width';\nvar FILTERINPUT = 'e-input-filter';\n/**\n * The Multiselect allows the user to pick a more than one value from list of predefined values.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var multiselectObj = new Multiselect();\n *   multiselectObj.appendTo(\"#list\");\n * </script>\n * ```\n */\nvar MultiSelect = /** @class */ (function (_super) {\n    __extends(MultiSelect, _super);\n    /**\n     * Constructor for creating the DropDownList widget.\n     *\n     * @param {MultiSelectModel} option - Specifies the MultiSelect model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function MultiSelect(option, element) {\n        var _this = _super.call(this, option, element) || this;\n        _this.clearIconWidth = 0;\n        _this.previousFilterText = '';\n        _this.isValidKey = false;\n        _this.selectAllEventData = [];\n        _this.selectAllEventEle = [];\n        _this.resetMainList = null;\n        _this.resetFilteredData = false;\n        _this.preventSetCurrentData = false;\n        _this.scrollFocusStatus = false;\n        _this.keyDownStatus = false;\n        _this.IsScrollerAtEnd = function () {\n            return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n        };\n        return _this;\n    }\n    MultiSelect.prototype.enableRTL = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.add(RTL_CLASS);\n        }\n        else {\n            this.overAllWrapper.classList.remove(RTL_CLASS);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n    };\n    MultiSelect.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'VirtualScroll' });\n        }\n        if (this.mode === 'CheckBox') {\n            this.isGroupChecking = this.enableGroupCheckBox;\n            if (this.enableGroupCheckBox) {\n                var prevOnChange = this.isProtectedOnChange;\n                this.isProtectedOnChange = true;\n                this.enableSelectionOrder = false;\n                this.isProtectedOnChange = prevOnChange;\n            }\n            this.allowCustomValue = false;\n            this.hideSelectedItem = false;\n            this.closePopupOnSelect = false;\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    MultiSelect.prototype.updateHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                switch (htmlAttr) {\n                    case 'class': {\n                        var updatedClassValue = (this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValue !== '') {\n                            addClass([this.overAllWrapper], updatedClassValue.split(' '));\n                            addClass([this.popupWrapper], updatedClassValue.split(' '));\n                        }\n                        break;\n                    }\n                    case 'disabled':\n                        this.enable(false);\n                        break;\n                    case 'placeholder':\n                        if (!this.placeholder) {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                            this.setProperties({ placeholder: this.inputElement.placeholder }, true);\n                            this.refreshPlaceHolder();\n                        }\n                        break;\n                    default: {\n                        var defaultAttr = ['id'];\n                        var validateAttr = ['name', 'required', 'aria-required', 'form'];\n                        var containerAttr = ['title', 'role', 'style', 'class'];\n                        if (defaultAttr.indexOf(htmlAttr) > -1) {\n                            this.element.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (containerAttr.indexOf(htmlAttr) > -1) {\n                            this.overAllWrapper.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (htmlAttr !== 'size' && !isNullOrUndefined(this.inputElement)) {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.updateReadonly = function (state) {\n        if (!isNullOrUndefined(this.inputElement)) {\n            if (state || this.mode === 'CheckBox') {\n                this.inputElement.setAttribute('readonly', 'true');\n            }\n            else {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    MultiSelect.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (this.overAllClear.parentNode) {\n                this.overAllClear.style.display = '';\n            }\n            else {\n                this.componentWrapper.appendChild(this.overAllClear);\n            }\n            this.componentWrapper.classList.remove(CLOSE_ICON_HIDE);\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n    };\n    MultiSelect.prototype.updateCssClass = function () {\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            var updatedCssClassValues = this.cssClass;\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n            if (updatedCssClassValues !== '') {\n                addClass([this.overAllWrapper], updatedCssClassValues.split(' '));\n                addClass([this.popupWrapper], updatedCssClassValues.split(' '));\n            }\n        }\n    };\n    MultiSelect.prototype.updateOldPropCssClass = function (oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n            if (oldClass !== '') {\n                removeClass([this.overAllWrapper], oldClass.split(' '));\n                removeClass([this.popupWrapper], oldClass.split(' '));\n            }\n        }\n    };\n    MultiSelect.prototype.onPopupShown = function (e) {\n        var _this = this;\n        if (Browser.isDevice && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            window.onpopstate = function () {\n                proxy_1.hidePopup();\n                proxy_1.inputElement.focus();\n            };\n            history.pushState({}, '');\n        }\n        var animModel = { name: 'FadeIn', duration: 100 };\n        var eventArgs = { popup: this.popupObj, event: e, cancel: false, animation: animModel };\n        this.trigger('open', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                _this.focusAtFirstListItem();\n                if (_this.popupObj) {\n                    document.body.appendChild(_this.popupObj.element);\n                }\n                if (_this.mode === 'CheckBox' && _this.enableGroupCheckBox && !isNullOrUndefined(_this.fields.groupBy)) {\n                    _this.updateListItems(_this.list.querySelectorAll('li.e-list-item'), _this.mainList.querySelectorAll('li.e-list-item'));\n                }\n                if (_this.mode === 'CheckBox' || _this.showDropDownIcon) {\n                    addClass([_this.overAllWrapper], [iconAnimation]);\n                }\n                _this.refreshPopup();\n                _this.renderReactTemplates();\n                if (_this.popupObj) {\n                    _this.popupObj.show(eventArgs.animation, (_this.zIndex === 1000) ? _this.element : null);\n                }\n                attributes(_this.inputElement, { 'aria-expanded': 'true', 'aria-owns': _this.element.id + '_popup', 'aria-controls': _this.element.id });\n                _this.updateAriaActiveDescendant();\n                if (_this.isFirstClick) {\n                    if (_this.enableVirtualization && _this.mode === 'CheckBox' && _this.value && _this.enableSelectionOrder) {\n                        _this.updateVirtualReOrderList();\n                    }\n                    _this.loadTemplate();\n                }\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    EventHandler.add(_this.popupObj.element, 'click', _this.clickHandler, _this);\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.updateVirtualReOrderList = function (isCheckBoxUpdate) {\n        var query = this.getForQuery(this.value, true).clone();\n        this.resetList(this.dataSource, this.fields, query);\n        this.UpdateSkeleton();\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.virtualItemCount = this.itemCount;\n        if (this.mode !== 'CheckBox') {\n            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n        }\n        if (!this.list.querySelector('.e-virtual-ddl')) {\n            var virualElement = this.createElement('div', {\n                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n            });\n            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        if (this.list.querySelector('.e-virtual-ddl-content')) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n        if (isCheckBoxUpdate) {\n            this.loadTemplate();\n        }\n    };\n    MultiSelect.prototype.updateListItems = function (listItems, mainListItems) {\n        for (var i = 0; i < listItems.length; i++) {\n            this.findGroupStart(listItems[i]);\n            this.findGroupStart(mainListItems[i]);\n        }\n        this.deselectHeader();\n    };\n    MultiSelect.prototype.loadTemplate = function () {\n        this.refreshListItems(null);\n        if (this.enableVirtualization && this.list && this.mode === 'CheckBox') {\n            var reOrderList = this.list.querySelectorAll('.e-reorder')[0];\n            if (this.list.querySelector('.e-virtual-ddl-content') && reOrderList) {\n                this.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList);\n            }\n        }\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n        this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n        this.isPreventScrollAction = true;\n    };\n    MultiSelect.prototype.setScrollPosition = function () {\n        if (((!this.hideSelectedItem && this.mode !== 'CheckBox') || (this.mode === 'CheckBox' && !this.enableSelectionOrder)) &&\n            (!isNullOrUndefined(this.value) && (this.value.length > 0))) {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n            var valueEle = this.findListElement((this.hideSelectedItem ? this.ulElement : this.list), 'li', 'data-value', value);\n            if (!isNullOrUndefined(valueEle)) {\n                this.scrollBottom(valueEle);\n            }\n        }\n        if (this.enableVirtualization) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            this.scrollBottom(focusedItem);\n        }\n    };\n    MultiSelect.prototype.focusAtFirstListItem = function () {\n        if (this.ulElement && this.ulElement.querySelector('li.'\n            + dropDownBaseClasses.li)) {\n            var element = void 0;\n            if (this.mode === 'CheckBox') {\n                this.removeFocus();\n                return;\n            }\n            else {\n                if (this.enableVirtualization) {\n                    element = this.ulElement.querySelector('li.'\n                        + dropDownBaseClasses.li + ':not(.e-virtual-list)' + ':not(.e-hide-listitem)');\n                }\n                else {\n                    element = this.ulElement.querySelector('li.'\n                        + dropDownBaseClasses.li + ':not(.'\n                        + HIDE_LIST + ')');\n                }\n            }\n            if (element !== null) {\n                this.removeFocus();\n                this.addListFocus(element);\n            }\n        }\n    };\n    MultiSelect.prototype.focusAtLastListItem = function (data) {\n        var activeElement;\n        if (data) {\n            activeElement = Search(data, this.liCollections, 'StartsWith', this.ignoreCase);\n        }\n        else {\n            if (this.value && this.value.length) {\n                var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                Search(value, this.liCollections, 'StartsWith', this.ignoreCase);\n            }\n            else {\n                activeElement = null;\n            }\n        }\n        if (activeElement && activeElement.item !== null) {\n            this.addListFocus(activeElement.item);\n            if (((this.allowCustomValue || this.allowFiltering) && this.isPopupOpen() && this.closePopupOnSelect && !this.enableVirtualization) || this.closePopupOnSelect && !this.enableVirtualization) {\n                this.scrollBottom(activeElement.item, activeElement.index);\n            }\n        }\n    };\n    MultiSelect.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-disabled': 'false',\n            'role': 'combobox',\n            'aria-expanded': 'false'\n        };\n        return ariaAttributes;\n    };\n    MultiSelect.prototype.updateListARIA = function () {\n        if (!isNullOrUndefined(this.ulElement)) {\n            attributes(this.ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false', 'aria-label': 'list' });\n        }\n        var disableStatus = !isNullOrUndefined(this.inputElement) && (this.inputElement.disabled) ? true : false;\n        if (!this.isPopupOpen() && !isNullOrUndefined(this.inputElement)) {\n            attributes(this.inputElement, this.getAriaAttributes());\n        }\n        if (disableStatus) {\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n        }\n        this.ensureAriaDisabled((disableStatus) ? 'true' : 'false');\n    };\n    MultiSelect.prototype.ensureAriaDisabled = function (status) {\n        if (this.htmlAttributes && this.htmlAttributes['aria-disabled']) {\n            var attr = this.htmlAttributes;\n            extend(attr, { 'aria-disabled': status }, attr);\n            this.setProperties({ htmlAttributes: attr }, true);\n        }\n    };\n    MultiSelect.prototype.removelastSelection = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem !== null) {\n            this.removeSelectedChip(e);\n            return;\n        }\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        var value = elements[elements.length - 1].getAttribute('data-value');\n        if (!isNullOrUndefined(this.value)) {\n            this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n        }\n        var customValue = this.allowObjectBinding ? this.getDataByValue(value) : this.getFormattedValue(value);\n        if (this.allowCustomValue && (value !== 'false' && customValue === false || (!isNullOrUndefined(customValue) &&\n            customValue.toString() === 'NaN'))) {\n            customValue = value;\n        }\n        this.removeValue(customValue, e);\n        this.removeChipSelection();\n        this.updateDelimeter(this.delimiterChar, e);\n        this.makeTextBoxEmpty();\n        if (this.mainList && this.listData) {\n            this.refreshSelection();\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        this.renderPopup();\n        this.onPopupShown();\n    };\n    MultiSelect.prototype.targetElement = function () {\n        this.targetInputElement = this.inputElement;\n        if (this.mode === 'CheckBox' && this.allowFiltering) {\n            this.notify('targetElement', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        return this.targetInputElement.value;\n    };\n    MultiSelect.prototype.getForQuery = function (valuecheck, isCheckbox) {\n        var predicate;\n        var field = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n        if (this.enableVirtualization) {\n            if (isCheckbox) {\n                for (var i = 0; i < valuecheck.length; i++) {\n                    var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', valuecheck[i]) : valuecheck[i];\n                    if (i === 0) {\n                        predicate = new Predicate(field, 'equal', value);\n                    }\n                    else {\n                        predicate = predicate.or(field, 'equal', value);\n                    }\n                }\n                return new Query().where(predicate);\n            }\n            else {\n                for (var i = 0; i < valuecheck.length; i++) {\n                    var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', valuecheck[i]) : valuecheck[i];\n                    if (i === 0) {\n                        predicate = new Predicate(field, 'notequal', value);\n                    }\n                    else {\n                        predicate = predicate.and(field, 'notequal', value);\n                    }\n                }\n                return new Query().where(predicate);\n            }\n        }\n        else {\n            for (var i = 0; i < valuecheck.length; i++) {\n                if (i === 0) {\n                    predicate = new Predicate(field, 'equal', valuecheck[i]);\n                }\n                else {\n                    predicate = predicate.or(field, 'equal', valuecheck[i]);\n                }\n            }\n        }\n        if (this.dataSource instanceof DataManager && this.dataSource.adaptor instanceof JsonAdaptor) {\n            return new Query().where(predicate);\n        }\n        else {\n            return this.getQuery(this.query).clone().where(predicate);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    MultiSelect.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        if (this.dataSource instanceof DataManager && !isNullOrUndefined(e) && !this.virtualGroupDataSource) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = e.count;\n        }\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        this.skeletonCount = this.totalItemCount != 0 && this.totalItemCount < (this.itemCount * 2) ? 0 : this.skeletonCount;\n        this.updateSelectElementData(this.allowFiltering);\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        if (!isNullOrUndefined(this.value) && !this.allowCustomValue && !this.enableVirtualization) {\n            for (var i = 0; i < this.value.length; i++) {\n                var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', proxy.value[i]) : proxy.value[i];\n                var checkEle = this.findListElement(((this.allowFiltering && !isNullOrUndefined(this.mainList)) ? this.mainList : ulElement), 'li', 'data-value', value);\n                if (!checkEle && !(this.dataSource instanceof DataManager)) {\n                    this.value.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        var valuecheck = [];\n        if (!isNullOrUndefined(this.value)) {\n            valuecheck = this.presentItemValue(this.ulElement);\n        }\n        if (valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)\n            && this.listData != null) {\n            this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n        }\n        else {\n            this.updateActionList(ulElement, list, e);\n        }\n        if (this.dataSource instanceof DataManager && this.allowCustomValue && !this.isCustomRendered && this.inputElement.value && this.inputElement.value !== '') {\n            var query = new Query();\n            query = this.allowFiltering ? query.where(this.fields.text, 'startswith', this.inputElement.value, this.ignoreCase, this.ignoreAccent) : query;\n            this.checkForCustomValue(query, this.fields);\n            this.isCustomRendered = true;\n        }\n        if (this.dataSource instanceof DataManager && this.mode === 'CheckBox' && this.allowFiltering) {\n            this.removeFocus();\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    MultiSelect.prototype.updateActionList = function (ulElement, list, e, isUpdated) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        if (!this.mainList && !this.mainData) {\n            this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n            this.mainData = list;\n            this.mainListCollection = this.liCollections;\n        }\n        else if (isNullOrUndefined(this.mainData) || this.mainData.length === 0) {\n            this.mainData = list;\n        }\n        if ((this.remoteCustomValue || list.length <= 0) && this.allowCustomValue && this.inputFocus && this.allowFiltering &&\n            this.inputElement.value && this.inputElement.value !== '') {\n            this.checkForCustomValue(this.tempQuery, this.fields);\n            if (this.isCustomRendered) {\n                return;\n            }\n        }\n        if (this.value && this.value.length && ((this.mode !== 'CheckBox' && !isNullOrUndefined(this.inputElement) && this.inputElement.value.trim() !== '') ||\n            this.mode === 'CheckBox' || ((this.keyCode === 8 || this.keyCode === 46) && this.allowFiltering &&\n            this.allowCustomValue && this.dataSource instanceof DataManager && this.inputElement.value === ''))) {\n            this.refreshSelection();\n        }\n        this.updateListARIA();\n        this.unwireListEvents();\n        this.wireListEvents();\n        if (!isNullOrUndefined(this.setInitialValue)) {\n            this.setInitialValue();\n        }\n        if (!isNullOrUndefined(this.selectAllAction)) {\n            this.selectAllAction();\n        }\n        if (this.setDynValue) {\n            if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n                this.initialTextUpdate();\n            }\n            this.initialValueUpdate();\n            this.initialUpdate();\n            this.refreshPlaceHolder();\n            if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                this.updateValueState(null, this.value, null);\n            }\n        }\n        this.renderPopup();\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.onPopupShown(e);\n        }\n    };\n    MultiSelect.prototype.refreshSelection = function () {\n        var value;\n        var element;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (!isNullOrUndefined(this.value)) {\n            for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[index]) : this.value[index];\n                element = this.findListElement(this.list, 'li', 'data-value', value);\n                if (element) {\n                    addClass([element], className);\n                    if (this.hideSelectedItem && element.previousSibling\n                        && element.previousElementSibling.classList.contains(dropDownBaseClasses.group)\n                        && (!element.nextElementSibling ||\n                            element.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                        addClass([element.previousElementSibling], className);\n                    }\n                    if (this.hideSelectedItem && this.fields.groupBy && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n                        this.hideGroupItem(value);\n                    }\n                    if (this.hideSelectedItem && element.classList.contains(dropDownBaseClasses.focus)) {\n                        removeClass([element], dropDownBaseClasses.focus);\n                        var listEle = element.parentElement.querySelectorAll('.' +\n                            dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n                        if (listEle.length > 0) {\n                            addClass([listEle[0]], dropDownBaseClasses.focus);\n                            this.updateAriaActiveDescendant();\n                        }\n                        else {\n                            //EJ2-57588 - for this task, we prevent the ul element cloning ( this.ulElement = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n                            if (!(this.list && this.list.querySelectorAll('.' + dropDownBaseClasses.li).length > 0)) {\n                                this.l10nUpdate();\n                                addClass([this.list], dropDownBaseClasses.noData);\n                            }\n                        }\n                    }\n                    element.setAttribute('aria-selected', 'true');\n                    if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                        var ariaValue = element.getElementsByClassName('e-check').length;\n                        if (ariaValue === 0) {\n                            var args = {\n                                module: 'CheckBoxSelection',\n                                enable: this.mode === 'CheckBox',\n                                li: element,\n                                e: null\n                            };\n                            this.notify('updatelist', args);\n                        }\n                    }\n                }\n            }\n        }\n        this.checkSelectAll();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.hideGroupItem = function (value) {\n        var element;\n        var element1;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        element1 = element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n        var i = 0;\n        var j = 0;\n        var temp = true;\n        var temp1 = true;\n        do {\n            if (element && element.previousElementSibling\n                && (!element.previousElementSibling.classList.contains(HIDE_LIST) &&\n                    element.previousElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp = false;\n            }\n            if (!temp || !element || (element.previousElementSibling\n                && element.previousElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                i = 10;\n            }\n            else {\n                element = element.previousElementSibling;\n            }\n            if (element1 && element1.nextElementSibling\n                && (!element1.nextElementSibling.classList.contains(HIDE_LIST) &&\n                    element1.nextElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp1 = false;\n            }\n            if (!temp1 || !element1 || (element1.nextElementSibling\n                && element1.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                j = 10;\n            }\n            else {\n                element1 = element1.nextElementSibling;\n            }\n        } while (i < 10 || j < 10);\n        if (temp && temp1 && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            addClass([element.previousElementSibling], className);\n        }\n        else if (temp && temp1 && element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            removeClass([element.previousElementSibling], className);\n        }\n    };\n    MultiSelect.prototype.getValidLi = function () {\n        var liElement = this.ulElement.querySelector('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n        return (!isNullOrUndefined(liElement) ? liElement : this.liCollections[0]);\n    };\n    MultiSelect.prototype.checkSelectAll = function () {\n        var groupItemLength = this.list.querySelectorAll('li.e-list-group-item.e-active').length;\n        var listItem = this.list.querySelectorAll('li.e-list-item');\n        var searchCount = this.enableVirtualization ? this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-virtual-list)').length : this.list.querySelectorAll('li.' + dropDownBaseClasses.li).length;\n        var searchActiveCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.selected).length;\n        if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            searchActiveCount = searchActiveCount - groupItemLength;\n        }\n        if ((!this.enableVirtualization && ((searchCount === searchActiveCount || searchActiveCount === this.maximumSelectionLength)\n            && (this.mode === 'CheckBox' && this.showSelectAll))) || (this.enableVirtualization && this.mode === 'CheckBox' && this.showSelectAll && this.virtualSelectAll && this.value && this.value.length === this.totalItemCount)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'check' });\n        }\n        else if ((searchCount !== searchActiveCount) && (this.mode === 'CheckBox' && this.showSelectAll) && ((!this.enableVirtualization) || (this.enableVirtualization && !this.virtualSelectAll))) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n        }\n        if (this.enableGroupCheckBox && this.fields.groupBy && !this.enableSelectionOrder) {\n            for (var i = 0; i < listItem.length; i++) {\n                this.findGroupStart(listItem[i]);\n            }\n            this.deselectHeader();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.openClick = function (e) {\n        if (!this.openOnClick && this.mode !== 'CheckBox' && !this.isPopupOpen()) {\n            if (this.targetElement() !== '') {\n                this.showPopup();\n            }\n            else {\n                this.hidePopup(e);\n            }\n        }\n        else if (!this.openOnClick && this.mode === 'CheckBox' && !this.isPopupOpen()) {\n            this.showPopup();\n        }\n    };\n    MultiSelect.prototype.keyUp = function (e) {\n        if (this.mode === 'CheckBox' && !this.openOnClick) {\n            var char = String.fromCharCode(e.keyCode);\n            var isWordCharacter = char.match(/\\w/);\n            if (!isNullOrUndefined(isWordCharacter)) {\n                this.isValidKey = true;\n            }\n        }\n        this.isValidKey = (this.isPopupOpen() && e.keyCode === 8) || this.isValidKey;\n        this.isValidKey = e.ctrlKey && e.keyCode === 86 ? false : this.isValidKey;\n        if (this.isValidKey && this.inputElement) {\n            this.isValidKey = false;\n            this.expandTextbox();\n            this.showOverAllClear();\n            switch (e.keyCode) {\n                default:\n                    // For filtering works in mobile firefox\n                    this.search(e);\n            }\n        }\n    };\n    /**\n     * To filter the multiselect data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     */\n    MultiSelect.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.remoteFilterAction = true;\n        this.dataUpdater(dataSource, query, fields);\n    };\n    MultiSelect.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.isFiltered) {\n            if ((this.enableVirtualization && !isNullOrUndefined(this.customFilterQuery))) {\n                filterQuery = this.customFilterQuery.clone();\n            }\n            else if (!this.enableVirtualization) {\n                return filterQuery;\n            }\n        }\n        if (this.filterAction) {\n            if ((this.targetElement() !== null && !this.enableVirtualization) || (this.enableVirtualization && this.targetElement() !== null && this.targetElement().trim() !== '')) {\n                var dataType = this.typeOfData(this.dataSource).typeof;\n                if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                    filterQuery.where('', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n                else {\n                    var fields = this.fields;\n                    filterQuery.where(!isNullOrUndefined(fields.text) ? fields.text : '', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n            }\n            if (this.enableVirtualization && (this.viewPortInfo.endIndex != 0) && !this.virtualSelectAll) {\n                return this.virtualFilterQuery(filterQuery);\n            }\n            return filterQuery;\n        }\n        else {\n            if (this.enableVirtualization && (this.viewPortInfo.endIndex != 0) && !this.virtualSelectAll && (!(this.dataSource instanceof DataManager) || (this.dataSource instanceof DataManager && this.virtualGroupDataSource))) {\n                return this.virtualFilterQuery(filterQuery);\n            }\n            else if (this.enableVirtualization && (this.dataSource instanceof DataManager && !this.virtualGroupDataSource)) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip' || filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                        --queryElements;\n                    }\n                }\n                return filterQuery;\n            }\n            return query ? query : this.query ? this.query : new Query();\n        }\n    };\n    MultiSelect.prototype.virtualFilterQuery = function (filterQuery) {\n        var takeValue = this.getTakeValue();\n        var isReOrder = true;\n        var isSkip = true;\n        var isTake = true;\n        for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n            if (this.getModuleName() === 'multiselect' && ((filterQuery.queries[queryElements].e && filterQuery.queries[queryElements].e.condition == 'or') || (filterQuery.queries[queryElements].e && filterQuery.queries[queryElements].e.operator == 'equal'))) {\n                isReOrder = false;\n            }\n            if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                isSkip = false;\n            }\n            if (filterQuery.queries[queryElements].fn === 'onTake') {\n                isTake = false;\n            }\n        }\n        var queryTakeValue = 0;\n        if (filterQuery && filterQuery.queries.length > 0) {\n            for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                if (filterQuery.queries[queryElements].fn === 'onTake') {\n                    queryTakeValue = takeValue <= filterQuery.queries[queryElements].e.nos ? filterQuery.queries[queryElements].e.nos : takeValue;\n                }\n            }\n        }\n        if (queryTakeValue <= 0 && this.query && this.query.queries.length > 0) {\n            for (var queryElements = 0; queryElements < this.query.queries.length; queryElements++) {\n                if (this.query.queries[queryElements].fn === 'onTake') {\n                    queryTakeValue = takeValue <= this.query.queries[queryElements].e.nos ? this.query.queries[queryElements].e.nos : takeValue;\n                }\n            }\n        }\n        if (filterQuery && filterQuery.queries.length > 0) {\n            for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                if (filterQuery.queries[queryElements].fn === 'onTake') {\n                    queryTakeValue = filterQuery.queries[queryElements].e.nos <= queryTakeValue ? queryTakeValue : filterQuery.queries[queryElements].e.nos;\n                    filterQuery.queries.splice(queryElements, 1);\n                    --queryElements;\n                }\n            }\n        }\n        if ((this.allowFiltering && isSkip) || !isReOrder || (!this.allowFiltering && isSkip)) {\n            if (!isReOrder) {\n                filterQuery.skip(this.viewPortInfo.startIndex);\n            }\n            else {\n                filterQuery.skip(this.virtualItemStartIndex);\n            }\n        }\n        if (this.isIncrementalRequest) {\n            filterQuery.take(this.incrementalEndIndex);\n        }\n        else if (queryTakeValue > 0) {\n            filterQuery.take(queryTakeValue);\n        }\n        else {\n            filterQuery.take(takeValue);\n        }\n        filterQuery.requiresCount();\n        return filterQuery;\n    };\n    MultiSelect.prototype.getTakeValue = function () {\n        return this.allowFiltering && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n    };\n    MultiSelect.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n        if (this.targetElement().trim() === '') {\n            var list = this.enableVirtualization ? this.list.cloneNode(true) : this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (this.backCommand) {\n                this.remoteCustomValue = false;\n                if (this.allowCustomValue && list.querySelectorAll('li').length == 0 && this.mainData.length > 0) {\n                    this.mainData = [];\n                }\n                if (this.enableVirtualization) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n                    this.resetList(dataSource, fields, query);\n                    if (this.mode !== 'CheckBox') {\n                        this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                    }\n                    this.UpdateSkeleton();\n                    if ((isNoData || this.allowCustomValue) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                        if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                            this.list.appendChild(this.createElement('div', {\n                                className: 'e-virtual-ddl-content',\n                                styles: this.getTransformValues()\n                            })).appendChild(this.list.querySelector('.e-list-parent'));\n                        }\n                        if (!this.list.querySelector('.e-virtual-ddl')) {\n                            var virualElement = this.createElement('div', {\n                                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                            });\n                            document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                        }\n                    }\n                }\n                this.onActionComplete(list, this.mainData);\n                if (this.value && this.value.length) {\n                    this.refreshSelection();\n                }\n                if (this.keyCode !== 8) {\n                    this.focusAtFirstListItem();\n                }\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n            }\n        }\n        else {\n            if (this.enableVirtualization && this.allowFiltering) {\n                this.isPreventScrollAction = true;\n                this.list.scrollTop = 0;\n                this.previousStartIndex = 0;\n                this.virtualListInfo = null;\n            }\n            this.resetList(dataSource, fields, query);\n            if (this.enableVirtualization && (isNoData || this.allowCustomValue) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                    this.list.appendChild(this.createElement('div', {\n                        className: 'e-virtual-ddl-content',\n                        styles: this.getTransformValues()\n                    })).appendChild(this.list.querySelector('.e-list-parent'));\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                }\n                if (!this.list.querySelector('.e-virtual-ddl')) {\n                    var virualElement = this.createElement('div', {\n                        id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                    });\n                    document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                }\n            }\n            if (this.allowCustomValue) {\n                if (!(dataSource instanceof DataManager)) {\n                    this.checkForCustomValue(query, fields);\n                }\n                else {\n                    this.remoteCustomValue = true;\n                    this.tempQuery = query;\n                }\n            }\n        }\n        if (this.enableVirtualization && this.allowFiltering) {\n            this.getFilteringSkeletonCount();\n        }\n        this.refreshPopup();\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n    };\n    MultiSelect.prototype.checkForCustomValue = function (query, fields) {\n        var dataChecks = !this.getValueByText(this.inputElement.value, this.ignoreCase);\n        var field = fields ? fields : this.fields;\n        if (this.allowCustomValue && dataChecks) {\n            var value = this.inputElement.value;\n            var customData = (!isNullOrUndefined(this.mainData) && this.mainData.length > 0) ?\n                this.mainData[0] : this.mainData;\n            if (customData && typeof (customData) !== 'string' && typeof (customData) !== 'number' && typeof (customData) !== 'boolean') {\n                var dataItem_1 = {};\n                setValue(field.text, value, dataItem_1);\n                if (typeof getValue((this.fields.value ? this.fields.value : 'value'), customData)\n                    === 'number') {\n                    setValue(field.value, Math.random(), dataItem_1);\n                }\n                else {\n                    setValue(field.value, value, dataItem_1);\n                }\n                var emptyObject_1 = {};\n                if (this.allowObjectBinding) {\n                    var keys = this.listData && this.listData.length > 0 ? Object.keys(this.listData[0]) : this.firstItem ? Object.keys(this.firstItem) : Object.keys(dataItem_1);\n                    // Create an empty object with predefined keys\n                    keys.forEach(function (key) {\n                        emptyObject_1[key] = ((key === fields.value) || (key === fields.text)) ? getValue(fields.value, dataItem_1) : null;\n                    });\n                }\n                dataItem_1 = this.allowObjectBinding ? emptyObject_1 : dataItem_1;\n                if (this.enableVirtualization) {\n                    this.virtualCustomData = dataItem_1;\n                    var tempData = this.virtualGroupDataSource ? JSON.parse(JSON.stringify(this.virtualGroupDataSource)) : JSON.parse(JSON.stringify(this.dataSource));\n                    var totalData = [];\n                    if (this.virtualCustomSelectData && this.virtualCustomSelectData.length > 0) {\n                        totalData = tempData.concat(this.virtualCustomSelectData);\n                    }\n                    tempData.splice(0, 0, dataItem_1);\n                    this.isCustomDataUpdated = true;\n                    this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n                    this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n                    this.resetList(tempData, field, query);\n                    this.isCustomDataUpdated = false;\n                }\n                else {\n                    var tempData = JSON.parse(JSON.stringify(this.listData));\n                    tempData.splice(0, 0, dataItem_1);\n                    this.resetList(tempData, field, query);\n                }\n            }\n            else if (this.listData) {\n                var tempData = JSON.parse(JSON.stringify(this.listData));\n                tempData.splice(0, 0, this.inputElement.value);\n                tempData[0] = (typeof customData === 'number' && !isNaN(parseFloat(tempData[0]))) ?\n                    parseFloat(tempData[0]) : tempData[0];\n                tempData[0] = (typeof customData === 'boolean') ?\n                    (tempData[0] === 'true' ? true : (tempData[0] === 'false' ? false : tempData[0])) : tempData[0];\n                this.resetList(tempData, field);\n            }\n        }\n        else if (this.listData && this.mainData && !dataChecks && this.allowCustomValue) {\n            if (this.allowFiltering && this.isRemoteSelection && this.remoteCustomValue) {\n                this.isRemoteSelection = false;\n                this.resetList(this.listData, field, query);\n            }\n            else if (!this.allowFiltering && this.list) {\n                var liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                if (activeElement && activeElement.item !== null) {\n                    this.addListFocus(activeElement.item);\n                }\n            }\n        }\n        if (this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.getNgDirective = function () {\n        return 'EJS-MULTISELECT';\n    };\n    MultiSelect.prototype.wrapperClick = function (e) {\n        this.setDynValue = false;\n        this.keyboardEvent = null;\n        this.isKeyBoardAction = false;\n        if (!this.enabled) {\n            return;\n        }\n        if (e.target === this.overAllClear) {\n            e.preventDefault();\n            return;\n        }\n        if (!this.inputFocus) {\n            this.inputElement.focus();\n        }\n        if (!this.readonly) {\n            if (e.target && e.target.classList.toString().indexOf(CHIP_CLOSE) !== -1) {\n                if (this.isPopupOpen()) {\n                    this.refreshPopup();\n                }\n                return;\n            }\n            if (!this.isPopupOpen() &&\n                (this.openOnClick || (this.showDropDownIcon && e.target && e.target.className === dropdownIcon))) {\n                this.showPopup(e);\n            }\n            else {\n                this.hidePopup(e);\n                if (this.mode === 'CheckBox') {\n                    this.showOverAllClear();\n                    this.inputFocus = true;\n                    if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                        this.overAllWrapper.classList.add(FOCUS);\n                    }\n                }\n            }\n        }\n        if (!(this.targetElement() && this.targetElement() !== '')) {\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.enable = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.remove(DISABLED);\n            this.inputElement.removeAttribute('disabled');\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.ensureAriaDisabled('false');\n        }\n        else {\n            this.overAllWrapper.classList.add(DISABLED);\n            this.inputElement.setAttribute('disabled', 'true');\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.ensureAriaDisabled('true');\n        }\n        if (this.enabled !== state) {\n            this.enabled = state;\n        }\n        this.hidePopup();\n    };\n    MultiSelect.prototype.onBlurHandler = function (eve, isDocClickFromCheck) {\n        var target;\n        if (!isNullOrUndefined(eve)) {\n            target = eve.relatedTarget;\n        }\n        if (this.popupObj && document.body.contains(this.popupObj.element) && this.popupObj.element.contains(target)) {\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n            else if ((this.floatLabelType === 'Auto' &&\n                ((this.overAllWrapper.classList.contains('e-outline')) || (this.overAllWrapper.classList.contains('e-filled'))))) {\n                addClass([this.overAllWrapper], 'e-valid-input');\n            }\n            return;\n        }\n        if (this.floatLabelType === 'Auto' && (this.overAllWrapper.classList.contains('e-outline')) && this.mode === 'CheckBox' &&\n            ((isNullOrUndefined(this.value)) || this.value.length === 0)) {\n            removeClass([this.overAllWrapper], 'e-valid-input');\n        }\n        if (this.mode === 'CheckBox' && Browser.isIE && !isNullOrUndefined(eve) && !isDocClickFromCheck) {\n            this.inputFocus = false;\n            this.overAllWrapper.classList.remove(FOCUS);\n            return;\n        }\n        if (this.scrollFocusStatus) {\n            if (!isNullOrUndefined(eve)) {\n                eve.preventDefault();\n            }\n            this.inputElement.focus();\n            this.scrollFocusStatus = false;\n            return;\n        }\n        this.inputFocus = false;\n        this.overAllWrapper.classList.remove(FOCUS);\n        if (this.addTagOnBlur) {\n            var dataChecks = this.getValueByText(this.inputElement.value, this.ignoreCase, this.ignoreAccent);\n            var listLiElement = this.findListElement(this.list, 'li', 'data-value', dataChecks);\n            var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n            var allowChipAddition = (listLiElement && !listLiElement.classList.contains(className)) ? true : false;\n            if (allowChipAddition) {\n                this.updateListSelection(listLiElement, eve);\n                if (this.mode === 'Delimiter') {\n                    this.updateDelimeter(this.delimiterChar);\n                }\n            }\n        }\n        this.updateDataList();\n        if (this.resetMainList) {\n            this.mainList = this.resetMainList;\n            this.resetMainList = null;\n        }\n        this.refreshListItems(null);\n        if (this.mode !== 'Box' && this.mode !== 'CheckBox') {\n            this.updateDelimView();\n        }\n        if (this.changeOnBlur) {\n            this.updateValueState(eve, this.value, this.tempValues);\n            this.dispatchEvent(this.hiddenElement, 'change');\n        }\n        this.overAllClear.style.display = 'none';\n        if (this.isPopupOpen()) {\n            this.hidePopup(eve);\n        }\n        this.makeTextBoxEmpty();\n        this.trigger('blur');\n        this.focused = true;\n        if (Browser.isDevice && this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.removeChipFocus();\n        }\n        this.removeChipSelection();\n        this.refreshInputHight();\n        floatLabelBlur(this.overAllWrapper, this.componentWrapper, this.value, this.floatLabelType, this.placeholder);\n        this.refreshPlaceHolder();\n        if ((this.allowFiltering || (this.enableSelectionOrder === true && this.mode === 'CheckBox'))\n            && !isNullOrUndefined(this.mainList)) {\n            this.ulElement = this.mainList;\n        }\n        this.checkPlaceholderSize();\n        Input.createSpanElement(this.overAllWrapper, this.createElement);\n        this.calculateWidth();\n        if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n    };\n    MultiSelect.prototype.calculateWidth = function () {\n        var elementWidth;\n        if (this.overAllWrapper) {\n            if (!this.showDropDownIcon || this.overAllWrapper.querySelector('.' + 'e-label-top')) {\n                elementWidth = this.overAllWrapper.clientWidth - 2 * (parseInt(getComputedStyle(this.inputElement).paddingRight));\n            }\n            else {\n                var downIconWidth = this.dropIcon.offsetWidth +\n                    parseInt(getComputedStyle(this.dropIcon).marginRight);\n                elementWidth = this.overAllWrapper.clientWidth - (downIconWidth + 2 * (parseInt(getComputedStyle(this.inputElement).paddingRight)));\n            }\n            if (this.floatLabelType !== 'Never') {\n                Input.calculateWidth(elementWidth, this.overAllWrapper, this.getModuleName());\n            }\n        }\n    };\n    MultiSelect.prototype.checkPlaceholderSize = function () {\n        if (this.showDropDownIcon) {\n            var downIconWidth = this.dropIcon.offsetWidth +\n                parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            this.setPlaceholderSize(downIconWidth);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.setPlaceholderSize(this.showDropDownIcon ? this.dropIcon.offsetWidth : 0);\n            }\n        }\n    };\n    MultiSelect.prototype.setPlaceholderSize = function (downIconWidth) {\n        if (isNullOrUndefined(this.value) || this.value.length === 0) {\n            if (this.dropIcon.offsetWidth !== 0) {\n                this.searchWrapper.style.width = ('calc(100% - ' + (downIconWidth + 10)) + 'px';\n            }\n            else {\n                addClass([this.searchWrapper], CUSTOM_WIDTH);\n            }\n        }\n        else if (!isNullOrUndefined(this.value)) {\n            this.searchWrapper.removeAttribute('style');\n            removeClass([this.searchWrapper], CUSTOM_WIDTH);\n        }\n    };\n    MultiSelect.prototype.refreshInputHight = function () {\n        if (!isNullOrUndefined(this.searchWrapper)) {\n            if ((!this.value || !this.value.length) && (isNullOrUndefined(this.text) || this.text === '')) {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            else {\n                this.searchWrapper.classList.add(ZERO_SIZE);\n            }\n        }\n    };\n    MultiSelect.prototype.validateValues = function (newValue, oldValue) {\n        return JSON.stringify(newValue.slice().sort()) !== JSON.stringify(oldValue.slice().sort());\n    };\n    MultiSelect.prototype.updateValueState = function (event, newVal, oldVal) {\n        var newValue = newVal ? newVal : [];\n        var oldValue = oldVal ? oldVal : [];\n        if (this.initStatus && this.validateValues(newValue, oldValue)) {\n            var eventArgs = {\n                e: event,\n                oldValue: this.allowObjectBinding ? oldVal : oldVal,\n                value: this.allowObjectBinding ? newVal : newVal,\n                isInteracted: event ? true : false,\n                element: this.element,\n                event: event\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n            this.updateTempValue();\n            if (!this.changeOnBlur) {\n                this.dispatchEvent(this.hiddenElement, 'change');\n            }\n        }\n        this.selectedValueInfo = this.viewPortInfo;\n    };\n    MultiSelect.prototype.updateTempValue = function () {\n        if (!this.value) {\n            this.tempValues = this.value;\n        }\n        else {\n            this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n        }\n    };\n    MultiSelect.prototype.updateAriaActiveDescendant = function () {\n        if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n        }\n    };\n    MultiSelect.prototype.pageUpSelection = function (steps, isVirtualKeyAction) {\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem = steps >= 0 ? collection[steps + 1] : collection[0];\n        if (this.enableVirtualization && isVirtualKeyAction) {\n            previousItem = steps >= 0 && this.viewPortInfo.startIndex != 0 ? this.liCollections[steps + this.skeletonCount + 1] : this.liCollections[this.skeletonCount];\n        }\n        if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n            previousItem = this.liCollections[this.skeletonCount];\n        }\n        if (this.enableVirtualization) {\n            if (!isNullOrUndefined(previousItem) && !previousItem.classList.contains('e-item-focus')) {\n                this.addListFocus(previousItem);\n                this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n            }\n            else if (this.viewPortInfo.startIndex == 0) {\n                this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n            }\n        }\n        else {\n            this.addListFocus(previousItem);\n            this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n        }\n    };\n    MultiSelect.prototype.pageDownSelection = function (steps, isVirtualKeyAction) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var list = this.getItems();\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem = steps <= collection.length ? collection[steps - 1] : collection[collection.length - 1];\n        if (this.enableVirtualization && this.skeletonCount > 0) {\n            previousItem = steps < list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        if (this.enableVirtualization && isVirtualKeyAction) {\n            previousItem = steps <= list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        this.addListFocus(previousItem);\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), false, this.keyboardEvent.keyCode);\n    };\n    MultiSelect.prototype.getItems = function () {\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        return this.ulElement && this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li).length > 0 ?\n            this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')') : [];\n    };\n    MultiSelect.prototype.focusInHandler = function (e) {\n        var _this = this;\n        if (this.enabled) {\n            this.showOverAllClear();\n            this.inputFocus = true;\n            if (this.value && this.value.length) {\n                if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                    this.chipCollectionWrapper.style.display = '';\n                }\n                else {\n                    this.showDelimWrapper();\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.viewWrapper.style.display = 'none';\n                }\n            }\n            if (this.mode !== 'CheckBox') {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            this.checkPlaceholderSize();\n            if (this.focused) {\n                var args = { isInteracted: e ? true : false, event: e };\n                this.trigger('focus', args);\n                this.focused = false;\n            }\n            if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                this.overAllWrapper.classList.add(FOCUS);\n            }\n            floatLabelFocus(this.overAllWrapper, this.componentWrapper);\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            setTimeout(function () {\n                _this.calculateWidth();\n            }, 150);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    MultiSelect.prototype.showDelimWrapper = function () {\n        if (this.mode === 'CheckBox') {\n            this.viewWrapper.style.display = '';\n        }\n        else {\n            this.delimiterWrapper.style.display = '';\n        }\n        this.componentWrapper.classList.add(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.hideDelimWrapper = function () {\n        this.delimiterWrapper.style.display = 'none';\n        this.componentWrapper.classList.remove(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.expandTextbox = function () {\n        var size = 5;\n        if (this.placeholder) {\n            size = size > this.inputElement.placeholder.length ? size : this.inputElement.placeholder.length;\n        }\n        if (this.inputElement.value.length > size) {\n            this.inputElement.size = this.inputElement.value.length;\n        }\n        else {\n            this.inputElement.size = size;\n        }\n    };\n    MultiSelect.prototype.isPopupOpen = function () {\n        return ((this.popupWrapper !== null) && (this.popupWrapper.parentElement !== null));\n    };\n    MultiSelect.prototype.refreshPopup = function () {\n        if (this.popupObj && this.mobFilter) {\n            this.popupObj.setProperties({ width: this.calcPopupWidth() });\n            this.popupObj.refreshPosition(this.overAllWrapper);\n            this.popupObj.resolveCollision();\n        }\n    };\n    MultiSelect.prototype.checkTextLength = function () {\n        return this.targetElement().length < 1;\n    };\n    MultiSelect.prototype.popupKeyActions = function (e) {\n        switch (e.keyCode) {\n            case 38:\n                this.hidePopup(e);\n                if (this.mode === 'CheckBox') {\n                    this.inputElement.focus();\n                }\n                e.preventDefault();\n                break;\n            case 40:\n                if (!this.isPopupOpen()) {\n                    this.showPopup(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    MultiSelect.prototype.updateAriaAttribute = function () {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(focusedItem)) {\n            this.inputElement.setAttribute('aria-activedescendant', focusedItem.id);\n            if (this.allowFiltering) {\n                var filterInput = this.popupWrapper.querySelector('.' + FILTERINPUT);\n                filterInput && filterInput.setAttribute('aria-activedescendant', focusedItem.id);\n            }\n            else if (this.mode == \"CheckBox\") {\n                this.overAllWrapper.setAttribute('aria-activedescendant', focusedItem.id);\n            }\n        }\n    };\n    MultiSelect.prototype.homeNavigation = function (isHome, isVirtualKeyAction) {\n        this.removeFocus();\n        if (this.enableVirtualization) {\n            if (isHome) {\n                if (this.enableVirtualization && this.viewPortInfo.startIndex !== 0) {\n                    this.viewPortInfo.startIndex = 0;\n                    this.viewPortInfo.endIndex = this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n            }\n            else {\n                if (this.enableVirtualization && ((!this.value && this.viewPortInfo.endIndex !== this.totalItemCount) || (this.value && this.value.length > 0 && this.viewPortInfo.endIndex !== this.totalItemCount + this.value.length))) {\n                    this.viewPortInfo.startIndex = this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.totalItemCount;\n                    this.updateVirtualItemIndex();\n                    var query = new Query().clone();\n                    if (this.value && this.value.length > 0) {\n                        query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.totalItemCount - this.itemCount);\n                    }\n                    this.resetList(this.dataSource, this.fields, query);\n                }\n            }\n        }\n        this.UpdateSkeleton();\n        var scrollEle = this.ulElement.querySelectorAll('li.' + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (scrollEle.length > 0) {\n            var element = scrollEle[(isHome) ? 0 : (scrollEle.length - 1)];\n            if (this.enableVirtualization && isHome) {\n                element = scrollEle[this.skeletonCount];\n            }\n            this.removeFocus();\n            element.classList.add(dropDownBaseClasses.focus);\n            if (this.enableVirtualization && isHome) {\n                this.scrollTop(element, undefined, this.keyboardEvent.keyCode);\n            }\n            else if (!isVirtualKeyAction) {\n                this.scrollBottom(element, undefined, false, this.keyboardEvent.keyCode);\n            }\n            this.updateAriaActiveDescendant();\n        }\n    };\n    MultiSelect.prototype.updateSelectionList = function () {\n        if (!isNullOrUndefined(this.value) && this.value.length) {\n            for (var index = 0; index < this.value.length; index++) {\n                var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n                var selectedItem = this.getElementByValue(value);\n                if (selectedItem && !selectedItem.classList.contains(dropDownBaseClasses.selected)) {\n                    selectedItem.classList.add('e-active');\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        var activeIndex;\n        this.isKeyBoardAction = true;\n        switch (e.keyCode) {\n            case 40:\n                this.arrowDown(e, true);\n                break;\n            case 38:\n                this.arrowUp(e, true);\n                break;\n            case 33:\n                e.preventDefault();\n                if (focusedItem) {\n                    var count = (this.getPageCount() * 2) - 4;\n                    activeIndex = Math.round(count);\n                    activeIndex = this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                    this.pageUpSelection(activeIndex - this.getPageCount(), true);\n                    this.updateAriaAttribute();\n                }\n                break;\n            case 34:\n                e.preventDefault();\n                if (focusedItem) {\n                    activeIndex = this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                    this.pageDownSelection(activeIndex + this.getPageCount() + 1, true);\n                    this.updateAriaAttribute();\n                }\n                break;\n            case 35:\n            case 36:\n                this.isMouseScrollAction = true;\n                this.homeNavigation((e.keyCode === 36) ? true : false, true);\n                this.isPreventScrollAction = true;\n                break;\n        }\n        this.keyboardEvent = null;\n        this.isScrollChanged = true;\n        this.isKeyBoardAction = false;\n    };\n    MultiSelect.prototype.onKeyDown = function (e) {\n        if (this.readonly || !this.enabled && this.mode !== 'CheckBox') {\n            return;\n        }\n        this.preventSetCurrentData = false;\n        this.keyboardEvent = e;\n        if (this.isPreventKeyAction && this.enableVirtualization) {\n            e.preventDefault();\n        }\n        this.keyCode = e.keyCode;\n        this.keyDownStatus = true;\n        if (e.keyCode > 111 && e.keyCode < 124) {\n            return;\n        }\n        if (e.altKey) {\n            this.popupKeyActions(e);\n            return;\n        }\n        else if (this.isPopupOpen()) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            var activeIndex = void 0;\n            this.isKeyBoardAction = true;\n            switch (e.keyCode) {\n                case 36:\n                case 35:\n                    this.isMouseScrollAction = true;\n                    this.homeNavigation((e.keyCode === 36) ? true : false);\n                    break;\n                case 33:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        activeIndex = this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageUpSelection(activeIndex - this.getPageCount() - 1);\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 34:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageDownSelection(activeIndex + this.getPageCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 38:\n                    this.arrowUp(e);\n                    break;\n                case 40:\n                    this.arrowDown(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.hidePopup(e);\n                    if (this.mode === 'CheckBox') {\n                        this.inputElement.focus();\n                    }\n                    return;\n                case 13:\n                    e.preventDefault();\n                    if (this.mode !== 'CheckBox') {\n                        this.selectByKey(e);\n                    }\n                    this.checkPlaceholderSize();\n                    return;\n                case 32:\n                    this.spaceKeySelection(e);\n                    return;\n                case 9:\n                    e.preventDefault();\n                    this.hidePopup(e);\n                    this.inputElement.focus();\n                    this.overAllWrapper.classList.add(FOCUS);\n            }\n        }\n        else {\n            switch (e.keyCode) {\n                case 13:\n                case 9:\n                case 16:\n                case 17:\n                case 20:\n                    return;\n                case 40:\n                    if (this.openOnClick) {\n                        this.showPopup();\n                    }\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.escapeAction();\n                    return;\n            }\n        }\n        if (this.checkTextLength()) {\n            this.keyNavigation(e);\n        }\n        if (this.mode === 'CheckBox' && this.enableSelectionOrder) {\n            if (this.allowFiltering) {\n                this.previousFilterText = this.targetElement();\n            }\n            this.checkBackCommand(e);\n        }\n        this.expandTextbox();\n        if (!(this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.refreshPopup();\n        }\n        this.isKeyBoardAction = false;\n    };\n    MultiSelect.prototype.arrowDown = function (e, isVirtualKeyAction) {\n        e.preventDefault();\n        this.moveByList(1, isVirtualKeyAction);\n        this.keyAction = true;\n        if (document.activeElement.classList.contains(FILTERINPUT)\n            || (this.mode === 'CheckBox' && !this.allowFiltering && document.activeElement !== this.list)) {\n            EventHandler.add(this.list, 'keydown', this.onKeyDown, this);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.arrowUp = function (e, isVirtualKeyAction) {\n        e.preventDefault();\n        this.keyAction = true;\n        var list = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            list = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        }\n        var focuseElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        this.focusFirstListItem = !isNullOrUndefined(this.liCollections[0]) ? this.liCollections[0].classList.contains('e-item-focus') : false;\n        var index = Array.prototype.slice.call(list).indexOf(focuseElem);\n        if (index <= 0 && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            this.keyAction = false;\n            this.notify('inputFocus', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'focus' });\n        }\n        this.moveByList(-1, isVirtualKeyAction);\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.spaceKeySelection = function (e) {\n        if (this.mode === 'CheckBox') {\n            var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n            if (!isNullOrUndefined(li) || (selectAllParent && selectAllParent.classList.contains('e-item-focus'))) {\n                e.preventDefault();\n                this.keyAction = true;\n            }\n            this.selectByKey(e);\n            if (this.keyAction) {\n                var li_1 = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n                if (!isNullOrUndefined(li_1) && selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n                    li_1.classList.remove('e-item-focus');\n                }\n            }\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.checkBackCommand = function (e) {\n        if (e.keyCode === 8 && this.allowFiltering ? this.targetElement() !== this.previousFilterText : this.targetElement() === '') {\n            this.backCommand = false;\n        }\n        else {\n            this.backCommand = true;\n        }\n    };\n    MultiSelect.prototype.keyNavigation = function (e) {\n        if ((this.mode !== 'Delimiter' && this.mode !== 'CheckBox') && this.value && this.value.length) {\n            switch (e.keyCode) {\n                case 37: //left arrow\n                    e.preventDefault();\n                    this.moveBy(-1, e);\n                    break;\n                case 39: //right arrow\n                    e.preventDefault();\n                    this.moveBy(1, e);\n                    break;\n                case 8:\n                    this.removelastSelection(e);\n                    break;\n                case 46: //del\n                    this.removeSelectedChip(e);\n                    break;\n            }\n        }\n        else if (e.keyCode === 8 && this.mode === 'Delimiter') {\n            if (this.value && this.value.length) {\n                e.preventDefault();\n                var temp = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                this.removeValue(this.value[this.value.length - 1], e);\n                this.updateDelimeter(this.delimiterChar, e);\n                this.focusAtLastListItem(temp);\n            }\n        }\n    };\n    MultiSelect.prototype.selectByKey = function (e) {\n        this.removeChipSelection();\n        this.selectListByKey(e);\n        if (this.hideSelectedItem) {\n            this.focusAtFirstListItem();\n        }\n    };\n    MultiSelect.prototype.escapeAction = function () {\n        var temp = this.tempValues ? this.tempValues.slice() : [];\n        if (this.allowObjectBinding) {\n            temp = this.tempValues ? this.tempValues.slice() : [];\n        }\n        if (this.value && this.validateValues(this.value, temp)) {\n            if (this.mode !== 'CheckBox') {\n                this.value = temp;\n                this.initialValueUpdate();\n            }\n            if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else {\n                this.showDelimWrapper();\n            }\n            this.refreshPlaceHolder();\n            if (this.value.length) {\n                this.showOverAllClear();\n            }\n            else {\n                this.hideOverAllClear();\n            }\n        }\n        this.makeTextBoxEmpty();\n    };\n    MultiSelect.prototype.scrollBottom = function (selectedLI, activeIndex, isInitialSelection, keyCode) {\n        if (isInitialSelection === void 0) { isInitialSelection = false; }\n        if (keyCode === void 0) { keyCode = null; }\n        if ((!isNullOrUndefined(selectedLI) && selectedLI.classList.contains('e-virtual-list')) || (this.enableVirtualization && isNullOrUndefined(selectedLI))) {\n            selectedLI = this.liCollections[this.skeletonCount];\n        }\n        this.isUpwardScrolling = false;\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var lastElementValue = this.list.querySelector('li:last-of-type') ? this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n        var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? selectedLI.offsetTop + (this.virtualListInfo.startIndex * selectedLI.offsetHeight) : selectedLI.offsetTop;\n        var currentOffset = this.list.offsetHeight;\n        var nextBottom = selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) + selectedLI.offsetHeight - this.list.scrollTop;\n        var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n        var isScrollerCHanged = false;\n        var isScrollTopChanged = false;\n        var boxRange = selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) + selectedLI.offsetHeight - this.list.scrollTop;\n        boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n            boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n        if (activeIndex === 0 && !this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            var currentElementValue = selectedLI ? selectedLI.getAttribute('data-value') : null;\n            var liCount = keyCode == 34 ? this.getPageCount() - 1 : 1;\n            if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n                if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue && currentElementValue === lastElementValue && keyCode != 35 && !this.isVirtualScrolling) {\n                    this.isPreventKeyAction = true;\n                    this.list.scrollTop += selectedLI.offsetHeight * liCount;\n                    this.isPreventKeyAction = this.IsScrollerAtEnd() ? false : this.isPreventKeyAction;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                else if (this.enableVirtualization && keyCode == 35) {\n                    this.isPreventKeyAction = false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                    this.list.scrollTop = this.list.scrollHeight;\n                }\n                else {\n                    if (keyCode == 34 && this.enableVirtualization && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                        nextOffset = nextOffset + (selectedLI.offsetHeight * liCount);\n                    }\n                    this.list.scrollTop = nextOffset;\n                }\n            }\n            else {\n                this.list.scrollTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex * this.listItemHeight : 0;\n            }\n            isScrollerCHanged = this.isKeyBoardAction;\n            isScrollTopChanged = true;\n        }\n        this.isKeyBoardAction = isScrollerCHanged;\n    };\n    MultiSelect.prototype.scrollTop = function (selectedLI, activeIndex, keyCode) {\n        if (keyCode === void 0) { keyCode = null; }\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var selectedLiOffsetTop = (this.virtualListInfo && this.virtualListInfo.startIndex) ? selectedLI.offsetTop + (this.virtualListInfo.startIndex * selectedLI.offsetHeight) : selectedLI.offsetTop;\n        var nextOffset = selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) - this.list.scrollTop;\n        var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ? this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n        nextOffset = this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n            nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n        var boxRange = (selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) + selectedLI.offsetHeight - this.list.scrollTop);\n        var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n        if (activeIndex === 0 && !this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextOffset < 0 || isPageUpKeyAction) {\n            var currentElementValue = selectedLI ? selectedLI.getAttribute('data-value') : null;\n            var liCount = keyCode == 33 ? this.getPageCount() - 2 : 1;\n            if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue && currentElementValue === firstElementValue && keyCode != 36 && !this.isVirtualScrolling) {\n                this.isUpwardScrolling = true;\n                this.isPreventKeyAction = true;\n                this.list.scrollTop -= selectedLI.offsetHeight * liCount;\n                this.isPreventKeyAction = this.list.scrollTop != 0 ? this.isPreventKeyAction : false;\n                this.isKeyBoardAction = false;\n                this.isPreventScrollAction = false;\n            }\n            else if (this.enableVirtualization && keyCode == 36) {\n                this.isPreventScrollAction = false;\n                this.isPreventKeyAction = true;\n                this.isKeyBoardAction = false;\n                this.list.scrollTo(0, 0);\n            }\n            else {\n                if (keyCode == 33 && this.enableVirtualization && !this.isVirtualScrolling) {\n                    this.isPreventKeyAction = false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                    nextOffset = nextOffset - (selectedLI.offsetHeight * liCount);\n                }\n                this.list.scrollTop = this.list.scrollTop + nextOffset;\n            }\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                this.fixedHeaderElement.offsetHeight : 0);\n        }\n    };\n    MultiSelect.prototype.selectListByKey = function (e) {\n        var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var target;\n        if (li !== null) {\n            e.preventDefault();\n            if (li.classList.contains('e-active')) {\n                limit = limit - 1;\n            }\n            if (this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                this.updateListSelection(li, e);\n                this.addListFocus(li);\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    this.updateDelimeter(this.delimiterChar, e);\n                    this.refreshInputHight();\n                    this.checkPlaceholderSize();\n                    if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                        target = li.firstElementChild.lastElementChild;\n                        this.findGroupStart(target);\n                        this.deselectHeader();\n                    }\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                this.makeTextBoxEmpty();\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(li.textContent);\n                }\n                if (!this.changeOnBlur) {\n                    this.updateValueState(e, this.value, this.tempValues);\n                }\n                this.refreshPopup();\n            }\n            else {\n                if (!this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                    target = li.firstElementChild.lastElementChild;\n                    if (target.classList.contains('e-check')) {\n                        this.selectAllItem(false, e, li);\n                    }\n                    else {\n                        this.selectAllItem(true, e, li);\n                    }\n                }\n            }\n            this.refreshSelection();\n            if (this.closePopupOnSelect) {\n                this.hidePopup(e);\n            }\n        }\n        var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n        if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n            var selectAllCheckBox = selectAllParent.childNodes[0];\n            if (!selectAllCheckBox.classList.contains('e-check')) {\n                selectAllCheckBox.classList.add('e-check');\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: 'check',\n                    name: 'checkSelectAll'\n                };\n                this.notify('checkSelectAll', args);\n                this.selectAllItem(true, e, li);\n            }\n            else {\n                selectAllCheckBox.classList.remove('e-check');\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: 'check',\n                    name: 'checkSelectAll'\n                };\n                this.notify('checkSelectAll', args);\n                this.selectAllItem(false, e, li);\n            }\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshListItems = function (data) {\n        if ((this.allowFiltering || (this.mode === 'CheckBox' && this.enableSelectionOrder === true)\n            || this.allowCustomValue) && this.mainList && this.listData) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (this.enableVirtualization) {\n                if (this.allowCustomValue && this.virtualCustomData && data == null && this.virtualCustomData && this.viewPortInfo && this.viewPortInfo.startIndex === 0 && this.viewPortInfo.endIndex === this.itemCount) {\n                    this.virtualCustomData = null;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.renderItems(this.mainData, this.fields);\n                }\n                else {\n                    this.onActionComplete(this.list, this.listData);\n                }\n            }\n            else {\n                this.onActionComplete(list, this.mainData);\n            }\n            this.focusAtLastListItem(data);\n            if (this.value && this.value.length) {\n                this.refreshSelection();\n            }\n        }\n        else if (!isNullOrUndefined(this.fields.groupBy) && this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.removeSelectedChip = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        var temp;\n        if (selectedElem !== null) {\n            if (!isNullOrUndefined(this.value)) {\n                this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n            }\n            temp = selectedElem.nextElementSibling;\n            if (temp !== null) {\n                this.removeChipSelection();\n                this.addChipSelection(temp, e);\n            }\n            var currentChip = this.allowObjectBinding ? this.getDataByValue(selectedElem.getAttribute('data-value')) : selectedElem.getAttribute('data-value');\n            this.removeValue(currentChip, e);\n            this.makeTextBoxEmpty();\n        }\n        if (this.closePopupOnSelect) {\n            this.hidePopup(e);\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.moveByTop = function (state) {\n        var elements = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        var index;\n        if (elements.length > 1) {\n            this.removeFocus();\n            index = state ? 0 : (elements.length - 1);\n            this.addListFocus(elements[index]);\n            this.scrollBottom(elements[index], index);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.clickHandler = function (e) {\n        var targetElement = e.target;\n        var filterInputClassName = targetElement.className;\n        var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n        if ((filterInputClassName === 'e-input-filter e-input' || filterInputClassName === 'e-input-group e-control-wrapper e-input-focus') && selectAllParent.classList.contains('e-item-focus')) {\n            selectAllParent.classList.remove('e-item-focus');\n        }\n    };\n    MultiSelect.prototype.moveByList = function (position, isVirtualKeyAction) {\n        if (this.list) {\n            var elements = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                elements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            }\n            var selectedElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            if (this.enableVirtualization && isVirtualKeyAction && !isNullOrUndefined(this.currentFocuedListElement)) {\n                selectedElem = this.getElementByValue(this.getFormattedValue(this.currentFocuedListElement.getAttribute('data-value')));\n            }\n            var temp = -1;\n            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n            if (this.mode === 'CheckBox' && this.showSelectAll && position == 1 && !isNullOrUndefined(selectAllParent) && !selectAllParent.classList.contains('e-item-focus') && this.list.getElementsByClassName('e-item-focus').length == 0 && this.liCollections.length > 1) {\n                if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n                    selectAllParent.classList.remove('e-item-focus');\n                }\n                else if (!selectAllParent.classList.contains('e-item-focus')) {\n                    selectAllParent.classList.add('e-item-focus');\n                }\n            }\n            else if (elements.length) {\n                if (this.mode === 'CheckBox' && this.showSelectAll && !isNullOrUndefined(selectAllParent && position == -1)) {\n                    if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n                        selectAllParent.classList.remove('e-item-focus');\n                    }\n                    else if (this.focusFirstListItem && !selectAllParent.classList.contains('e-item-focus')) {\n                        selectAllParent.classList.add('e-item-focus');\n                    }\n                }\n                for (var index = 0; index < elements.length; index++) {\n                    if (elements[index] === selectedElem) {\n                        temp = index;\n                        break;\n                    }\n                }\n                if (position > 0) {\n                    if (temp < (elements.length - 1)) {\n                        this.removeFocus();\n                        if (this.enableVirtualization && isVirtualKeyAction) {\n                            this.addListFocus(elements[temp]);\n                        }\n                        else {\n                            this.addListFocus(elements[++temp]);\n                        }\n                        if (temp > -1) {\n                            this.updateCheck(elements[temp]);\n                            this.scrollBottom(elements[temp], temp);\n                            this.currentFocuedListElement = elements[temp];\n                        }\n                    }\n                }\n                else {\n                    if (temp > 0) {\n                        if (this.enableVirtualization) {\n                            var isVirtualElement = elements[temp - 1].classList.contains('e-virtual-list');\n                            var elementIndex = isVirtualKeyAction ? temp : temp - 1;\n                            if (isVirtualKeyAction || !isVirtualElement) {\n                                this.removeFocus();\n                            }\n                            if (isVirtualKeyAction || !isVirtualElement) {\n                                this.addListFocus(elements[elementIndex]);\n                                this.updateCheck(elements[elementIndex]);\n                                this.scrollTop(elements[elementIndex], temp);\n                                this.currentFocuedListElement = elements[elementIndex];\n                            }\n                        }\n                        else {\n                            this.removeFocus();\n                            this.addListFocus(elements[--temp]);\n                            this.updateCheck(elements[temp]);\n                            this.scrollTop(elements[temp], temp);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    MultiSelect.prototype.updateCheck = function (element) {\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox &&\n            !isNullOrUndefined(this.fields.groupBy)) {\n            var checkElement = element.firstElementChild.lastElementChild;\n            if (checkElement.classList.contains('e-check')) {\n                element.classList.add('e-active');\n            }\n            else {\n                element.classList.remove('e-active');\n            }\n        }\n    };\n    MultiSelect.prototype.moveBy = function (position, e) {\n        var temp;\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem === null) {\n            if (position < 0) {\n                this.addChipSelection(elements[elements.length - 1], e);\n            }\n        }\n        else {\n            if (position < 0) {\n                temp = selectedElem.previousElementSibling;\n                if (temp !== null) {\n                    this.removeChipSelection();\n                    this.addChipSelection(temp, e);\n                }\n            }\n            else {\n                temp = selectedElem.nextElementSibling;\n                this.removeChipSelection();\n                if (temp !== null) {\n                    this.addChipSelection(temp, e);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.chipClick = function (e) {\n        if (this.enabled) {\n            var elem = closest(e.target, '.' + CHIP);\n            this.removeChipSelection();\n            this.addChipSelection(elem, e);\n        }\n    };\n    MultiSelect.prototype.removeChipSelection = function () {\n        if (this.chipCollectionWrapper) {\n            this.removeChipFocus();\n        }\n    };\n    MultiSelect.prototype.addChipSelection = function (element, e) {\n        addClass([element], CHIP_SELECTED);\n        this.trigger('chipSelection', e);\n    };\n    MultiSelect.prototype.onChipRemove = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.enabled && !this.readonly) {\n            var element = e.target.parentElement;\n            var customVal = element.getAttribute('data-value');\n            var value = this.allowObjectBinding ? this.getDataByValue(customVal) : this.getFormattedValue(customVal);\n            if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n                (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n                value = customVal;\n            }\n            if (this.isPopupOpen() && this.mode !== 'CheckBox') {\n                this.hidePopup(e);\n            }\n            if (!this.inputFocus) {\n                this.inputElement.focus();\n            }\n            this.removeValue(value, e);\n            value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n            if (isNullOrUndefined(this.findListElement(this.list, 'li', 'data-value', value)) && this.mainList && this.listData) {\n                var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                this.onActionComplete(list, this.mainData);\n            }\n            this.updateDelimeter(this.delimiterChar, e);\n            if (this.placeholder && this.floatLabelType === 'Never') {\n                this.makeTextBoxEmpty();\n                this.checkPlaceholderSize();\n            }\n            else {\n                this.inputElement.value = '';\n            }\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.makeTextBoxEmpty = function () {\n        this.inputElement.value = '';\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshPlaceHolder = function () {\n        if (this.placeholder && this.floatLabelType === 'Never') {\n            if ((this.value && this.value.length) || (!isNullOrUndefined(this.text) && this.text !== '')) {\n                this.inputElement.placeholder = '';\n            }\n            else {\n                this.inputElement.placeholder = encodePlaceholder(this.placeholder);\n            }\n        }\n        else {\n            this.setFloatLabelType();\n        }\n        this.expandTextbox();\n    };\n    MultiSelect.prototype.removeAllItems = function (value, eve, isClearAll, element, mainElement) {\n        var index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) : this.value.indexOf(value);\n        var removeVal = this.value.slice(0);\n        removeVal.splice(index, 1);\n        this.setProperties({ value: [].concat([], removeVal) }, true);\n        element.setAttribute('aria-selected', 'false');\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        removeClass([element], className);\n        this.notify('activeList', {\n            module: 'CheckBoxSelection',\n            enable: this.mode === 'CheckBox', li: element,\n            e: this, index: index\n        });\n        this.invokeCheckboxSelection(element, eve, isClearAll);\n        var currentValue = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n        this.updateMainList(true, currentValue, mainElement);\n        this.updateChipStatus();\n    };\n    MultiSelect.prototype.invokeCheckboxSelection = function (element, eve, isClearAll) {\n        this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: eve });\n        this.updateAriaActiveDescendant();\n        if ((this.value && this.value.length !== this.mainData.length)\n            && (this.mode === 'CheckBox' && this.showSelectAll && !(this.isSelectAll || isClearAll))) {\n            this.notify('checkSelectAll', {\n                module: 'CheckBoxSelection',\n                enable: this.mode === 'CheckBox',\n                value: 'uncheck'\n            });\n        }\n    };\n    MultiSelect.prototype.removeValue = function (value, eve, length, isClearAll) {\n        var _this = this;\n        var index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) : this.value.indexOf(this.getFormattedValue(value));\n        if (index === -1 && this.allowCustomValue && !isNullOrUndefined(value)) {\n            index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) : this.value.indexOf(value.toString());\n        }\n        var targetEle = eve && eve.target;\n        isClearAll = (isClearAll || targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (index !== -1) {\n            var currentValue = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n            var element_1 = this.findListElement(this.list, 'li', 'data-value', currentValue);\n            var val_1 = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element_1,\n                itemData: val_1,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('removing', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    _this.removeIndex++;\n                }\n                else {\n                    _this.virtualSelectAll = false;\n                    var removeVal = _this.value.slice(0);\n                    if (_this.enableVirtualization && isClearAll) {\n                        removeVal = [];\n                    }\n                    removeVal.splice(index, 1);\n                    _this.setProperties({ value: [].concat([], removeVal) }, true);\n                    if (_this.enableVirtualization) {\n                        var currentText = index == 0 ? _this.text.replace(_this.text.split(_this.delimiterChar)[index] + _this.delimiterChar, '') : _this.text.replace(_this.delimiterChar + _this.text.split(_this.delimiterChar)[index], '');\n                        _this.setProperties({ text: currentText.toString() }, true);\n                    }\n                    if (element_1 !== null) {\n                        var currentValue_1 = _this.allowObjectBinding ? getValue(((_this.fields.value) ? _this.fields.value : ''), value) : value;\n                        var hideElement = _this.findListElement(_this.mainList, 'li', 'data-value', currentValue_1);\n                        element_1.setAttribute('aria-selected', 'false');\n                        removeClass([element_1], className);\n                        if (hideElement) {\n                            hideElement.setAttribute('aria-selected', 'false');\n                            removeClass([element_1, hideElement], className);\n                        }\n                        _this.notify('activeList', {\n                            module: 'CheckBoxSelection',\n                            enable: _this.mode === 'CheckBox', li: element_1,\n                            e: _this, index: index\n                        });\n                        _this.invokeCheckboxSelection(element_1, eve, isClearAll);\n                    }\n                    var currentValue_2 = _this.allowObjectBinding ? getValue(((_this.fields.value) ? _this.fields.value : ''), value) : value;\n                    if (_this.hideSelectedItem && _this.fields.groupBy && element_1) {\n                        _this.hideGroupItem(currentValue_2);\n                    }\n                    if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox' &&\n                        _this.isPopupOpen()) {\n                        _super.prototype.scrollStop.call(_this);\n                    }\n                    _this.updateMainList(true, currentValue_2);\n                    _this.removeChip(currentValue_2, isClearAll);\n                    _this.updateChipStatus();\n                    var limit = _this.value && _this.value.length ? _this.value.length : 0;\n                    if (limit < _this.maximumSelectionLength) {\n                        var collection = _this.list.querySelectorAll('li.'\n                            + dropDownBaseClasses.li + ':not(.e-active)');\n                        removeClass(collection, 'e-disable');\n                    }\n                    _this.trigger('removed', eventArgs);\n                    var targetEle_1 = eve && eve.currentTarget;\n                    var isSelectAll = (targetEle_1 && targetEle_1.classList.contains('e-selectall-parent')) ? true : null;\n                    if (!_this.changeOnBlur && !isClearAll && (eve && length && !isSelectAll && _this.isSelectAllTarget)) {\n                        _this.updateValueState(eve, _this.value, _this.tempValues);\n                    }\n                    if (length) {\n                        _this.selectAllEventData.push(val_1);\n                        _this.selectAllEventEle.push(element_1);\n                    }\n                    if (length === 1) {\n                        if (!_this.changeOnBlur) {\n                            _this.updateValueState(eve, _this.value, _this.tempValues);\n                        }\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: false\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                        _this.selectAllEventEle = [];\n                    }\n                    if (isClearAll && (length === 1 || length === null)) {\n                        _this.clearAllCallback(eve, isClearAll);\n                    }\n                    if (_this.isPopupOpen() && element_1 && element_1.parentElement.classList.contains('e-reorder')) {\n                        if (_this.hideSelectedItem && _this.value && Array.isArray(_this.value) && _this.value.length > 0) {\n                            _this.totalItemsCount();\n                        }\n                        _this.notify(\"setCurrentViewDataAsync\", {\n                            module: \"VirtualScroll\",\n                        });\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.updateMainList = function (state, value, mainElement) {\n        if (this.allowFiltering || this.mode === 'CheckBox') {\n            var element2 = mainElement ? mainElement :\n                this.findListElement(this.mainList, 'li', 'data-value', value);\n            if (element2) {\n                if (state) {\n                    element2.setAttribute('aria-selected', 'false');\n                    removeClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        removeClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n                else {\n                    element2.setAttribute('aria-selected', 'true');\n                    addClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        addClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeChip = function (value, isClearAll) {\n        if (this.chipCollectionWrapper) {\n            if (this.enableVirtualization && isClearAll) {\n                var childElements = this.chipCollectionWrapper.querySelectorAll('.e-chips');\n            }\n            else {\n                var element = this.findListElement(this.chipCollectionWrapper, 'span', 'data-value', value);\n                if (element) {\n                    remove(element);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.setWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.overAllWrapper.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.overAllWrapper.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    MultiSelect.prototype.updateChipStatus = function () {\n        if (this.value && this.value.length) {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                (this.chipCollectionWrapper.style.display = '');\n            }\n            if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n            this.showOverAllClear();\n        }\n        else {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                this.chipCollectionWrapper.style.display = 'none';\n            }\n            if (!isNullOrUndefined(this.delimiterWrapper)) {\n                (this.delimiterWrapper.style.display = 'none');\n            }\n            this.hideOverAllClear();\n        }\n    };\n    MultiSelect.prototype.indexOfObjectInArray = function (objectToFind, array) {\n        var _loop_1 = function (i) {\n            var item = array[i];\n            if (Object.keys(objectToFind).every(function (key) { return item.hasOwnProperty(key) && item[key] === objectToFind[key]; })) {\n                return { value: i };\n            }\n        };\n        for (var i = 0; i < array.length; i++) {\n            var state_1 = _loop_1(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return -1; // Return -1 if the object is not found\n    };\n    MultiSelect.prototype.addValue = function (value, text, eve) {\n        if (!this.value) {\n            this.value = [];\n        }\n        var currentValue = this.allowObjectBinding ? this.getDataByValue(value) : value;\n        if ((this.allowObjectBinding && !this.isObjectInArray(value, this.value)) || (!this.allowObjectBinding && this.value.indexOf(currentValue) < 0)) {\n            this.setProperties({ value: [].concat([], this.value, [currentValue]) }, true);\n            if (this.enableVirtualization) {\n                var data = this.viewWrapper.innerHTML;\n                var temp = void 0;\n                data += (this.value.length === 1) ? '' : this.delimiterChar + ' ';\n                temp = this.getOverflowVal(this.value.length - 1);\n                data += temp;\n                temp = this.viewWrapper.innerHTML;\n                this.updateWrapperText(this.viewWrapper, data);\n            }\n            if (this.enableVirtualization && this.mode === 'CheckBox') {\n                var temp = void 0;\n                var currentText = [];\n                var value_1 = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                temp = this.getTextByValue(value_1);\n                var textValues = this.text != null && this.text != \"\" ? this.text + ',' + temp : temp;\n                currentText.push(textValues);\n                this.setProperties({ text: currentText.toString() }, true);\n            }\n        }\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.removeFocus();\n        if (element) {\n            this.addListFocus(element);\n            this.addListSelection(element);\n        }\n        if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.addChip(text, value, eve);\n        }\n        if (this.hideSelectedItem && this.fields.groupBy) {\n            this.hideGroupItem(value);\n        }\n        this.updateChipStatus();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.checkMaxSelection = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        if (limit === this.maximumSelectionLength) {\n            var collection = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ':not(.e-active)');\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.dispatchSelect = function (value, eve, element, isNotTrigger, length) {\n        var _this = this;\n        var list = this.listData;\n        if (this.initStatus && !isNotTrigger) {\n            value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n            var val_2 = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element,\n                itemData: val_2,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (length) {\n                        _this.selectAllEventData.push(val_2);\n                        _this.selectAllEventEle.push(element);\n                    }\n                    if (length === 1) {\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: true\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                    }\n                    if (_this.allowCustomValue && _this.isServerRendered && _this.listData !== list) {\n                        _this.listData = list;\n                    }\n                    value = _this.allowObjectBinding ? _this.getDataByValue(value) : value;\n                    if ((_this.enableVirtualization && value) || !_this.enableVirtualization) {\n                        _this.updateListSelectEventCallback(value, element, eve);\n                    }\n                    if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox') {\n                        _super.prototype.scrollStop.call(_this);\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.addChip = function (text, value, e) {\n        if (this.chipCollectionWrapper) {\n            this.getChip(text, value, e);\n        }\n    };\n    MultiSelect.prototype.removeChipFocus = function () {\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP + '.' + CHIP_SELECTED);\n        removeClass(elements, CHIP_SELECTED);\n        if (Browser.isDevice) {\n            var closeElements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP_CLOSE.split(' ')[0]);\n            for (var index = 0; index < closeElements.length; index++) {\n                closeElements[index].style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.onMobileChipInteraction = function (e) {\n        var chipElem = closest(e.target, '.' + CHIP);\n        var chipClose = chipElem.querySelector('span.' + CHIP_CLOSE.split(' ')[0]);\n        if (this.enabled && !this.readonly) {\n            if (!chipElem.classList.contains(CHIP_SELECTED)) {\n                this.removeChipFocus();\n                chipClose.style.display = '';\n                chipElem.classList.add(CHIP_SELECTED);\n            }\n            this.refreshPopup();\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.multiCompiler = function (multiselectTemplate) {\n        var checkTemplate = false;\n        if (typeof multiselectTemplate !== 'function' && multiselectTemplate) {\n            try {\n                checkTemplate = (selectAll(multiselectTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    MultiSelect.prototype.encodeHtmlEntities = function (input) {\n        return input.replace(/[\\u00A0-\\u9999<>&]/g, function (match) {\n            return \"&#\" + match.charCodeAt(0) + \";\";\n        });\n    };\n    MultiSelect.prototype.getChip = function (data, value, e) {\n        var _this = this;\n        var itemData = { text: value, value: value };\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value, 'title': data }\n        });\n        var compiledString;\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE });\n        if (this.mainData) {\n            itemData = this.getDataByValue(value);\n        }\n        if (this.valueTemplate && !isNullOrUndefined(itemData)) {\n            var valuecheck = this.multiCompiler(this.valueTemplate);\n            if (typeof this.valueTemplate !== 'function' && valuecheck) {\n                compiledString = compile(select(this.valueTemplate, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(this.valueTemplate);\n            }\n            // eslint-disable-next-line\n            var valueCompTemp = compiledString(itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, chipContent);\n            if (valueCompTemp && valueCompTemp.length > 0) {\n                append(valueCompTemp, chipContent);\n            }\n            this.renderReactTemplates();\n        }\n        else if (this.enableHtmlSanitizer) {\n            chipContent.innerText = data;\n        }\n        else {\n            chipContent.innerHTML = this.encodeHtmlEntities(data.toString());\n        }\n        chip.appendChild(chipContent);\n        var eventArgs = {\n            isInteracted: e ? true : false,\n            itemData: itemData,\n            e: e,\n            setClass: function (classes) {\n                addClass([chip], classes);\n            },\n            cancel: false\n        };\n        this.isPreventChange = this.isAngular && this.preventChange;\n        this.trigger('tagging', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                if (Browser.isDevice) {\n                    chip.classList.add(MOBILE_CHIP);\n                    append([chipClose], chip);\n                    chipClose.style.display = 'none';\n                    EventHandler.add(chip, 'click', _this.onMobileChipInteraction, _this);\n                }\n                else {\n                    EventHandler.add(chip, 'mousedown', _this.chipClick, _this);\n                    if (_this.showClearButton) {\n                        chip.appendChild(chipClose);\n                    }\n                }\n                EventHandler.add(chipClose, 'mousedown', _this.onChipRemove, _this);\n                _this.chipCollectionWrapper.appendChild(chip);\n                if (!_this.changeOnBlur && e) {\n                    _this.updateValueState(e, _this.value, _this.tempValues);\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.calcPopupWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = (this.componentWrapper.offsetWidth) * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    MultiSelect.prototype.mouseIn = function () {\n        if (this.enabled && !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    MultiSelect.prototype.mouseOut = function () {\n        if (!this.inputFocus) {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldProperty = isNullOrUndefined(fields.properties) ? fields :\n            fields.properties;\n        this.listCurrentOptions = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldProperty, showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        extend(this.listCurrentOptions, this.listCurrentOptions, fields, true);\n        if (this.mode === 'CheckBox') {\n            this.notify('listoption', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', dataSource: dataSource, fieldProperty: fieldProperty });\n        }\n        return this.listCurrentOptions;\n    };\n    MultiSelect.prototype.renderPopup = function () {\n        var _this = this;\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        if (!this.popupObj) {\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                document.body.appendChild(this.popupWrapper);\n                var checkboxFilter = this.popupWrapper.querySelector('.' + FILTERPARENT);\n                if (this.mode === 'CheckBox' && !this.allowFiltering && checkboxFilter && this.filterParent) {\n                    checkboxFilter.remove();\n                    this.filterParent = null;\n                }\n                var overAllHeight = parseInt(this.popupHeight, 10);\n                this.popupWrapper.style.visibility = 'hidden';\n                if (this.headerTemplate) {\n                    this.setHeaderTemplate();\n                    overAllHeight -= this.header.offsetHeight;\n                }\n                append([this.list], this.popupWrapper);\n                if (!this.list.classList.contains(dropDownBaseClasses.noData) && this.getItems()[1]) {\n                    this.listItemHeight = this.getItems()[1].offsetHeight;\n                }\n                if (this.enableVirtualization && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!this.list.querySelector('.e-virtual-ddl-content') && this.list.querySelector('.e-list-parent')) {\n                        this.list.appendChild(this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: this.getTransformValues()\n                        })).appendChild(this.list.querySelector('.e-list-parent'));\n                    }\n                    else if (this.list.querySelector('.e-virtual-ddl-content')) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    }\n                    this.UpdateSkeleton();\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.virtualItemCount = this.itemCount;\n                    if (this.mode !== 'CheckBox') {\n                        this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                    }\n                    if (!this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = this.createElement('div', {\n                            id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                        });\n                        this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n                    }\n                }\n                if (this.footerTemplate) {\n                    this.setFooterTemplate();\n                    overAllHeight -= this.footer.offsetHeight;\n                }\n                if (this.mode === 'CheckBox' && this.showSelectAll) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight -= this.selectAllHeight;\n                }\n                else if (this.mode === 'CheckBox' && !this.showSelectAll && (!this.headerTemplate && !this.footerTemplate)) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight = parseInt(this.popupHeight, 10);\n                }\n                else if (this.mode === 'CheckBox' && !this.showSelectAll) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight = parseInt(this.popupHeight, 10);\n                    if (this.headerTemplate && this.header) {\n                        overAllHeight -= this.header.offsetHeight;\n                    }\n                    if (this.footerTemplate && this.footer) {\n                        overAllHeight -= this.footer.offsetHeight;\n                    }\n                }\n                if (this.mode === 'CheckBox') {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: this.mode === 'CheckBox',\n                        popupElement: this.popupWrapper\n                    };\n                    if (this.allowFiltering) {\n                        this.notify('searchBox', args);\n                        overAllHeight -= this.searchBoxHeight;\n                    }\n                    addClass([this.popupWrapper], 'e-checkbox');\n                }\n                if (this.popupHeight !== 'auto') {\n                    this.list.style.maxHeight = formatUnit(overAllHeight);\n                    this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n                }\n                else {\n                    this.list.style.maxHeight = formatUnit(this.popupHeight);\n                }\n                this.popupObj = new Popup(this.popupWrapper, {\n                    width: this.calcPopupWidth(), targetType: 'relative',\n                    position: this.enableRtl ? { X: 'right', Y: 'bottom' } : { X: 'left', Y: 'bottom' },\n                    relateTo: this.overAllWrapper,\n                    collision: this.enableRtl ? { X: 'fit', Y: 'flip' } : { X: 'flip', Y: 'flip' }, offsetY: 1,\n                    enableRtl: this.enableRtl, zIndex: this.zIndex,\n                    close: function () {\n                        if (_this.popupObj.element.parentElement) {\n                            _this.popupObj.unwireScrollEvents();\n                            // For restrict the page scrolling in safari browser\n                            var checkboxFilterInput = _this.popupWrapper.querySelector('.' + FILTERINPUT);\n                            if (_this.mode === 'CheckBox' && checkboxFilterInput && document.activeElement === checkboxFilterInput) {\n                                checkboxFilterInput.blur();\n                            }\n                            detach(_this.popupObj.element);\n                        }\n                    },\n                    open: function () {\n                        _this.popupObj.resolveCollision();\n                        if (!_this.isFirstClick) {\n                            var ulElement = _this.list.querySelector('ul');\n                            if (ulElement) {\n                                if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) &&\n                                    _this.targetElement().trim() !== '')) {\n                                    _this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                                }\n                            }\n                            _this.isFirstClick = true;\n                        }\n                        _this.popupObj.wireScrollEvents();\n                        if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) &&\n                            _this.targetElement().trim() !== '') && !_this.enableVirtualization) {\n                            _this.loadTemplate();\n                            if (_this.enableVirtualization && _this.mode === 'CheckBox') {\n                                _this.UpdateSkeleton();\n                            }\n                        }\n                        _this.isPreventScrollAction = true;\n                        _this.setScrollPosition();\n                        if (_this.allowFiltering) {\n                            _this.notify('inputFocus', {\n                                module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'focus'\n                            });\n                        }\n                        if (_this.enableVirtualization) {\n                            _this.notify(\"bindScrollEvent\", {\n                                module: \"VirtualScroll\",\n                                component: _this.getModuleName(),\n                                enable: _this.enableVirtualization,\n                            });\n                            setTimeout(function () {\n                                if (_this.value) {\n                                    _this.updateSelectionList();\n                                }\n                                else if (_this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                                    _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n                                }\n                            }, 5);\n                        }\n                    }, targetExitViewport: function () {\n                        if (!Browser.isDevice) {\n                            _this.hidePopup();\n                        }\n                    }\n                });\n                this.checkCollision(this.popupWrapper);\n                this.popupContentElement = this.popupObj.element.querySelector('.e-content');\n                if (this.mode === 'CheckBox' && Browser.isDevice && this.allowFiltering) {\n                    this.notify('deviceSearchBox', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                }\n                this.popupObj.close();\n                this.popupWrapper.style.visibility = '';\n            }\n        }\n    };\n    MultiSelect.prototype.checkCollision = function (popupEle) {\n        if (!(this.mode === 'CheckBox' && Browser.isDevice && this.allowFiltering)) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    MultiSelect.prototype.setHeaderTemplate = function () {\n        var compiledString;\n        if (this.header) {\n            this.header.remove();\n        }\n        this.header = this.createElement('div');\n        addClass([this.header], HEADER);\n        var headercheck = this.multiCompiler(this.headerTemplate);\n        if (typeof this.headerTemplate !== 'function' && headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line\n        var elements = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (elements && elements.length > 0) {\n            append(elements, this.header);\n        }\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            prepend([this.header], this.popupWrapper);\n        }\n        else {\n            append([this.header], this.popupWrapper);\n        }\n        EventHandler.add(this.header, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.setFooterTemplate = function () {\n        var compiledString;\n        if (this.footer) {\n            this.footer.remove();\n        }\n        this.footer = this.createElement('div');\n        addClass([this.footer], FOOTER);\n        var footercheck = this.multiCompiler(this.footerTemplate);\n        if (typeof this.footerTemplate !== 'function' && footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line\n        var elements = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (elements && elements.length > 0) {\n            append(elements, this.footer);\n        }\n        append([this.footer], this.popupWrapper);\n        EventHandler.add(this.footer, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.updateInitialData = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var currentData = this.selectData;\n        var ulElement = this.renderItems(currentData, this.fields);\n        this.list.scrollTop = 0;\n        this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        this.previousStartIndex = 0;\n        this.previousEndIndex = 0;\n        if (this.dataSource instanceof DataManager) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ? this.virtualGroupDataSource.length : 0;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.mode !== 'CheckBox') {\n            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n        }\n        this.getSkeletonCount();\n        this.UpdateSkeleton();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        else if (!this.list.querySelector('.e-virtual-ddl') && this.skeletonCount > 0) {\n            var virualElement = this.createElement('div', {\n                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n            });\n            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        this.listData = currentData;\n        this.liCollections = this.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n    };\n    MultiSelect.prototype.clearAll = function (e) {\n        if (this.enabled && !this.readonly) {\n            var temp = void 0;\n            if (this.value && this.value.length > 0) {\n                var liElement = this.list && this.list.querySelectorAll('li.e-list-item');\n                if (liElement && liElement.length > 0) {\n                    this.selectAllItems(false, e);\n                }\n                else {\n                    this.removeIndex = 0;\n                    for (temp = this.value[this.removeIndex]; this.removeIndex < this.value.length; temp = this.value[this.removeIndex]) {\n                        this.removeValue(temp, e, null, true);\n                    }\n                }\n                this.selectedElementID = null;\n                this.inputElement.removeAttribute('aria-activedescendant');\n            }\n            else {\n                this.clearAllCallback(e);\n            }\n            this.checkAndResetCache();\n            if (this.enableVirtualization) {\n                this.updateInitialData();\n                if (this.chipCollectionWrapper) {\n                    this.chipCollectionWrapper.innerHTML = '';\n                }\n                if (!this.isCustomDataUpdated) {\n                    this.notify(\"setGeneratedData\", {\n                        module: \"VirtualScroll\",\n                    });\n                }\n            }\n            if (this.enableVirtualization) {\n                this.list.scrollTop = 0;\n                this.virtualListInfo = null;\n                this.previousStartIndex = 0;\n                this.previousEndIndex = 0;\n            }\n        }\n    };\n    MultiSelect.prototype.clearAllCallback = function (e, isClearAll) {\n        var tempValues = this.value ? this.value.slice() : [];\n        if (this.mainList && this.listData && ((this.allowFiltering && this.mode !== 'CheckBox') || this.allowCustomValue)) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            this.onActionComplete(list, this.mainData);\n        }\n        this.focusAtFirstListItem();\n        this.updateDelimeter(this.delimiterChar, e);\n        if (this.mode !== 'Box' && (!this.inputFocus || this.mode === 'CheckBox')) {\n            this.updateDelimView();\n        }\n        if (this.inputElement.value !== '') {\n            this.makeTextBoxEmpty();\n            this.search(null);\n        }\n        this.checkPlaceholderSize();\n        if (this.isPopupOpen()) {\n            this.refreshPopup();\n        }\n        if (!this.inputFocus) {\n            if (this.changeOnBlur) {\n                this.updateValueState(e, this.value, tempValues);\n            }\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n        }\n        if (this.mode === 'CheckBox') {\n            this.refreshPlaceHolder();\n            this.refreshInputHight();\n            if (this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n                this.updateValueState(e, this.value, this.tempValues);\n            }\n        }\n        if (!this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            this.updateListItems(this.list.querySelectorAll('li.e-list-item'), this.mainList.querySelectorAll('li.e-list-item'));\n        }\n        e.preventDefault();\n    };\n    MultiSelect.prototype.windowResize = function () {\n        this.refreshPopup();\n        if ((!this.inputFocus || this.mode === 'CheckBox') && this.viewWrapper && this.viewWrapper.parentElement) {\n            this.updateDelimView();\n        }\n    };\n    MultiSelect.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var textVal = (this.element.tagName === this.getNgDirective()) ?\n                null : this.element.getAttribute('data-initial-value');\n            this.text = textVal;\n        }\n    };\n    MultiSelect.prototype.wireEvent = function () {\n        EventHandler.add(this.componentWrapper, 'mousedown', this.wrapperClick, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusInHandler, this);\n        EventHandler.add(this.inputElement, 'keydown', this.onKeyDown, this);\n        EventHandler.add(this.inputElement, 'keyup', this.keyUp, this);\n        if (this.mode !== 'CheckBox') {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n        }\n        EventHandler.add(this.inputElement, 'blur', this.onBlurHandler, this);\n        EventHandler.add(this.componentWrapper, 'mouseover', this.mouseIn, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        EventHandler.add(this.componentWrapper, 'mouseout', this.mouseOut, this);\n        EventHandler.add(this.overAllClear, 'mouseup', this.clearAll, this);\n        EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n    };\n    MultiSelect.prototype.onInput = function (e) {\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n        // For Filtering works in mobile firefox\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.search(e);\n        }\n    };\n    MultiSelect.prototype.pasteHandler = function (event) {\n        var _this = this;\n        setTimeout(function () {\n            _this.expandTextbox();\n            _this.search(event);\n        });\n    };\n    MultiSelect.prototype.search = function (e) {\n        var _this = this;\n        this.resetFilteredData = true;\n        this.preventSetCurrentData = false;\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        if (!isNullOrUndefined(e)) {\n            this.keyCode = e.keyCode;\n        }\n        if (!this.isPopupOpen() && this.openOnClick) {\n            this.showPopup(e);\n        }\n        this.openClick(e);\n        if (this.checkTextLength() && !this.allowFiltering && !isNullOrUndefined(e) && (e.keyCode !== 8)) {\n            this.focusAtFirstListItem();\n        }\n        else {\n            var text = this.targetElement();\n            if (this.allowFiltering) {\n                if (this.allowCustomValue) {\n                    this.isRemoteSelection = true;\n                }\n                if (!this.backCommand) {\n                    this.checkAndResetCache();\n                }\n                var eventArgs_1 = {\n                    preventDefaultAction: false,\n                    text: this.targetElement(),\n                    updateData: function (dataSource, query, fields) {\n                        if (eventArgs_1.cancel) {\n                            return;\n                        }\n                        _this.isFiltered = true;\n                        _this.customFilterQuery = query;\n                        _this.remoteFilterAction = true;\n                        _this.dataUpdater(dataSource, query, fields);\n                    },\n                    event: e,\n                    cancel: false\n                };\n                this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!_this.isFiltered && !eventArgs.preventDefaultAction) {\n                            _this.filterAction = true;\n                            _this.dataUpdater(_this.dataSource, null, _this.fields);\n                        }\n                    }\n                });\n            }\n            else if (this.allowCustomValue) {\n                var query = new Query();\n                query = this.allowFiltering && (text !== '') ? query.where(this.fields.text, 'startswith', text, this.ignoreCase, this.ignoreAccent) : query;\n                if (this.enableVirtualization) {\n                    if (this.dataSource instanceof DataManager) {\n                        this.dataUpdater(this.virtualGroupDataSource, query, this.fields);\n                    }\n                    else {\n                        this.dataUpdater(this.dataSource, query, this.fields);\n                    }\n                }\n                else {\n                    this.dataUpdater(this.mainData, query, this.fields);\n                }\n                this.UpdateSkeleton();\n            }\n            else {\n                var liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                var type = this.typeOfData(this.listData).typeof;\n                var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                if (this.enableVirtualization && this.targetElement().trim() !== '' && !this.allowFiltering) {\n                    var updatingincrementalindex = false;\n                    if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) || this.incrementalEndIndex == 0) {\n                        updatingincrementalindex = true;\n                        this.incrementalStartIndex = 0;\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                        this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                        updatingincrementalindex = false;\n                    }\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    activeElement = Search(this.targetElement(), this.incrementalLiCollections, this.filterType, true, this.listData, this.fields, type);\n                    while (isNullOrUndefined(activeElement) && this.incrementalEndIndex < this.totalItemCount) {\n                        this.incrementalStartIndex = this.incrementalEndIndex;\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                        this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                        updatingincrementalindex = true;\n                        if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                            this.updateIncrementalView(0, this.itemCount);\n                        }\n                        activeElement = Search(this.targetElement(), this.incrementalLiCollections, this.filterType, true, this.listData, this.fields, type);\n                        if (!isNullOrUndefined(activeElement)) {\n                            break;\n                        }\n                        if (isNullOrUndefined(activeElement) && this.incrementalEndIndex >= this.totalItemCount) {\n                            this.incrementalStartIndex = 0;\n                            this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                            break;\n                        }\n                    }\n                    if (activeElement.index) {\n                        if ((!(this.viewPortInfo.startIndex >= activeElement.index)) || (!(activeElement.index >= this.viewPortInfo.endIndex))) {\n                            var startIndex = activeElement.index - ((this.itemCount / 2) - 2) > 0 ? activeElement.index - ((this.itemCount / 2) - 2) : 0;\n                            var endIndex = startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : startIndex + this.itemCount;\n                            if (startIndex != this.viewPortInfo.startIndex) {\n                                this.updateIncrementalView(startIndex, endIndex);\n                            }\n                        }\n                    }\n                    if (!isNullOrUndefined(activeElement.item)) {\n                        var index_1 = this.getIndexByValue(activeElement.item.getAttribute('data-value')) - this.skeletonCount;\n                        if (index_1 > this.itemCount / 2) {\n                            var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) : this.totalItemCount;\n                            var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                            this.updateIncrementalView(startIndex, endIndex);\n                        }\n                        activeElement.item = this.getElementByValue(activeElement.item.getAttribute('data-value'));\n                    }\n                    else {\n                        this.updateIncrementalView(0, this.itemCount);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                        this.list.scrollTop = 0;\n                    }\n                    if (activeElement && activeElement.item) {\n                        activeElement.item = this.getElementByValue(activeElement.item.getAttribute('data-value'));\n                    }\n                }\n                if (activeElement && activeElement.item) {\n                    this.addListFocus(activeElement.item);\n                    this.list.scrollTop =\n                        activeElement.item.offsetHeight * activeElement.index;\n                }\n                else if (this.targetElement() !== '') {\n                    this.removeFocus();\n                }\n                else {\n                    this.focusAtFirstListItem();\n                }\n            }\n        }\n        if (this.enableVirtualization && this.allowFiltering) {\n            this.getFilteringSkeletonCount();\n        }\n    };\n    MultiSelect.prototype.preRender = function () {\n        if (this.allowFiltering === null) {\n            this.allowFiltering = (this.mode === 'CheckBox') ? true : false;\n        }\n        this.preventSetCurrentData = false;\n        this.initializeData();\n        this.updateDataAttribute(this.htmlAttributes);\n        _super.prototype.preRender.call(this);\n    };\n    MultiSelect.prototype.getLocaleName = function () {\n        return 'multi-select';\n    };\n    MultiSelect.prototype.initializeData = function () {\n        this.mainListCollection = [];\n        this.beforePopupOpen = false;\n        this.filterAction = false;\n        this.remoteFilterAction = false;\n        this.isFirstClick = false;\n        this.mobFilter = true;\n        this.isFiltered = false;\n        this.focused = true;\n        this.initial = true;\n        this.backCommand = true;\n        this.isCustomRendered = false;\n        this.isRemoteSelection = false;\n        this.isSelectAllTarget = true;\n        this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount,\n        };\n    };\n    MultiSelect.prototype.updateData = function (delimiterChar, e) {\n        var data = '';\n        var delim = this.mode === 'Delimiter' || this.mode === 'CheckBox';\n        var text = [];\n        var temp;\n        var tempData = this.listData;\n        if (!this.enableVirtualization) {\n            this.listData = this.mainData;\n        }\n        if (!isNullOrUndefined(this.hiddenElement)) {\n            this.hiddenElement.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.value)) {\n            var valueLength = this.value.length;\n            var hiddenElementContent = '';\n            for (var index = 0; index < valueLength; index++) {\n                var valueItem = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[index]) : this.value[index];\n                var listValue = this.findListElement((!isNullOrUndefined(this.mainList) ? this.mainList : this.ulElement), 'li', 'data-value', valueItem);\n                if (this.enableVirtualization) {\n                    listValue = this.findListElement((!isNullOrUndefined(this.list) ? this.list : this.ulElement), 'li', 'data-value', valueItem);\n                }\n                if (isNullOrUndefined(listValue) && !this.allowCustomValue && !this.enableVirtualization) {\n                    this.value.splice(index, 1);\n                    index -= 1;\n                    valueLength -= 1;\n                }\n                else {\n                    if (this.listData) {\n                        if (this.enableVirtualization) {\n                            if (delim) {\n                                data = this.delimiterWrapper && this.delimiterWrapper.innerHTML == \"\" ? data : this.delimiterWrapper.innerHTML;\n                            }\n                            var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                            temp = this.getTextByValue(value);\n                            var textValues = this.text != null && this.text != \"\" ? this.text + ',' + temp : temp;\n                            data += temp + delimiterChar + ' ';\n                            text.push(textValues);\n                            break;\n                        }\n                        else {\n                            temp = this.getTextByValue(valueItem);\n                        }\n                    }\n                    else {\n                        temp = valueItem;\n                    }\n                    data += temp + delimiterChar + ' ';\n                    text.push(temp);\n                }\n                hiddenElementContent += \"<option selected value=\\\"\" + valueItem + \"\\\">\" + index + \"</option>\";\n            }\n            if (!isNullOrUndefined(this.hiddenElement)) {\n                this.hiddenElement.innerHTML = hiddenElementContent;\n            }\n        }\n        var isChipRemove = e && e.target && e.target.classList.contains('e-chips-close');\n        if (!this.enableVirtualization || (this.enableVirtualization && this.mode !== 'CheckBox' && !isChipRemove)) {\n            this.setProperties({ text: text.toString() }, true);\n        }\n        if (delim) {\n            this.updateWrapperText(this.delimiterWrapper, data);\n            this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n            this.inputElement.setAttribute('aria-describedby', this.delimiterWrapper.id);\n        }\n        var targetEle = e && e.target;\n        var isClearAll = (targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        if (!this.changeOnBlur && ((e && !isClearAll)) || this.isSelectAll) {\n            this.isSelectAll = false;\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        this.listData = tempData;\n        this.addValidInputClass();\n    };\n    MultiSelect.prototype.initialTextUpdate = function () {\n        if (!isNullOrUndefined(this.text)) {\n            var textArr = this.text.split(this.delimiterChar);\n            var textVal = [];\n            for (var index = 0; textArr.length > index; index++) {\n                var val = this.getValueByText(textArr[index]);\n                if (!isNullOrUndefined(val)) {\n                    textVal.push(val);\n                }\n                else if (this.allowCustomValue) {\n                    textVal.push(textArr[index]);\n                }\n            }\n            if (textVal && textVal.length) {\n                var value = this.allowObjectBinding ? this.getDataByValue(textVal) : textVal;\n                this.setProperties({ value: value }, true);\n            }\n        }\n        else {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    MultiSelect.prototype.renderList = function (isEmptyData) {\n        if (!isEmptyData && this.allowCustomValue && this.list && (this.list.textContent === this.noRecordsTemplate\n            || this.list.querySelector('.e-ul') && this.list.querySelector('.e-ul').childElementCount === 0)) {\n            isEmptyData = true;\n        }\n        _super.prototype.render.call(this, null, isEmptyData);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        this.unwireListEvents();\n        this.wireListEvents();\n    };\n    MultiSelect.prototype.initialValueUpdate = function (listItems) {\n        if (this.list) {\n            var text = void 0;\n            var element = void 0;\n            var value = void 0;\n            if (this.chipCollectionWrapper) {\n                this.chipCollectionWrapper.innerHTML = '';\n            }\n            this.removeListSelection();\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n                    element = this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n                    var isCustomData = false;\n                    if (this.enableVirtualization) {\n                        text = null;\n                        if (listItems != null && listItems.length > 0) {\n                            for (var i = 0; i < listItems.length; i++) {\n                                if (getValue((this.fields.value ? this.fields.value : 'value'), listItems[i]) === value) {\n                                    text = getValue(this.fields.text, listItems[i]);\n                                    break;\n                                }\n                            }\n                        }\n                        if (isNullOrUndefined(text) && this.allowCustomValue) {\n                            text = this.getTextByValue(value);\n                            isCustomData = true;\n                        }\n                    }\n                    else {\n                        text = this.getTextByValue(value);\n                    }\n                    if (((element && (element.getAttribute('aria-selected') !== 'true')) ||\n                        (element && (element.getAttribute('aria-selected') === 'true' && this.hideSelectedItem) &&\n                            (this.mode === 'Box' || this.mode === 'Default'))) || (this.enableVirtualization && value != null && text != null && !isCustomData)) {\n                        var currentText = [];\n                        var textValues = this.text != null && this.text != \"\" ? this.text + ',' + text : text;\n                        currentText.push(textValues);\n                        this.setProperties({ text: currentText.toString() }, true);\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                    else if (value && this.allowCustomValue) {\n                        var indexItem = this.listData.length;\n                        var newValue = {};\n                        setValue(this.fields.text, value, newValue);\n                        setValue(this.fields.value, value, newValue);\n                        var noDataEle = this.popupWrapper.querySelector('.' + dropDownBaseClasses.noData);\n                        this.addItem(newValue, indexItem);\n                        if (this.enableVirtualization) {\n                            if (this.virtualCustomSelectData && this.virtualCustomSelectData.length >= 0) {\n                                this.virtualCustomSelectData.push(newValue);\n                            }\n                            else {\n                                this.virtualCustomSelectData = [newValue];\n                            }\n                        }\n                        element = element ? element : this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n                        if (this.popupWrapper.contains(noDataEle)) {\n                            this.list.setAttribute('style', noDataEle.getAttribute('style'));\n                            this.popupWrapper.replaceChild(this.list, noDataEle);\n                            this.wireListEvents();\n                        }\n                        var currentText = [];\n                        var textValues = this.text != null && this.text != \"\" ? this.text + ',' + text : text;\n                        currentText.push(textValues);\n                        this.setProperties({ text: currentText.toString() }, true);\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.updateDelimView();\n                if (this.changeOnBlur) {\n                    this.updateValueState(null, this.value, this.tempValues);\n                }\n                this.updateDelimeter(this.delimiterChar);\n                this.refreshInputHight();\n            }\n            else {\n                this.updateDelimeter(this.delimiterChar);\n            }\n            if (this.mode === 'CheckBox' && this.showSelectAll && (isNullOrUndefined(this.value) || !this.value.length)) {\n                this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n            }\n            if (this.mode === 'Box' || (this.mode === 'Default' && this.inputFocus)) {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateActionCompleteData = function (li, item) {\n        if (this.value && ((!this.allowObjectBinding && this.value.indexOf(li.getAttribute('data-value')) > -1) || (this.allowObjectBinding && this.isObjectInArray(this.getDataByValue(li.getAttribute('data-value')), this.value)))) {\n            this.mainList = this.ulElement;\n            if (this.hideSelectedItem) {\n                addClass([li], HIDE_LIST);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateAddItemList = function (list, itemCount) {\n        if (this.popupObj && this.popupObj.element && this.popupObj.element.querySelector('.' + dropDownBaseClasses.noData) && list) {\n            this.list = list;\n            this.mainList = this.ulElement = list.querySelector('ul');\n            remove(this.popupWrapper.querySelector('.e-content'));\n            this.popupObj = null;\n            this.renderPopup();\n        }\n        else if (this.allowCustomValue) {\n            this.list = list;\n            this.mainList = this.ulElement = list.querySelector('ul');\n        }\n    };\n    MultiSelect.prototype.updateDataList = function () {\n        if (this.mainList && this.ulElement && !(this.isFiltered || this.filterAction || this.targetElement().trim())) {\n            var isDynamicGroupItemUpdate = this.mainList.childElementCount < this.ulElement.childElementCount;\n            var isReactTemplateUpdate = ((this.ulElement.childElementCount > 0 && this.ulElement.children[0].childElementCount > 0) && (this.mainList.children[0] && (this.mainList.children[0].childElementCount < this.ulElement.children[0].childElementCount)));\n            var isAngularTemplateUpdate = this.itemTemplate && this.ulElement.childElementCount > 0 && !(this.ulElement.childElementCount < this.mainList.childElementCount) && (this.ulElement.children[0].childElementCount > 0 || (this.fields.groupBy && this.ulElement.children[1] && this.ulElement.children[1].childElementCount > 0));\n            if (isDynamicGroupItemUpdate || isReactTemplateUpdate || isAngularTemplateUpdate) {\n                //EJ2-57748 - for this task, we prevent the ul element cloning ( this.mainList = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n                this.mainList = this.ulElement;\n            }\n        }\n    };\n    MultiSelect.prototype.isValidLI = function (li) {\n        return (li && !li.classList.contains(dropDownBaseClasses.disabled) && !li.classList.contains(dropDownBaseClasses.group) &&\n            li.classList.contains(dropDownBaseClasses.li));\n    };\n    MultiSelect.prototype.updateListSelection = function (li, e, length) {\n        var customVal = li.getAttribute('data-value');\n        var value = this.allowObjectBinding ? this.getDataByValue(customVal) : this.getFormattedValue(customVal);\n        if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n            (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n            value = customVal;\n        }\n        this.removeHover();\n        if (!this.value || ((!this.allowObjectBinding && this.value.indexOf(value) === -1) || (this.allowObjectBinding && this.indexOfObjectInArray(value, this.value) === -1))) {\n            this.dispatchSelect(value, e, li, (li.getAttribute('aria-selected') === 'true'), length);\n        }\n        else {\n            this.removeValue(value, e, length);\n        }\n    };\n    MultiSelect.prototype.updateListSelectEventCallback = function (value, li, e) {\n        var _this = this;\n        value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n        var text = this.getTextByValue(value);\n        if ((this.allowCustomValue || this.allowFiltering) && !this.findListElement(this.mainList, 'li', 'data-value', value) && (!this.enableVirtualization || (this.enableVirtualization && this.virtualCustomData))) {\n            var temp_1 = li ? li.cloneNode(true) : li;\n            var fieldValue = this.fields.value ? this.fields.value : 'value';\n            if (this.allowCustomValue && this.mainData.length && typeof getValue(fieldValue, this.mainData[0]) === 'number') {\n                value = !isNaN(parseFloat(value.toString())) ? parseFloat(value.toString()) : value;\n            }\n            var data_1 = this.getDataByValue(value);\n            var eventArgs = {\n                newData: data_1,\n                cancel: false\n            };\n            this.trigger('customValueSelection', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (_this.enableVirtualization && _this.virtualCustomData) {\n                        if (_this.virtualCustomSelectData && _this.virtualCustomSelectData.length >= 0) {\n                            _this.virtualCustomSelectData.push(data_1);\n                        }\n                        else {\n                            _this.virtualCustomSelectData = [data_1];\n                        }\n                        _this.remoteCustomValue = false;\n                        _this.addValue(value, text, e);\n                    }\n                    else {\n                        append([temp_1], _this.mainList);\n                        _this.mainData.push(data_1);\n                        _this.remoteCustomValue = false;\n                        _this.addValue(value, text, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.remoteCustomValue = false;\n            this.addValue(value, text, e);\n        }\n    };\n    MultiSelect.prototype.removeListSelection = function () {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        var selectedItems = this.list.querySelectorAll('.' + className);\n        var temp = selectedItems.length;\n        if (selectedItems && selectedItems.length) {\n            removeClass(selectedItems, className);\n            while (temp > 0) {\n                selectedItems[temp - 1].setAttribute('aria-selected', 'false');\n                temp--;\n            }\n        }\n        if (!isNullOrUndefined(this.mainList)) {\n            var selectItems = this.mainList.querySelectorAll('.' + className);\n            var temp1 = selectItems.length;\n            if (selectItems && selectItems.length) {\n                removeClass(selectItems, className);\n                while (temp1 > 0) {\n                    selectItems[temp1 - 1].setAttribute('aria-selected', 'false');\n                    if (this.mode === 'CheckBox') {\n                        if (selectedItems && (selectedItems.length > (temp1 - 1))) {\n                            removeClass([selectedItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                        }\n                        removeClass([selectItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                    }\n                    temp1--;\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeHover = function () {\n        var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, dropDownBaseClasses.hover);\n        }\n    };\n    MultiSelect.prototype.removeFocus = function () {\n        if (this.list && this.mainList) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.focus);\n            var mainlist = this.mainList.querySelectorAll('.' + dropDownBaseClasses.focus);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.focus);\n                removeClass(mainlist, dropDownBaseClasses.focus);\n            }\n        }\n    };\n    MultiSelect.prototype.addListHover = function (li) {\n        if (this.enabled && this.isValidLI(li)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n        else {\n            if ((li !== null && li.classList.contains('e-list-group-item')) && this.enableGroupCheckBox && this.mode === 'CheckBox'\n                && !isNullOrUndefined(this.fields.groupBy)) {\n                this.removeHover();\n                addClass([li], dropDownBaseClasses.hover);\n            }\n        }\n    };\n    MultiSelect.prototype.addListFocus = function (element) {\n        if (this.enabled && this.isValidLI(element)) {\n            this.removeFocus();\n            addClass([element], dropDownBaseClasses.focus);\n            this.updateAriaActiveDescendant();\n        }\n        else {\n            if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n                addClass([element], dropDownBaseClasses.focus);\n                this.updateAriaActiveDescendant();\n            }\n        }\n    };\n    MultiSelect.prototype.addListSelection = function (element, mainElement) {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (this.isValidLI(element) && !element.classList.contains(dropDownBaseClasses.hover)) {\n            addClass([element], className);\n            this.updateMainList(false, element.getAttribute('data-value'), mainElement);\n            element.setAttribute('aria-selected', 'true');\n            if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                var ariaCheck = element.getElementsByClassName('e-check').length;\n                if (ariaCheck === 0) {\n                    this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n                }\n            }\n            this.notify('activeList', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n            if (this.chipCollectionWrapper) {\n                this.removeChipSelection();\n            }\n            this.selectedElementID = element.id;\n        }\n    };\n    MultiSelect.prototype.updateDelimeter = function (delimChar, e) {\n        this.updateData(delimChar, e);\n    };\n    MultiSelect.prototype.onMouseClick = function (e) {\n        var _this = this;\n        this.keyCode = null;\n        this.scrollFocusStatus = false;\n        this.keyboardEvent = null;\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (this.enableVirtualization && li && li.classList.contains('e-virtual-list')) {\n            return;\n        }\n        var headerLi = closest(target, '.' + dropDownBaseClasses.group);\n        if (headerLi && this.enableGroupCheckBox && this.mode === 'CheckBox' && this.fields.groupBy) {\n            target = target.classList.contains('e-list-group-item') ? target.firstElementChild.lastElementChild\n                : e.target;\n            if (target.classList.contains('e-check')) {\n                this.selectAllItem(false, e);\n                target.classList.remove('e-check');\n                target.classList.remove('e-stop');\n                closest(target, '.' + 'e-list-group-item').classList.remove('e-active');\n                target.setAttribute('aria-selected', 'false');\n            }\n            else {\n                this.selectAllItem(true, e);\n                target.classList.remove('e-stop');\n                target.classList.add('e-check');\n                closest(target, '.' + 'e-list-group-item').classList.add('e-active');\n                target.setAttribute('aria-selected', 'true');\n            }\n            this.refreshSelection();\n            this.checkSelectAll();\n        }\n        else {\n            if (this.isValidLI(li)) {\n                var limit = this.value && this.value.length ? this.value.length : 0;\n                if (li.classList.contains('e-active')) {\n                    limit = limit - 1;\n                }\n                if (limit < this.maximumSelectionLength) {\n                    this.updateListSelection(li, e);\n                    this.checkPlaceholderSize();\n                    this.addListFocus(li);\n                    if ((this.allowCustomValue || this.allowFiltering) && this.mainList && this.listData) {\n                        if (this.mode !== 'CheckBox') {\n                            this.focusAtLastListItem(li.getAttribute('data-value'));\n                            this.refreshSelection();\n                        }\n                    }\n                    else {\n                        this.makeTextBoxEmpty();\n                    }\n                }\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    if (this.value && this.value.length > 50) {\n                        setTimeout(function () {\n                            _this.updateDelimeter(_this.delimiterChar, e);\n                        }, 0);\n                    }\n                    else {\n                        this.updateDelimeter(this.delimiterChar, e);\n                    }\n                    this.refreshInputHight();\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                this.checkSelectAll();\n                this.refreshPopup();\n                if (this.hideSelectedItem) {\n                    this.focusAtFirstListItem();\n                }\n                if (this.closePopupOnSelect) {\n                    this.hidePopup(e);\n                }\n                else {\n                    e.preventDefault();\n                }\n                this.makeTextBoxEmpty();\n                this.findGroupStart(target);\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(isNullOrUndefined(li) ? null : li.textContent);\n                }\n            }\n            else {\n                e.preventDefault();\n            }\n            if (this.enableVirtualization && this.hideSelectedItem) {\n                var visibleListElements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)' + ':not(.e-virtual-list)');\n                if (visibleListElements.length) {\n                    var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n                    if (visibleListElements.length < (actualCount + 2)) {\n                        var query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.virtualItemStartIndex);\n                        this.resetList(this.dataSource, this.fields, query);\n                        this.UpdateSkeleton();\n                        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                        this.virtualItemCount = this.itemCount;\n                        if (this.mode !== 'CheckBox') {\n                            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                        }\n                        if (!this.list.querySelector('.e-virtual-ddl')) {\n                            var virualElement = this.createElement('div', {\n                                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                            });\n                            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n                        }\n                        else {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n                        }\n                        if (this.list.querySelector('.e-virtual-ddl-content')) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                        }\n                    }\n                }\n            }\n            this.refreshPlaceHolder();\n            this.deselectHeader();\n        }\n    };\n    MultiSelect.prototype.findGroupStart = function (target) {\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var count = 0;\n            var liChecked = 0;\n            var liUnchecked = 0;\n            var groupValues = void 0;\n            if (this.itemTemplate && !target.getElementsByClassName('e-frame').length) {\n                while (!target.getElementsByClassName('e-frame').length) {\n                    target = target.parentElement;\n                }\n            }\n            if (target.classList.contains('e-frame')) {\n                target = target.parentElement.parentElement;\n            }\n            groupValues = this.findGroupAttrtibutes(target, liChecked, liUnchecked, count, 0);\n            groupValues = this.findGroupAttrtibutes(target, groupValues[0], groupValues[1], groupValues[2], 1);\n            while (!target.classList.contains('e-list-group-item')) {\n                if (target.classList.contains('e-list-icon')) {\n                    target = target.parentElement;\n                }\n                target = target.previousElementSibling;\n                if (target == null) {\n                    break;\n                }\n            }\n            this.updateCheckBox(target, groupValues[0], groupValues[1], groupValues[2]);\n        }\n    };\n    MultiSelect.prototype.findGroupAttrtibutes = function (listElement, checked, unChecked, count, position) {\n        while (!listElement.classList.contains('e-list-group-item')) {\n            if (listElement.classList.contains('e-list-icon')) {\n                listElement = listElement.parentElement;\n            }\n            if (listElement.getElementsByClassName('e-frame')[0].classList.contains('e-check') &&\n                listElement.classList.contains('e-list-item')) {\n                checked++;\n            }\n            else if (listElement.classList.contains('e-list-item')) {\n                unChecked++;\n            }\n            count++;\n            listElement = position ? listElement.nextElementSibling : listElement.previousElementSibling;\n            if (listElement == null) {\n                break;\n            }\n        }\n        return [checked, unChecked, count];\n    };\n    MultiSelect.prototype.updateCheckBox = function (groupHeader, checked, unChecked, count) {\n        if (groupHeader === null) {\n            return;\n        }\n        var checkBoxElement = groupHeader.getElementsByClassName('e-frame')[0];\n        if (count === checked) {\n            checkBoxElement.classList.remove('e-stop');\n            checkBoxElement.classList.add('e-check');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'true');\n        }\n        else if (count === unChecked) {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.remove('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.remove('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n        else if (this.maximumSelectionLength === checked - 1) {\n            checkBoxElement.classList.remove('e-stop');\n            groupHeader.setAttribute('aria-selected', 'true');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            checkBoxElement.classList.add('e-check');\n        }\n        else {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.add('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n    };\n    MultiSelect.prototype.deselectHeader = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var collection = this.list.querySelectorAll('li.e-list-group-item:not(.e-active)');\n        if (limit < this.maximumSelectionLength) {\n            removeClass(collection, 'e-disable');\n        }\n        if (limit === this.maximumSelectionLength) {\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        if (currentLi === null && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)\n            && this.enableGroupCheckBox) {\n            currentLi = closest(e.target, '.' + dropDownBaseClasses.group);\n        }\n        this.addListHover(currentLi);\n    };\n    MultiSelect.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    MultiSelect.prototype.onListMouseDown = function (e) {\n        e.preventDefault();\n        this.scrollFocusStatus = true;\n    };\n    MultiSelect.prototype.onDocumentClick = function (e) {\n        if (this.mode !== 'CheckBox') {\n            var target = e.target;\n            if (!(!isNullOrUndefined(this.popupObj) && closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) &&\n                !this.overAllWrapper.contains(e.target)) {\n                this.scrollFocusStatus = false;\n            }\n            else {\n                this.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement);\n            }\n        }\n    };\n    MultiSelect.prototype.wireListEvents = function () {\n        if (!isNullOrUndefined(this.list)) {\n            EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n            EventHandler.add(this.list, 'mousedown', this.onListMouseDown, this);\n            EventHandler.add(this.list, 'mouseup', this.onMouseClick, this);\n            EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    MultiSelect.prototype.unwireListEvents = function () {\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        if (this.list) {\n            EventHandler.remove(this.list, 'mousedown', this.onListMouseDown);\n            EventHandler.remove(this.list, 'mouseup', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    MultiSelect.prototype.hideOverAllClear = function () {\n        if (!this.value || !this.value.length || this.inputElement.value === '') {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.showOverAllClear = function () {\n        if (((this.value && this.value.length) || this.inputElement.value !== '') && this.showClearButton && this.readonly !== true) {\n            this.overAllClear.style.display = '';\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement && this.enabled) {\n            this.inputElement.blur();\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            var filterClear = this.filterParent && this.filterParent.querySelector('.e-clear-icon.e-icons');\n            if (this.overAllClear.style.display !== 'none' || filterClear) {\n                this.spinnerElement = filterClear ? filterClear : this.overAllClear;\n            }\n            else {\n                this.spinnerElement = this.createElement('span', { className: CLOSEICON_CLASS + ' ' + SPINNER_CLASS });\n                this.componentWrapper.appendChild(this.spinnerElement);\n            }\n            createSpinner({ target: this.spinnerElement, width: Browser.isDevice ? '16px' : '14px' }, this.createElement);\n            addClass([this.spinnerElement], DISABLE_ICON);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], DISABLE_ICON);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    MultiSelect.prototype.updateWrapperText = function (wrapperType, wrapperData) {\n        if (this.valueTemplate || !this.enableHtmlSanitizer) {\n            wrapperType.innerHTML = this.encodeHtmlEntities(wrapperData);\n        }\n        else {\n            wrapperType.innerText = wrapperData;\n        }\n    };\n    MultiSelect.prototype.updateDelimView = function () {\n        if (this.delimiterWrapper) {\n            this.hideDelimWrapper();\n        }\n        if (this.chipCollectionWrapper) {\n            this.chipCollectionWrapper.style.display = 'none';\n        }\n        if (!isNullOrUndefined(this.viewWrapper)) {\n            this.viewWrapper.style.display = '';\n            this.viewWrapper.style.width = '';\n            this.viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        }\n        if (this.value && this.value.length) {\n            var data = '';\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            var overAllContainer = void 0;\n            if (!this.enableVirtualization) {\n                this.updateWrapperText(this.viewWrapper, data);\n            }\n            var l10nLocale = {\n                noRecordsTemplate: 'No records found',\n                actionFailureTemplate: 'Request failed',\n                overflowCountTemplate: '+${count} more..',\n                totalCountTemplate: '${count} selected'\n            };\n            var l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            if (l10n.getConstant('actionFailureTemplate') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            }\n            if (l10n.getConstant('noRecordsTemplate') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            }\n            var remainContent = l10n.getConstant('overflowCountTemplate');\n            var totalContent = l10n.getConstant('totalCountTemplate');\n            var raminElement = this.createElement('span', {\n                className: REMAIN_WRAPPER\n            });\n            var remainCompildTemp = remainContent.replace('${count}', this.value.length.toString());\n            raminElement.innerText = remainCompildTemp;\n            this.viewWrapper.appendChild(raminElement);\n            this.renderReactTemplates();\n            var remainSize = raminElement.offsetWidth;\n            remove(raminElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = this.dropIcon.offsetWidth + parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            }\n            this.checkClearIconWidth();\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    var items = this.text && this.text.split(this.delimiterChar);\n                    if (!this.enableVirtualization) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = this.getOverflowVal(index);\n                        data += temp;\n                        temp = this.viewWrapper.innerHTML;\n                        this.updateWrapperText(this.viewWrapper, data);\n                    }\n                    else if (items) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = items[index];\n                        data += temp;\n                        temp = this.viewWrapper.innerHTML;\n                        this.updateWrapperText(this.viewWrapper, data);\n                    }\n                    wrapperleng = this.viewWrapper.offsetWidth +\n                        parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                    overAllContainer = this.componentWrapper.offsetWidth -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n                    if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                        if (tempData !== undefined && tempData !== '') {\n                            temp = tempData;\n                            index = tempIndex + 1;\n                        }\n                        this.updateWrapperText(this.viewWrapper, temp);\n                        remaining = this.value.length - index;\n                        wrapperleng = this.viewWrapper.offsetWidth +\n                            parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                        while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) > overAllContainer) && wrapperleng !== 0\n                            && this.viewWrapper.innerHTML !== '') {\n                            var textArr = [];\n                            this.viewWrapper.innerHTML = textArr.join(this.delimiterChar);\n                            remaining = this.value.length;\n                            wrapperleng = this.viewWrapper.offsetWidth +\n                                parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                        }\n                        break;\n                    }\n                    else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                        tempData = data;\n                        tempIndex = index;\n                    }\n                    else if (index === 0) {\n                        tempData = '';\n                        tempIndex = -1;\n                    }\n                }\n            }\n            if (remaining > 0) {\n                var totalWidth = overAllContainer - downIconWidth - this.clearIconWidth;\n                this.viewWrapper.appendChild(this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth));\n                this.updateRemainWidth(this.viewWrapper, totalWidth);\n                this.updateRemainingText(raminElement, downIconWidth, remaining, remainContent, totalContent);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.viewWrapper)) {\n                this.viewWrapper.innerHTML = '';\n                this.viewWrapper.style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.checkClearIconWidth = function () {\n        if (this.showClearButton) {\n            this.clearIconWidth = this.overAllClear.offsetWidth;\n        }\n    };\n    MultiSelect.prototype.updateRemainWidth = function (viewWrapper, totalWidth) {\n        if (viewWrapper.classList.contains(TOTAL_COUNT_WRAPPER) && totalWidth < (viewWrapper.offsetWidth +\n            parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10)\n            + parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10))) {\n            viewWrapper.style.width = totalWidth + 'px';\n        }\n    };\n    MultiSelect.prototype.updateRemainTemplate = function (raminElement, viewWrapper, remaining, remainContent, totalContent, totalWidth) {\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3 && viewWrapper.firstChild.nodeValue === '') {\n            viewWrapper.removeChild(viewWrapper.firstChild);\n        }\n        raminElement.innerHTML = '';\n        var remainTemp = remainContent.replace('${count}', remaining.toString());\n        var totalTemp = totalContent.replace('${count}', remaining.toString());\n        raminElement.innerText = (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) ? remainTemp : totalTemp;\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) {\n            viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            viewWrapper.classList.add(TOTAL_COUNT_WRAPPER);\n            this.updateRemainWidth(viewWrapper, totalWidth);\n        }\n        return raminElement;\n    };\n    MultiSelect.prototype.updateRemainingText = function (raminElement, downIconWidth, remaining, remainContent, totalContent) {\n        var overAllContainer = this.componentWrapper.offsetWidth -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n        var wrapperleng = this.viewWrapper.offsetWidth + parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n        if (((wrapperleng + downIconWidth) >= overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n            this.viewWrapper.firstChild.nodeType === 3) {\n            while (((wrapperleng + downIconWidth) > overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n                this.viewWrapper.firstChild.nodeType === 3) {\n                var textArr = this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);\n                textArr.pop();\n                this.viewWrapper.firstChild.nodeValue = textArr.join(this.delimiterChar);\n                if (this.viewWrapper.firstChild.nodeValue === '') {\n                    this.viewWrapper.removeChild(this.viewWrapper.firstChild);\n                }\n                remaining++;\n                wrapperleng = this.viewWrapper.offsetWidth;\n            }\n            var totalWidth = overAllContainer - downIconWidth;\n            this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth);\n        }\n    };\n    MultiSelect.prototype.getOverflowVal = function (index) {\n        var temp;\n        if (this.mainData && this.mainData.length) {\n            var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n            if (this.mode === 'CheckBox') {\n                var newTemp = this.listData;\n                this.listData = this.mainData;\n                temp = this.getTextByValue(value);\n                this.listData = newTemp;\n            }\n            else {\n                temp = this.getTextByValue(value);\n            }\n        }\n        else {\n            temp = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n        }\n        return temp;\n    };\n    MultiSelect.prototype.unWireEvent = function () {\n        if (!isNullOrUndefined(this.componentWrapper)) {\n            EventHandler.remove(this.componentWrapper, 'mousedown', this.wrapperClick);\n        }\n        EventHandler.remove(window, 'resize', this.windowResize);\n        if (!isNullOrUndefined(this.inputElement)) {\n            EventHandler.remove(this.inputElement, 'focus', this.focusInHandler);\n            EventHandler.remove(this.inputElement, 'keydown', this.onKeyDown);\n            if (this.mode !== 'CheckBox') {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n            }\n            EventHandler.remove(this.inputElement, 'keyup', this.keyUp);\n            var formElement = closest(this.inputElement, 'form');\n            if (formElement) {\n                EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n            }\n            EventHandler.remove(this.inputElement, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.componentWrapper)) {\n            EventHandler.remove(this.componentWrapper, 'mouseover', this.mouseIn);\n            EventHandler.remove(this.componentWrapper, 'mouseout', this.mouseOut);\n        }\n        if (!isNullOrUndefined(this.overAllClear)) {\n            EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n        }\n    };\n    MultiSelect.prototype.selectAllItem = function (state, event, list) {\n        var li;\n        if (!isNullOrUndefined(this.list)) {\n            li = this.list.querySelectorAll(state ?\n                'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n                'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)');\n        }\n        if (this.value && this.value.length && event && event.target\n            && closest(event.target, '.e-close-hooker') && this.allowFiltering) {\n            li = this.mainList.querySelectorAll(state ?\n                'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n                'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)');\n        }\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var target = (event ? (this.groupTemplate ? closest(event.target, '.e-list-group-item') : event.target) : null);\n            target = (event && event.keyCode === 32) ? list : target;\n            target = (target && target.classList.contains('e-frame')) ? target.parentElement.parentElement : target;\n            if (target && target.classList.contains('e-list-group-item')) {\n                var listElement = target.nextElementSibling;\n                if (isNullOrUndefined(listElement)) {\n                    return;\n                }\n                while (listElement.classList.contains('e-list-item')) {\n                    if (state) {\n                        if (!listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                            var selectionLimit = this.value && this.value.length ? this.value.length : 0;\n                            if (listElement.classList.contains('e-active')) {\n                                selectionLimit -= 1;\n                            }\n                            if (selectionLimit < this.maximumSelectionLength) {\n                                this.updateListSelection(listElement, event);\n                            }\n                        }\n                    }\n                    else {\n                        if (listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                            this.updateListSelection(listElement, event);\n                        }\n                    }\n                    listElement = listElement.nextElementSibling;\n                    if (listElement == null) {\n                        break;\n                    }\n                }\n                if (target.classList.contains('e-list-group-item')) {\n                    var focusedElement = this.list.getElementsByClassName('e-item-focus')[0];\n                    if (focusedElement) {\n                        focusedElement.classList.remove('e-item-focus');\n                    }\n                    if (state) {\n                        target.classList.add('e-active');\n                    }\n                    else {\n                        target.classList.remove('e-active');\n                    }\n                    target.classList.add('e-item-focus');\n                    this.updateAriaActiveDescendant();\n                }\n                this.textboxValueUpdate();\n                this.checkPlaceholderSize();\n                if (!this.changeOnBlur && event) {\n                    this.updateValueState(event, this.value, this.tempValues);\n                }\n            }\n            else {\n                this.updateValue(event, li, state);\n            }\n        }\n        else {\n            this.updateValue(event, li, state);\n        }\n        this.addValidInputClass();\n    };\n    MultiSelect.prototype.updateValue = function (event, li, state) {\n        var _this = this;\n        var length = li.length;\n        var beforeSelectArgs = {\n            event: event,\n            items: state ? li : [],\n            itemData: state ? this.listData : [],\n            isInteracted: event ? true : false,\n            isChecked: state,\n            preventSelectEvent: false\n        };\n        this.trigger('beforeSelectAll', beforeSelectArgs);\n        if ((li && li.length) || (this.enableVirtualization && !state)) {\n            var index_2 = 0;\n            var count_1 = 0;\n            if (this.enableGroupCheckBox) {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : li.length;\n            }\n            else {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : this.maximumSelectionLength;\n            }\n            if (!beforeSelectArgs.preventSelectEvent) {\n                if (this.enableVirtualization) {\n                    if (state) {\n                        this.virtualSelectAll = true;\n                        this.resetList(this.dataSource, this.fields, new Query());\n                        if (this.virtualSelectAllData instanceof Array) {\n                            for (var i = 0; i < this.virtualSelectAllData.length; i++) {\n                                if (li[this.skeletonCount + i]) {\n                                    var value_2 = this.allowObjectBinding ? this.getDataByValue(li[this.skeletonCount + i].getAttribute('data-value')) : this.getFormattedValue(li[this.skeletonCount + i].getAttribute('data-value'));\n                                    if (((!this.allowObjectBinding && this.value && this.value.indexOf(value_2) === 1) || (this.allowObjectBinding && this.indexOfObjectInArray(value_2, this.value) === 1))) {\n                                        continue;\n                                    }\n                                    this.updateListSelection(li[this.skeletonCount + i], event, length - i);\n                                }\n                                else {\n                                    if (this.fields) {\n                                        var value_3 = getValue(this.fields.value, this.virtualSelectAllData[i]);\n                                        value_3 = this.allowObjectBinding ? this.getDataByValue(value_3) : value_3;\n                                        if (((!this.allowObjectBinding && this.value && this.value.indexOf(value_3) === 1) || (this.allowObjectBinding && this.indexOfObjectInArray(value_3, this.value) === 1))) {\n                                            continue;\n                                        }\n                                        if (this.value && value_3 != null && Array.isArray(this.value) && ((!this.allowObjectBinding && this.value.indexOf(value_3) < 0) || (this.allowObjectBinding && !this.isObjectInArray(value_3, this.value)))) {\n                                            this.dispatchSelect(value_3, event, null, false, length);\n                                        }\n                                    }\n                                }\n                            }\n                            if (this.virtualSelectAllData && this.value.length != this.virtualSelectAllData.length && this.virtualItemStartIndex != 0) {\n                                if (this.virtualItemStartIndex > this.itemCount) {\n                                    for (var i = 0; i < this.itemCount; i++) {\n                                        if (this.fields) {\n                                            var value_4 = getValue(this.fields.value, this.virtualSelectAllData[i]);\n                                            value_4 = this.allowObjectBinding ? this.getDataByValue(value_4) : value_4;\n                                            if (this.value && value_4 != null && Array.isArray(this.value) && ((!this.allowObjectBinding && this.value.indexOf(value_4) < 0) || (this.allowObjectBinding && !this.isObjectInArray(value_4, this.value)))) {\n                                                this.setProperties({ value: [].concat([], this.value, this.allowObjectBinding ? [this.virtualSelectAllData[i]] : [value_4]) }, true);\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            else {\n                                for (var i = 0; i < this.virtualItemStartIndex; i++) {\n                                    if (this.fields) {\n                                        var value = getValue(this.fields.value, this.virtualSelectAllData[i]);\n                                        value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n                                        if (Array.isArray(this.value) && ((!this.allowObjectBinding && this.value.indexOf(value) < 0) || (this.allowObjectBinding && !this.isObjectInArray(value, this.value)))) {\n                                            this.setProperties({ value: [].concat([], this.value, this.allowObjectBinding ? [this.virtualSelectAllData[i]] : [value]) }, true);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        while (index_2 < this.value.length && index_2 <= 50 && index_2 < count_1 && this.value.length > 0) {\n                            this.removeValue(this.value[index_2], event, this.value.length - index_2);\n                            index_2++;\n                        }\n                        if (length > 50) {\n                            setTimeout(function () {\n                                while (index_2 < _this.value.length && index_2 < count_1 && _this.value.length > 0) {\n                                    _this.removeValue(value[index_2], event, _this.value.length - index_2);\n                                    index_2++;\n                                }\n                                _this.updatedataValueItems(event);\n                                if (!_this.changeOnBlur) {\n                                    _this.updateValueState(event, _this.value, _this.tempValues);\n                                    _this.isSelectAll = _this.isSelectAll ? !_this.isSelectAll : _this.isSelectAll;\n                                }\n                                _this.updateHiddenElement();\n                            }, 0);\n                        }\n                        this.value = [];\n                        this.virtualSelectAll = false;\n                        if (!isNullOrUndefined(this.viewPortInfo.startIndex) && !isNullOrUndefined(this.viewPortInfo.endIndex)) {\n                            this.notify(\"setCurrentViewDataAsync\", {\n                                component: this.getModuleName(),\n                                module: \"VirtualScroll\",\n                            });\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var virtualTrackElement = this.list.getElementsByClassName('e-virtual-ddl')[0];\n                    if (virtualTrackElement) {\n                        (virtualTrackElement).style = this.GetVirtualTrackHeight();\n                    }\n                    this.UpdateSkeleton();\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var virtualContentElement = this.list.getElementsByClassName('e-virtual-ddl-content')[0];\n                    if (virtualContentElement) {\n                        (virtualContentElement).style = this.getTransformValues();\n                    }\n                }\n                else {\n                    while (index_2 < length && index_2 <= 50 && index_2 < count_1) {\n                        this.isSelectAllTarget = (length === index_2 + 1);\n                        this.updateListSelection(li[index_2], event, length - index_2);\n                        if (this.enableGroupCheckBox) {\n                            this.findGroupStart(li[index_2]);\n                        }\n                        index_2++;\n                    }\n                    if (length > 50) {\n                        setTimeout(function () {\n                            while (index_2 < length && index_2 < count_1) {\n                                _this.isSelectAllTarget = (length === index_2 + 1);\n                                _this.updateListSelection(li[index_2], event, length - index_2);\n                                if (_this.enableGroupCheckBox) {\n                                    _this.findGroupStart(li[index_2]);\n                                }\n                                index_2++;\n                            }\n                            _this.updatedataValueItems(event);\n                            if (!_this.changeOnBlur) {\n                                _this.updateValueState(event, _this.value, _this.tempValues);\n                                _this.isSelectAll = _this.isSelectAll ? !_this.isSelectAll : _this.isSelectAll;\n                            }\n                            _this.updateHiddenElement();\n                            if (_this.popupWrapper && li[index_2 - 1].classList.contains('e-item-focus')) {\n                                var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n                                if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n                                    li[index_2 - 1].classList.remove('e-item-focus');\n                                }\n                            }\n                        }, 0);\n                    }\n                }\n            }\n            else {\n                for (var i_1 = 0; i_1 < li.length && i_1 < count_1; i_1++) {\n                    this.removeHover();\n                    var customVal = li[i_1].getAttribute('data-value');\n                    var value_5 = this.getFormattedValue(customVal);\n                    value_5 = this.allowObjectBinding ? this.getDataByValue(value_5) : value_5;\n                    var mainElement = this.mainList ? this.mainList.querySelectorAll(state ?\n                        'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n                        'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)')[i_1] : null;\n                    if (state) {\n                        this.value = !this.value ? [] : this.value;\n                        if ((!this.allowObjectBinding && this.value.indexOf(value_5) < 0) || (this.allowObjectBinding && !this.isObjectInArray(value_5, this.value))) {\n                            this.setProperties({ value: [].concat([], this.value, [value_5]) }, true);\n                        }\n                        this.removeFocus();\n                        this.addListSelection(li[i_1], mainElement);\n                        this.updateChipStatus();\n                        this.checkMaxSelection();\n                    }\n                    else {\n                        this.removeAllItems(value_5, event, false, li[i_1], mainElement);\n                    }\n                    if (this.enableGroupCheckBox) {\n                        this.findGroupStart(li[i_1]);\n                    }\n                }\n                if (!state) {\n                    var limit = this.value && this.value.length ? this.value.length : 0;\n                    if (limit < this.maximumSelectionLength) {\n                        var collection = this.list.querySelectorAll('li.'\n                            + dropDownBaseClasses.li + ':not(.e-active)');\n                        removeClass(collection, 'e-disable');\n                    }\n                }\n                var args = {\n                    event: event,\n                    items: state ? li : [],\n                    itemData: state ? this.listData : [],\n                    isInteracted: event ? true : false,\n                    isChecked: state\n                };\n                this.trigger('selectedAll', args);\n            }\n        }\n        this.updatedataValueItems(event);\n        this.checkPlaceholderSize();\n        if (length <= 50 && !beforeSelectArgs.preventSelectEvent) {\n            if (!this.changeOnBlur) {\n                this.updateValueState(event, this.value, this.tempValues);\n                this.isSelectAll = this.isSelectAll ? !this.isSelectAll : this.isSelectAll;\n            }\n            this.updateHiddenElement();\n        }\n    };\n    MultiSelect.prototype.updateHiddenElement = function () {\n        var _this = this;\n        var hiddenValue = '';\n        var wrapperText = '';\n        var data = '';\n        var text = [];\n        if (this.mode === 'CheckBox') {\n            this.value.map(function (value, index) {\n                hiddenValue += '<option selected value =\"' + value + '\">' + index + '</option>';\n                if (_this.listData) {\n                    data = _this.getTextByValue(value);\n                }\n                else {\n                    data = value;\n                }\n                wrapperText += data + _this.delimiterChar + ' ';\n                text.push(data);\n            });\n            this.hiddenElement.innerHTML = hiddenValue;\n            this.updateWrapperText(this.delimiterWrapper, wrapperText);\n            this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n            this.inputElement.setAttribute('aria-describedby', this.delimiterWrapper.id);\n            this.setProperties({ text: text.toString() }, true);\n            this.refreshInputHight();\n            this.refreshPlaceHolder();\n        }\n    };\n    MultiSelect.prototype.updatedataValueItems = function (event) {\n        this.deselectHeader();\n        this.textboxValueUpdate(event);\n    };\n    MultiSelect.prototype.textboxValueUpdate = function (event) {\n        var isRemoveAll = event && event.target && (closest(event.target, '.e-selectall-parent')\n            || closest(event.target, '.e-close-hooker'));\n        if (this.mode !== 'Box' && !this.isPopupOpen() && !(this.mode === 'CheckBox' && (this.isSelectAll || isRemoveAll))) {\n            this.updateDelimView();\n        }\n        else {\n            this.searchWrapper.classList.remove(ZERO_SIZE);\n        }\n        if (this.mode === 'CheckBox') {\n            this.updateDelimView();\n            if (!(isRemoveAll || this.isSelectAll) && this.isSelectAllTarget) {\n                this.updateDelimeter(this.delimiterChar, event);\n            }\n            this.refreshInputHight();\n        }\n        else {\n            this.updateDelimeter(this.delimiterChar, event);\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateDataSource = function (prop) {\n        if (isNullOrUndefined(this.list)) {\n            this.renderPopup();\n        }\n        else {\n            this.resetList(this.dataSource);\n        }\n        if (this.value && this.value.length) {\n            this.setProperties({ 'value': this.value });\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.onLoadSelect = function () {\n        this.setDynValue = true;\n        this.renderPopup();\n    };\n    MultiSelect.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        if (isNullOrUndefined(this.list)) {\n            this.selectAllAction = function () {\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: _this.mode === 'CheckBox',\n                        value: state ? 'check' : 'uncheck'\n                    };\n                    _this.notify('checkSelectAll', args);\n                }\n                _this.selectAllItem(state, event);\n                _this.selectAllAction = null;\n            };\n            _super.prototype.render.call(this);\n        }\n        else {\n            this.selectAllAction = null;\n            if (this.mode === 'CheckBox' && this.showSelectAll) {\n                var args = {\n                    value: state ? 'check' : 'uncheck',\n                    enable: this.mode === 'CheckBox',\n                    module: 'CheckBoxSelection'\n                };\n                this.notify('checkSelectAll', args);\n            }\n            this.selectAllItem(state, event);\n        }\n        this.virtualSelectAll = false;\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    MultiSelect.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {MultiSelectModel} newProp - Returns the dynamic property value of the component.\n     * @param {MultiSelectModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    MultiSelect.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))\n            || newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            if (this.resetFilteredData) {\n                // The filtered data is not being reset in the component after the user focuses out.\n                this.resetMainList = !this.resetMainList ? this.mainList : this.resetMainList;\n                this.resetFilteredData = false;\n            }\n            this.mainList = null;\n            this.mainData = null;\n            this.isFirstClick = false;\n            this.isDynamicDataChange = true;\n        }\n        if (this.getModuleName() === 'multiselect') {\n            this.filterAction = false;\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    if (this.mode === 'CheckBox' && this.showSelectAll) {\n                        if (!isNullOrUndefined(this.popupObj)) {\n                            this.popupObj.destroy();\n                            this.popupObj = null;\n                        }\n                        this.renderPopup();\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttribute();\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'text':\n                    this.updateVal(this.value, this.value, 'text');\n                    break;\n                case 'value':\n                    this.updateVal(this.value, oldProp.value, 'value');\n                    this.addValidInputClass();\n                    if (!this.closePopupOnSelect && this.isPopupOpen()) {\n                        this.refreshPopup();\n                    }\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    this.popupObj.setProperties({ width: this.calcPopupWidth() });\n                    break;\n                case 'placeholder':\n                    this.refreshPlaceHolder();\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.allowFiltering) {\n                        this.notify('filterBarPlaceholder', { filterBarPlaceholder: newProp.filterBarPlaceholder });\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode !== 'Box') {\n                        this.updateDelimView();\n                    }\n                    this.updateData(newProp.delimiterChar);\n                    break;\n                case 'cssClass':\n                    this.updateOldPropCssClass(oldProp.cssClass);\n                    this.updateCssClass();\n                    this.calculateWidth();\n                    break;\n                case 'enableRtl':\n                    this.enableRTL(newProp.enableRtl);\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n                case 'readonly':\n                    this.updateReadonly(newProp.readonly);\n                    this.hidePopup();\n                    break;\n                case 'enabled':\n                    this.hidePopup();\n                    this.enable(newProp.enabled);\n                    break;\n                case 'showSelectAll':\n                    if (this.popupObj) {\n                        this.popupObj.destroy();\n                        this.popupObj = null;\n                    }\n                    this.renderPopup();\n                    break;\n                case 'showDropDownIcon':\n                    this.dropDownIcon();\n                    break;\n                case 'floatLabelType':\n                    this.setFloatLabelType();\n                    this.addValidInputClass();\n                    Input.createSpanElement(this.overAllWrapper, this.createElement);\n                    this.calculateWidth();\n                    if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n                        this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'enableSelectionOrder':\n                    break;\n                case 'selectAllText':\n                    this.notify('selectAllText', false);\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        var overAllHeight = parseInt(this.popupHeight, 10);\n                        if (this.popupHeight !== 'auto') {\n                            this.list.style.maxHeight = formatUnit(overAllHeight);\n                            this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n                        }\n                        else {\n                            this.list.style.maxHeight = formatUnit(this.popupHeight);\n                        }\n                    }\n                    break;\n                case 'headerTemplate':\n                case 'footerTemplate':\n                    this.reInitializePoup();\n                    break;\n                case 'allowFiltering':\n                    if (this.mode === 'CheckBox' && this.popupObj) {\n                        this.reInitializePoup();\n                    }\n                    this.updateSelectElementData(this.allowFiltering);\n                    break;\n                case 'fields':\n                    if (isNullOrUndefined(this.fields.groupBy)) {\n                        this.removeScrollEvent();\n                    }\n                    break;\n                default:\n                    {\n                        // eslint-disable-next-line max-len\n                        var msProps = this.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this, msProps.newProperty, msProps.oldProperty);\n                    }\n                    break;\n            }\n        }\n    };\n    MultiSelect.prototype.reInitializePoup = function () {\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            this.popupObj = null;\n        }\n        this.renderPopup();\n    };\n    MultiSelect.prototype.totalItemsCount = function () {\n        var dataSourceCount;\n        if (this.dataSource instanceof DataManager) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ? this.virtualGroupDataSource.length : 0;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.mode === 'CheckBox') {\n            this.totalItemCount = dataSourceCount != 0 ? dataSourceCount : this.totalItemCount;\n        }\n        else {\n            this.totalItemCount = dataSourceCount != 0 ? dataSourceCount - this.value.length : this.totalItemCount;\n        }\n    };\n    MultiSelect.prototype.presentItemValue = function (ulElement) {\n        var valuecheck = [];\n        for (var i = 0; i < this.value.length; i++) {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[i]) : this.value[i];\n            var checkEle = this.findListElement(((this.allowFiltering && !isNullOrUndefined(this.mainList)) ? this.mainList : ulElement), 'li', 'data-value', value);\n            if (!checkEle) {\n                var checkvalue = this.allowObjectBinding ? this.getDataByValue(this.value[i]) : this.value[i];\n                valuecheck.push(checkvalue);\n            }\n        }\n        return valuecheck;\n    };\n    ;\n    MultiSelect.prototype.addNonPresentItems = function (valuecheck, ulElement, list, event) {\n        var _this = this;\n        this.dataSource.executeQuery(this.getForQuery(valuecheck)).then(function (e) {\n            if (e.result.length > 0) {\n                _this.addItem(e.result, list.length);\n            }\n            _this.updateActionList(ulElement, list, event);\n        });\n    };\n    ;\n    MultiSelect.prototype.updateVal = function (newProp, oldProp, prop) {\n        if (!this.list) {\n            this.onLoadSelect();\n        }\n        else if ((this.dataSource instanceof DataManager) && (!this.listData || !(this.mainList && this.mainData))) {\n            this.onLoadSelect();\n        }\n        else {\n            var valuecheck = [];\n            if (!isNullOrUndefined(this.value) && !this.allowCustomValue) {\n                valuecheck = this.presentItemValue(this.ulElement);\n            }\n            if (prop == 'value' && valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)\n                && this.listData != null) {\n                this.mainData = null;\n                this.setDynValue = true;\n                this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n            }\n            else {\n                if (prop === 'text') {\n                    this.initialTextUpdate();\n                    newProp = this.value;\n                }\n                if (isNullOrUndefined(this.value) || this.value.length === 0) {\n                    this.tempValues = oldProp;\n                }\n                // eslint-disable-next-line\n                if (this.allowCustomValue && (this.mode === 'Default' || this.mode === 'Box') && this.isReact && this.inputFocus\n                    && this.isPopupOpen() && this.mainData !== this.listData) {\n                    var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                    this.onActionComplete(list, this.mainData);\n                }\n                this.initialValueUpdate();\n                if (this.mode !== 'Box' && !this.inputFocus) {\n                    this.updateDelimView();\n                }\n                if (!this.inputFocus) {\n                    this.refreshInputHight();\n                }\n                this.refreshPlaceHolder();\n                if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                    this.updateValueState(null, newProp, oldProp);\n                }\n                this.checkPlaceholderSize();\n            }\n        }\n        if (!this.changeOnBlur) {\n            this.updateValueState(null, newProp, oldProp);\n        }\n    };\n    /**\n     * Adds a new item to the multiselect popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     */\n    MultiSelect.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Hides the popup, if the popup in a open state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.hidePopup = function (e) {\n        var _this = this;\n        var delay = 100;\n        if (this.isPopupOpen()) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: 100,\n                delay: delay ? delay : 0\n            };\n            this.customFilterQuery = null;\n            var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel, event: e || null };\n            this.trigger('close', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (_this.fields.groupBy && _this.mode !== 'CheckBox' && _this.fixedHeaderElement) {\n                        remove(_this.fixedHeaderElement);\n                        _this.fixedHeaderElement = null;\n                    }\n                    _this.beforePopupOpen = false;\n                    _this.overAllWrapper.classList.remove(iconAnimation);\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                    _this.inputElement.removeAttribute('aria-owns');\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                    if (_this.allowFiltering) {\n                        _this.notify('inputFocus', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'clear' });\n                    }\n                    _this.popupObj.hide();\n                    removeClass([document.body, _this.popupObj.element], 'e-popup-full-page');\n                    EventHandler.remove(_this.list, 'keydown', _this.onKeyDown);\n                    if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                        EventHandler.remove(_this.popupObj.element, 'click', _this.clickHandler);\n                    }\n                    if (_this.enableVirtualization && _this.mode === 'CheckBox' && _this.enableSelectionOrder) {\n                        _this.viewPortInfo.startIndex = _this.virtualItemStartIndex = 0;\n                        _this.viewPortInfo.endIndex = _this.virtualItemEndIndex = _this.viewPortInfo.startIndex > 0 ? _this.viewPortInfo.endIndex : _this.itemCount;\n                        _this.previousStartIndex = 0;\n                        _this.previousEndIndex = 0;\n                    }\n                    var dataSourceCount = void 0;\n                    if (_this.dataSource instanceof DataManager) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        dataSourceCount = _this.virtualGroupDataSource && _this.virtualGroupDataSource.length ? _this.virtualGroupDataSource.length : 0;\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        dataSourceCount = _this.dataSource && _this.dataSource.length ? _this.dataSource.length : 0;\n                    }\n                    if (_this.enableVirtualization && (_this.allowFiltering || _this.allowCustomValue) && _this.value != null && _this.targetElement() && _this.totalItemCount !== dataSourceCount) {\n                        _this.updateInitialData();\n                        _this.checkAndResetCache();\n                    }\n                    if (_this.virtualCustomData && _this.viewPortInfo && _this.viewPortInfo.startIndex === 0 && _this.viewPortInfo.endIndex === _this.itemCount) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.renderItems(_this.mainData, _this.fields);\n                    }\n                    _this.virtualCustomData = null;\n                    _this.isVirtualTrackHeight = false;\n                }\n            });\n        }\n    };\n    /**\n     * Shows the popup, if the popup in a closed state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.showPopup = function (e) {\n        var _this = this;\n        if (!this.enabled) {\n            return;\n        }\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                if (!_this.ulElement) {\n                    _this.beforePopupOpen = true;\n                    if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering) {\n                        _this.notify('popupFullScreen', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                    }\n                    _super.prototype.render.call(_this, e);\n                    return;\n                }\n                if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering) {\n                    _this.notify('popupFullScreen', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                }\n                var mainLiLength = _this.ulElement.querySelectorAll('li.' + 'e-list-item').length;\n                var liLength = _this.ulElement.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + '.' + HIDE_LIST).length;\n                if (mainLiLength > 0 && (mainLiLength === liLength) && (liLength === _this.mainData.length) && !(_this.targetElement() !== '' && _this.allowCustomValue)) {\n                    _this.beforePopupOpen = false;\n                    return;\n                }\n                _this.onPopupShown(e);\n                if (_this.enableVirtualization && _this.listData && _this.listData.length) {\n                    if (!isNullOrUndefined(_this.value) && (_this.getModuleName() === 'dropdownlist' || _this.getModuleName() === 'combobox')) {\n                        _this.removeHover();\n                    }\n                    if (!_this.beforePopupOpen) {\n                        if (_this.hideSelectedItem && _this.value && Array.isArray(_this.value) && _this.value.length > 0) {\n                            _this.totalItemsCount();\n                        }\n                        if (!_this.preventSetCurrentData && !isNullOrUndefined(_this.viewPortInfo.startIndex) && !isNullOrUndefined(_this.viewPortInfo.endIndex)) {\n                            _this.notify(\"setCurrentViewDataAsync\", {\n                                component: _this.getModuleName(),\n                                module: \"VirtualScroll\",\n                            });\n                        }\n                    }\n                }\n                if (_this.enableVirtualization && !_this.allowFiltering && _this.selectedValueInfo != null && _this.selectedValueInfo.startIndex > 0 && _this.value != null) {\n                    _this.notify(\"dataProcessAsync\", {\n                        module: \"VirtualScroll\",\n                        isOpen: true,\n                    });\n                }\n                if (_this.enableVirtualization) {\n                    _this.updatevirtualizationList();\n                }\n                else {\n                    if (_this.value && _this.value.length) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var element = void 0;\n                        var listItems = _this.getItems();\n                        for (var _i = 0, _a = _this.value; _i < _a.length; _i++) {\n                            var value = _a[_i];\n                            var checkValue = _this.allowObjectBinding ? getValue((_this.fields.value) ? _this.fields.value : '', value) : value;\n                            element = _this.getElementByValue(checkValue);\n                            if (element) {\n                                _this.addListSelection(element);\n                            }\n                        }\n                    }\n                }\n                _this.preventSetCurrentData = true;\n            }\n        });\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     * parameter\n     * `true`   - Selects entire list items.\n     * `false`  - Un Selects entire list items.\n     *\n     * @param {boolean} state - if its true then Selects the entire list items. If its false the Unselects entire list items.\n     * @returns {void}\n     */\n    MultiSelect.prototype.selectAll = function (state) {\n        this.isSelectAll = true;\n        this.selectAllItems(state);\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    MultiSelect.prototype.getModuleName = function () {\n        return 'multiselect';\n    };\n    /**\n     * Allows you to clear the selected values from the Multiselect component.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.clear = function () {\n        var _this = this;\n        this.selectAll(false);\n        if (this.value && this.value.length) {\n            setTimeout(function () {\n                _this.setProperties({ value: null }, true);\n            }, 0);\n        }\n        else {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiSelect.prototype.render = function () {\n        if (!isNullOrUndefined(this.value)) {\n            // eslint-disable-next-line\n            this.value = this.value.slice();\n        }\n        this.setDynValue = this.initStatus = false;\n        this.isSelectAll = false;\n        this.selectAllEventEle = [];\n        this.searchWrapper = this.createElement('span', { className: SEARCHBOX_WRAPPER + ' ' + ((this.mode === 'Box') ? BOX_ELEMENT : '') });\n        this.viewWrapper = this.createElement('span', { className: DELIMITER_VIEW + ' ' + DELIMITER_WRAPPER, styles: 'display:none;' });\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS, styles: 'display:none;'\n        });\n        this.componentWrapper = this.createElement('div', { className: ELEMENT_WRAPPER });\n        this.overAllWrapper = this.createElement('div', { className: OVER_ALL_WRAPPER });\n        if (this.mode === 'CheckBox') {\n            addClass([this.overAllWrapper], 'e-checkbox');\n        }\n        if (Browser.isDevice) {\n            this.componentWrapper.classList.add(ELEMENT_MOBILE_WRAPPER);\n        }\n        this.setWidth(this.width);\n        this.overAllWrapper.appendChild(this.componentWrapper);\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: POPUP_WRAPPER });\n        this.popupWrapper.setAttribute('aria-label', this.element.id);\n        this.popupWrapper.setAttribute('role', 'dialog');\n        if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n            this.delimiterWrapper = this.createElement('span', { className: DELIMITER_WRAPPER, styles: 'display:none' });\n            this.componentWrapper.appendChild(this.delimiterWrapper);\n        }\n        else {\n            this.chipCollectionWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER,\n                styles: 'display:none'\n            });\n            if (this.mode === 'Default') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_default'));\n            }\n            else if (this.mode === 'Box') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_box'));\n            }\n            this.componentWrapper.appendChild(this.chipCollectionWrapper);\n        }\n        if (this.mode !== 'Box') {\n            this.componentWrapper.appendChild(this.viewWrapper);\n        }\n        this.componentWrapper.appendChild(this.searchWrapper);\n        if (this.showClearButton && !Browser.isDevice) {\n            this.componentWrapper.appendChild(this.overAllClear);\n        }\n        else {\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n        this.dropDownIcon();\n        this.inputElement = this.createElement('input', {\n            className: INPUT_ELEMENT,\n            attrs: {\n                spellcheck: 'false',\n                type: 'text',\n                autocomplete: 'off',\n                tabindex: '0',\n                role: 'combobox'\n            }\n        });\n        if (this.mode === 'Default' || this.mode === 'Box') {\n            this.inputElement.setAttribute('aria-describedby', this.chipCollectionWrapper.id);\n        }\n        if (this.element.tagName !== this.getNgDirective()) {\n            this.element.style.display = 'none';\n        }\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.overAllWrapper);\n            this.searchWrapper.appendChild(this.inputElement);\n        }\n        else {\n            this.element.parentElement.insertBefore(this.overAllWrapper, this.element);\n            this.searchWrapper.appendChild(this.inputElement);\n            this.searchWrapper.appendChild(this.element);\n            this.element.removeAttribute('tabindex');\n        }\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n        else if (this.floatLabelType === 'Never') {\n            this.refreshPlaceHolder();\n        }\n        this.addValidInputClass();\n        this.element.style.opacity = '';\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'class': HIDDEN_ELEMENT, 'tabindex': '-1', 'multiple': '' }\n        });\n        this.componentWrapper.appendChild(this.hiddenElement);\n        this.validationAttribute(this.element, this.hiddenElement);\n        if (this.mode !== 'CheckBox') {\n            this.hideOverAllClear();\n        }\n        if (!isNullOrUndefined(closest(this.element, \"fieldset\")) && closest(this.element, \"fieldset\").disabled) {\n            this.enabled = false;\n        }\n        this.wireEvent();\n        this.enable(this.enabled);\n        this.enableRTL(this.enableRtl);\n        if (this.enableVirtualization) {\n            this.updateVirtualizationProperties(this.itemCount, this.allowFiltering, this.mode === 'CheckBox');\n        }\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n        this.checkInitialValue();\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        Input.createSpanElement(this.overAllWrapper, this.createElement);\n        this.calculateWidth();\n        if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n        this.renderComplete();\n    };\n    MultiSelect.prototype.getListHeight = function () {\n        var listParent = this.createElement('div', {\n            className: 'e-dropdownbase'\n        });\n        var item = this.createElement('li', {\n            className: 'e-list-item'\n        });\n        var listParentHeight = formatUnit(this.popupHeight);\n        listParent.style.height = (parseInt(listParentHeight, 10)).toString() + 'px';\n        listParent.appendChild(item);\n        document.body.appendChild(listParent);\n        this.virtualListHeight = listParent.getBoundingClientRect().height;\n        var listItemHeight = Math.ceil(item.getBoundingClientRect().height);\n        listParent.remove();\n        return listItemHeight;\n    };\n    MultiSelect.prototype.checkInitialValue = function () {\n        var _this = this;\n        var isData = this.dataSource instanceof Array ? (this.dataSource.length > 0)\n            : !isNullOrUndefined(this.dataSource);\n        if (!(this.value && this.value.length) &&\n            isNullOrUndefined(this.text) &&\n            !isData &&\n            this.element.tagName === 'SELECT' &&\n            this.element.options.length > 0) {\n            var optionsElement = this.element.options;\n            var valueCol = [];\n            var textCol = '';\n            for (var index = 0, optionsLen = optionsElement.length; index < optionsLen; index++) {\n                var opt = optionsElement[index];\n                if (!isNullOrUndefined(opt.getAttribute('selected'))) {\n                    if (opt.getAttribute('value')) {\n                        var value = this.allowObjectBinding ? this.getDataByValue(opt.getAttribute('value')) : opt.getAttribute('value');\n                        valueCol.push(value);\n                    }\n                    else {\n                        textCol += (opt.text + this.delimiterChar);\n                    }\n                }\n            }\n            if (valueCol.length > 0) {\n                this.setProperties({ value: valueCol }, true);\n            }\n            else if (textCol !== '') {\n                this.setProperties({ text: textCol }, true);\n            }\n            if (valueCol.length > 0 || textCol !== '') {\n                this.refreshInputHight();\n                this.refreshPlaceHolder();\n            }\n        }\n        if ((this.value && this.value.length) || !isNullOrUndefined(this.text)) {\n            if (!this.list) {\n                _super.prototype.render.call(this);\n            }\n        }\n        if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n            this.initialTextUpdate();\n        }\n        if (this.value && this.value.length) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var listItems_2;\n            if (this.enableVirtualization) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var predicate = void 0;\n                for (var i = 0; i < this.value.length; i++) {\n                    var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[i]) : this.value[i];\n                    if (i === 0) {\n                        predicate = new Predicate(fields, 'equal', value);\n                    }\n                    else {\n                        predicate = predicate.or(fields, 'equal', value);\n                    }\n                }\n                if (this.dataSource instanceof DataManager) {\n                    this.dataSource.executeQuery(new Query().where(predicate))\n                        .then(function (e) {\n                        if (e.result.result.length > 0) {\n                            listItems_2 = e.result.result;\n                        }\n                    });\n                }\n                else {\n                    listItems_2 = new DataManager(this.dataSource).executeLocal(new Query().where(predicate));\n                }\n            }\n            if (!(this.dataSource instanceof DataManager)) {\n                this.initialValueUpdate(listItems_2);\n                this.initialUpdate();\n            }\n            else {\n                this.setInitialValue = function () {\n                    _this.initStatus = false;\n                    _this.initialValueUpdate(listItems_2);\n                    _this.initialUpdate();\n                    _this.setInitialValue = null;\n                    _this.initStatus = true;\n                };\n            }\n            this.updateTempValue();\n        }\n        else {\n            this.initialUpdate();\n        }\n        this.initStatus = true;\n        this.checkAutoFocus();\n        if (!isNullOrUndefined(this.text)) {\n            this.element.setAttribute('data-initial-value', this.text);\n        }\n    };\n    MultiSelect.prototype.checkAutoFocus = function () {\n        if (this.element.hasAttribute('autofocus')) {\n            this.inputElement.focus();\n        }\n    };\n    MultiSelect.prototype.updatevirtualizationList = function () {\n        if (this.value && this.value.length) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var element = void 0;\n            var listItems = this.getItems();\n            for (var _i = 0, _a = this.value; _i < _a.length; _i++) {\n                var value = _a[_i];\n                var checkValue = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n                element = this.getElementByValue(checkValue);\n                if (element) {\n                    this.addListSelection(element);\n                }\n            }\n            if (this.enableVirtualization && this.hideSelectedItem) {\n                var visibleListElements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)' + ':not(.e-virtual-list)');\n                if (visibleListElements.length) {\n                    var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n                    if (visibleListElements.length < (actualCount + 2)) {\n                        var query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.viewPortInfo.startIndex);\n                        this.resetList(this.dataSource, this.fields, query);\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.setFloatLabelType = function () {\n        removeFloating(this.overAllWrapper, this.componentWrapper, this.searchWrapper, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n    };\n    MultiSelect.prototype.addValidInputClass = function () {\n        if (!isNullOrUndefined(this.overAllWrapper)) {\n            if ((!isNullOrUndefined(this.value) && this.value.length) || this.floatLabelType === 'Always') {\n                addClass([this.overAllWrapper], 'e-valid-input');\n            }\n            else {\n                removeClass([this.overAllWrapper], 'e-valid-input');\n            }\n        }\n    };\n    MultiSelect.prototype.dropDownIcon = function () {\n        if (this.showDropDownIcon) {\n            this.dropIcon = this.createElement('span', { className: dropdownIcon });\n            this.componentWrapper.appendChild(this.dropIcon);\n            addClass([this.componentWrapper], ['e-down-icon']);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.dropIcon.parentElement.removeChild(this.dropIcon);\n                removeClass([this.componentWrapper], ['e-down-icon']);\n            }\n        }\n    };\n    MultiSelect.prototype.initialUpdate = function () {\n        if (this.mode !== 'Box' && !(this.setDynValue && this.mode === 'Default' && this.inputFocus)) {\n            this.updateDelimView();\n        }\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n        this.updateCssClass();\n        this.updateHTMLAttribute();\n        this.updateReadonly(this.readonly);\n        this.refreshInputHight();\n        this.checkPlaceholderSize();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    MultiSelect.prototype.destroy = function () {\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.notify(destroy, {});\n        this.unwireListEvents();\n        this.unWireEvent();\n        this.list = null;\n        this.popupObj = null;\n        this.mainList = null;\n        this.mainData = null;\n        this.filterParent = null;\n        this.ulElement = null;\n        this.mainListCollection = null;\n        _super.prototype.destroy.call(this);\n        var temp = ['readonly', 'aria-disabled', 'placeholder'];\n        var length = temp.length;\n        if (!isNullOrUndefined(this.inputElement)) {\n            while (length > 0) {\n                this.inputElement.removeAttribute(temp[length - 1]);\n                length--;\n            }\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.element.removeAttribute('data-initial-value');\n            this.element.style.display = 'block';\n        }\n        if (this.overAllWrapper && this.overAllWrapper.parentElement) {\n            if (this.overAllWrapper.parentElement.tagName === this.getNgDirective()) {\n                remove(this.overAllWrapper);\n            }\n            else {\n                this.overAllWrapper.parentElement.insertBefore(this.element, this.overAllWrapper);\n                remove(this.overAllWrapper);\n            }\n        }\n        this.componentWrapper = null;\n        this.overAllClear = null;\n        this.overAllWrapper = null;\n        this.hiddenElement = null;\n        this.searchWrapper = null;\n        this.viewWrapper = null;\n        this.chipCollectionWrapper = null;\n        this.targetInputElement = null;\n        this.popupWrapper = null;\n        this.inputElement = null;\n        this.delimiterWrapper = null;\n        this.popupObj = null;\n        this.popupWrapper = null;\n        this.liCollections = null;\n        this.header = null;\n        this.mainList = null;\n        this.mainListCollection = null;\n        this.footer = null;\n        this.selectAllEventEle = null;\n    };\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], MultiSelect.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], MultiSelect.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], MultiSelect.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], MultiSelect.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property([])\n    ], MultiSelect.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], MultiSelect.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], MultiSelect.prototype, \"locale\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enableGroupCheckBox\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], MultiSelect.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], MultiSelect.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"changeOnBlur\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowCustomValue\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowObjectBinding\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"hideSelectedItem\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"closePopupOnSelect\", void 0);\n    __decorate([\n        Property('Default')\n    ], MultiSelect.prototype, \"mode\", void 0);\n    __decorate([\n        Property(',')\n    ], MultiSelect.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('Never')\n    ], MultiSelect.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], MultiSelect.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], MultiSelect.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enableSelectionOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"openOnClick\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"addTagOnBlur\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"beforeSelectAll\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"selectedAll\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"chipSelection\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"tagging\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"customValueSelection\", void 0);\n    MultiSelect = __decorate([\n        NotifyPropertyChanges\n    ], MultiSelect);\n    return MultiSelect;\n}(DropDownBase));\nexport { MultiSelect };\n","import { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n } from '@syncfusion/ej2-base';\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS = 'e-input-focus';\n/**\n * The Multiselect enable CheckBoxSelection call this inject module.\n */\nvar CheckBoxSelection = /** @class */ (function () {\n    function CheckBoxSelection(parent) {\n        this.activeLi = [];\n        this.activeEle = [];\n        this.parent = parent;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    CheckBoxSelection.prototype.getModuleName = function () {\n        return 'CheckBoxSelection';\n    };\n    CheckBoxSelection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('updatelist', this.listSelection, this);\n        this.parent.on('listoption', this.listOption, this);\n        this.parent.on('selectAll', this.setSelectAll, this);\n        this.parent.on('checkSelectAll', this.checkSelectAll, this);\n        this.parent.on('searchBox', this.setSearchBox, this);\n        this.parent.on('blur', this.onBlurHandler, this);\n        this.parent.on('targetElement', this.targetElement, this);\n        this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n        this.parent.on('inputFocus', this.getFocus, this);\n        this.parent.on('reOrder', this.setReorder, this);\n        this.parent.on('activeList', this.getActiveList, this);\n        this.parent.on('selectAllText', this.setLocale, this);\n        this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        this.parent.on('addItem', this.checboxCreate, this);\n        this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\n    };\n    CheckBoxSelection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updatelist', this.listSelection);\n        this.parent.off('listoption', this.listOption);\n        this.parent.off('selectAll', this.setSelectAll);\n        this.parent.off('checkSelectAll', this.checkSelectAll);\n        this.parent.off('searchBox', this.setSearchBox);\n        this.parent.off('blur', this.onBlurHandler);\n        this.parent.off('targetElement', this.targetElement);\n        this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n        this.parent.off('inputFocus', this.getFocus);\n        this.parent.off('reOrder', this.setReorder);\n        this.parent.off('activeList', this.getActiveList);\n        this.parent.off('selectAllText', this.setLocale);\n        this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n        this.parent.off('addItem', this.checboxCreate);\n        this.parent.off('popupFullScreen', this.setPopupFullScreen);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.listOption = function (args) {\n        var _this = this;\n        if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n            };\n        }\n        else {\n            var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n    };\n    CheckBoxSelection.prototype.setPlaceholder = function (props) {\n        Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n    };\n    CheckBoxSelection.prototype.checboxCreate = function (e) {\n        var item;\n        if (!isNullOrUndefined(e.item)) {\n            item = e.item;\n        }\n        else {\n            item = e;\n        }\n        if (this.parent.enableGroupCheckBox || (item.className !== 'e-list-group-item '\n            && item.className !== 'e-list-group-item')) {\n            var checkboxEle = createCheckBox(this.parent.createElement, true);\n            var icon = select('div.' + ICON, item);\n            item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            select('.' + CHECKBOXFRAME, checkboxEle);\n            if (this.parent.enableGroupCheckBox) {\n                this.parent.popupWrapper.classList.add('e-multiselect-group');\n            }\n            return item;\n        }\n        else {\n            return item;\n        }\n    };\n    CheckBoxSelection.prototype.setSelectAll = function () {\n        if (this.parent.showSelectAll) {\n            if (isNullOrUndefined(this.checkAllParent)) {\n                this.checkAllParent = this.parent.createElement('div', {\n                    className: checkAllParent\n                });\n                this.selectAllSpan = this.parent.createElement('span', {\n                    className: 'e-all-text'\n                });\n                this.selectAllSpan.textContent = '';\n                this.checkAllParent.appendChild(this.selectAllSpan);\n                this.setLocale();\n                this.checboxCreate(this.checkAllParent);\n                if (this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        append([this.checkAllParent], this.parent.filterParent);\n                    }\n                    else {\n                        append([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                if (!this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\n                    }\n                    else {\n                        prepend([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n            }\n            if (this.parent.list.classList.contains('e-nodata') || (this.parent.listData && this.parent.listData.length <= 1 && !this.parent.enableVirtualization &&\n                !(this.parent.isDynamicDataChange)) || (this.parent.isDynamicDataChange &&\n                this.parent.listData && this.parent.listData.length <= 1)) {\n                this.checkAllParent.style.display = 'none';\n            }\n            else {\n                this.checkAllParent.style.display = 'block';\n            }\n            this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        else if (!isNullOrUndefined(this.checkAllParent)) {\n            this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    CheckBoxSelection.prototype.destroy = function () {\n        this.removeEventListener();\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.checkAllParent = null;\n        this.clearIconElement = null;\n        this.filterInput = null;\n        this.filterInputObj = null;\n        this.checkWrapper = null;\n        this.selectAllSpan = null;\n    };\n    CheckBoxSelection.prototype.listSelection = function (args) {\n        var target;\n        if (!isNullOrUndefined(args.e)) {\n            var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\n            target = !isNullOrUndefined(args.e.target) ?\n                (args.e.target.classList.contains('e-frame')\n                    && (!this.parent.showSelectAll\n                        || (this.checkAllParent && !this.checkAllParent.contains(args.e.target)))) ?\n                    args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1]\n                : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n        }\n        else {\n            var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\n            target = checkboxWrapper ? checkboxWrapper.childNodes[1] : args.li.lastElementChild.childNodes[1];\n        }\n        if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\n            target = args.li.firstElementChild.childNodes[1];\n        }\n        if (!isNullOrUndefined(target)) {\n            this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        }\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            var selectAll = false;\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\n        }\n    };\n    CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\n    };\n    CheckBoxSelection.prototype.clickHandler = function (e) {\n        var target;\n        if (e.currentTarget.classList.contains(this.checkAllParent.className) || (e.currentTarget.classList.value === this.checkAllParent.className)) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.currentTarget;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        var selectAll = true;\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\n        }\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (selectAll) {\n                this.parent.selectAllItems(true, e);\n                this.setLocale(true);\n            }\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n        else if (state === 'indeterminate' && !(frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK]);\n            frameSpan.classList.add(INDETERMINATE);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.setSearchBox = function (args) {\n        if (isNullOrUndefined(this.parent.filterParent)) {\n            this.parent.filterParent = this.parent.createElement('span', {\n                className: filterParent\n            });\n            this.filterInput = this.parent.createElement('input', {\n                attrs: { type: 'text' },\n                className: filterInput\n            });\n            this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n                this.parent.mobFilter = false;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n                properties: { placeholder: this.parent.filterBarPlaceholder }\n            }, this.parent.createElement);\n            if (!isNullOrUndefined(this.parent.cssClass)) {\n                if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], this.parent.filterParent);\n            prepend([this.parent.filterParent], args.popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false',\n                'aria-label': 'multiselect',\n                'aria-expanded': 'true',\n                'aria-controls': args.popupElement.id\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n            EventHandler.add(this.filterInput, 'keyup', this.parent.keyUp, this.parent);\n            EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\n            this.parent.searchBoxHeight = (this.filterInputObj.container.parentElement).getBoundingClientRect().height;\n            return this.filterInputObj;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n        this.parent.hidePopup();\n        removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n        this.parent.inputElement.focus();\n    };\n    CheckBoxSelection.prototype.clearText = function (e) {\n        this.parent.targetInputElement.value = '';\n        if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\n            this.parent.search(null);\n        }\n        this.parent.refreshListItems(null);\n        this.parent.refreshPopup();\n        this.clearIconElement.style.visibility = 'hidden';\n        this.filterInput.focus();\n        this.setReorder(e);\n        this.boundPreventListSelection = this.preventListSelection.bind(this);\n        this.parent.popupWrapper.addEventListener('mouseup', this.boundPreventListSelection, true);\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.preventListSelection = function (e) {\n        e.stopPropagation();\n        this.parent.popupWrapper.removeEventListener('mouseup', this.boundPreventListSelection, true);\n        this.boundPreventListSelection = null;\n    };\n    CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n        this.parent.popupObj.element.classList.add(device);\n        this.parent.popupObj.element.classList.add(mobileFilter);\n        this.parent.popupObj.position = { X: 0, Y: 0 };\n        this.parent.popupObj.dataBind();\n        this.setSearchBoxPosition();\n        this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n        this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n        this.clearIconElement.style.visibility = 'hidden';\n        EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n    };\n    CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        var selectAllHeight = 0;\n        if (this.checkAllParent) {\n            selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        this.parent.popupObj.element.style.maxHeight = '100%';\n        this.parent.popupObj.element.style.width = '100%';\n        this.parent.list.style.maxHeight = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\n        this.parent.list.style.height = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    CheckBoxSelection.prototype.setPopupFullScreen = function () {\n        if (this.parent && this.parent.popupObj) {\n            attributes(this.parent.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n            addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n            this.parent.popupObj.element.style.maxHeight = '100%';\n            this.parent.popupObj.element.style.width = '100%';\n        }\n    };\n    CheckBoxSelection.prototype.targetElement = function () {\n        if (!isNullOrUndefined(this.clearIconElement)) {\n            this.parent.targetInputElement = this.filterInput;\n            this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n        }\n        return this.parent.targetInputElement.value;\n    };\n    CheckBoxSelection.prototype.onBlurHandler = function (e) {\n        if (!this.parent.element.classList.contains('e-listbox')) {\n            var target = void 0;\n            if (this.parent.keyAction) {\n                return;\n            }\n            if (Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.target;\n            }\n            if (!Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.relatedTarget;\n            }\n            // eslint-disable-next-line max-len\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target)\n                && !Browser.isIE && this.filterInput) {\n                this.filterInput.focus();\n                return;\n            }\n            if (this.parent.scrollFocusStatus && this.filterInput) {\n                e.preventDefault();\n                this.filterInput.focus();\n                this.parent.scrollFocusStatus = false;\n                return;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element)\n                && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n                this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.overAllWrapper.classList.remove(FOCUS);\n                this.parent.trigger('blur');\n                this.parent.focused = true;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n                this.parent.hidePopup();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.onDocumentClick = function (e) {\n        if (this.parent.getLocaleName() !== 'listbox') {\n            var target = e.target;\n            if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\n                if (!(this.filterInput && this.filterInput.value !== '')) {\n                    e.preventDefault();\n                }\n            }\n            if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]'))\n                && !isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target)) {\n                if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n                    this.parent.inputFocus = false;\n                    this.parent.scrollFocusStatus = false;\n                    this.parent.hidePopup();\n                    this.parent.onBlurHandler(e, true);\n                    this.parent.focused = true;\n                }\n            }\n            else {\n                this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') &&\n                    (document.activeElement === this.filterInput);\n            }\n            if (!isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') &&\n                !this.parent.isPopupOpen()) {\n                if (Browser.isIE) {\n                    this.parent.onBlurHandler();\n                }\n                else {\n                    this.parent.onBlurHandler(e);\n                }\n            }\n            if (this.filterInput === target) {\n                this.filterInput.focus();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.getFocus = function (e) {\n        this.parent.overAllWrapper.classList.remove(FOCUS);\n        if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\n            this.parent.keyAction = false;\n            return;\n        }\n        if (e.value === 'focus') {\n            this.filterInput.focus();\n            this.parent.removeFocus();\n            EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n        }\n        if (e.value === 'clear') {\n            this.filterInput.value = '';\n            this.clearIconElement.style.visibility = 'hidden';\n        }\n    };\n    CheckBoxSelection.prototype.checkSelectAll = function (e) {\n        if (e.value === 'check') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale(true);\n        }\n        if (e.value === 'uncheck') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n        if (e.value === 'indeterminate') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n    };\n    CheckBoxSelection.prototype.setLocale = function (unSelect) {\n        if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n            this.selectAllSpan.textContent = '';\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            var l10nLocale = { selectAllText: 'Select All', unSelectAllText: 'Unselect All' };\n            var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\n            if (l10n.getConstant('selectAllText') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n            }\n            this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n        }\n    };\n    CheckBoxSelection.prototype.getActiveList = function (args) {\n        if (args.li.classList.contains('e-active')) {\n            this.activeLi.push(args.li.cloneNode(true));\n        }\n        else {\n            this.activeLi.splice(args.index, 1);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.setReorder = function (args) {\n        if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n            var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n            var remLi = void 0;\n            var ulEle_1 = this.parent.createElement('ul', {\n                className: 'e-list-parent e-ul e-reorder'\n            });\n            if (activeLiCount > 0) {\n                var activeListItems = this.parent.ulElement.querySelectorAll('li.e-active');\n                activeListItems.forEach(function (item) {\n                    ulEle_1.appendChild(item);\n                });\n                remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n                addClass(remLi, 'e-reorder-hide');\n                if (this.parent.enableVirtualization) {\n                    var virtualUlElement = this.parent.list.querySelector('.e-virtual-ddl-content');\n                    prepend([ulEle_1], virtualUlElement);\n                }\n                else {\n                    prepend([ulEle_1], this.parent.list);\n                }\n            }\n            this.parent.focusAtFirstListItem();\n        }\n    };\n    return CheckBoxSelection;\n}());\nexport { CheckBoxSelection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { EventHandler, closest, removeClass, addClass, Complex, Property, ChildProperty, L10n, setValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, getComponent, Event, extend, detach, attributes } from '@syncfusion/ej2-base';\nimport { getUniqueID, Browser, formatUnit, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { prepend, append } from '@syncfusion/ej2-base';\nimport { cssClass, Sortable, moveTo } from '@syncfusion/ej2-lists';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { createSpinner, showSpinner, hideSpinner, getZindexPartial } from '@syncfusion/ej2-popups';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\n/**\n * Defines the Selection settings of List Box.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Multiple')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"showCheckbox\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Left')\n    ], SelectionSettings.prototype, \"checkboxPosition\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n/**\n * Defines the toolbar settings of List Box.\n */\nvar ToolbarSettings = /** @class */ (function (_super) {\n    __extends(ToolbarSettings, _super);\n    function ToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], ToolbarSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('Right')\n    ], ToolbarSettings.prototype, \"position\", void 0);\n    return ToolbarSettings;\n}(ChildProperty));\nexport { ToolbarSettings };\n/**\n * The ListBox is a graphical user interface component used to display a list of items.\n * Users can select one or more items in the list using a checkbox or by keyboard selection.\n * It supports sorting, grouping, reordering and drag and drop of items.\n * ```html\n * <select id=\"listbox\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var listObj = new ListBox();\n *   listObj.appendTo(\"#listbox\");\n * </script>\n * ```\n */\nvar ListBox = /** @class */ (function (_super) {\n    __extends(ListBox, _super);\n    /**\n     * Constructor for creating the ListBox component.\n     *\n     * @param {ListBoxModel} options - Specifies ListBox model\n     * @param {string | HTMLElement} element - Specifies the element.\n     */\n    function ListBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isValidKey = false;\n        _this.isDataSourceUpdate = false;\n        _this.keyDownStatus = false;\n        return _this;\n    }\n    ListBox_1 = ListBox;\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}.\n     * @private\n     */\n    ListBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Build and render the component.\n     *\n     * @private\n     * @returns {void}\n     */\n    ListBox.prototype.render = function () {\n        if (this.isAngular && this.allowFiltering) {\n            var originalElement = this.element;\n            var clonedElement = originalElement.cloneNode(true);\n            originalElement.parentNode.replaceChild(clonedElement, originalElement);\n            this.element = clonedElement;\n            setValue('ej2_instances', [this], this.element);\n        }\n        this.inputString = '';\n        this.initLoad = true;\n        this.isCustomFiltering = false;\n        this.initialSelectedOptions = this.value;\n        this.inputFormName = this.element.getAttribute('name');\n        _super.prototype.render.call(this);\n        this.setEnabled();\n        this.renderComplete();\n    };\n    ListBox.prototype.initWrapper = function () {\n        var hiddenSelect = this.createElement('select', { className: 'e-hidden-select', attrs: { 'multiple': '' } });\n        hiddenSelect.style.visibility = 'hidden';\n        this.list.classList.add('e-listbox-wrapper');\n        this.list.querySelector('.e-list-parent').setAttribute('role', 'presentation');\n        var groupHdrs = this.list.querySelectorAll('.e-list-group-item');\n        for (var i = 0; i < groupHdrs.length; i++) {\n            groupHdrs[i].removeAttribute('tabindex');\n            groupHdrs[i].setAttribute('role', 'option');\n        }\n        if (this.itemTemplate) {\n            this.list.classList.add('e-list-template');\n        }\n        this.list.classList.add('e-wrapper');\n        this.list.classList.add('e-lib');\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.setAttribute('tabindex', '0');\n            if (this.initLoad) {\n                this.element.appendChild(this.list);\n            }\n        }\n        else {\n            if (this.initLoad) {\n                this.element.parentElement.insertBefore(this.list, this.element);\n            }\n            this.list.insertBefore(this.element, this.list.firstChild);\n            this.element.style.display = 'none';\n        }\n        this.list.insertBefore(hiddenSelect, this.list.firstChild);\n        if (this.list.getElementsByClassName('e-list-item')[0]) {\n            this.list.getElementsByClassName('e-list-item')[0].classList.remove(dropDownBaseClasses.focus);\n        }\n        if (this.itemTemplate) {\n            this.renderReactTemplates();\n        }\n        removeClass([this.list], [dropDownBaseClasses.content, dropDownBaseClasses.root]);\n        this.validationAttribute(this.element, hiddenSelect);\n        this.list.setAttribute('role', 'listbox');\n        attributes(this.list, { 'role': 'listbox', 'aria-label': 'listbox', 'aria-multiselectable': this.selectionSettings.mode === 'Multiple' ? 'true' : 'false' });\n        this.updateSelectionSettings();\n    };\n    ListBox.prototype.updateSelectionSettings = function () {\n        if (this.selectionSettings.showCheckbox && this.selectionSettings.showSelectAll && this.liCollections.length) {\n            var l10nSelect = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n            this.showSelectAll = true;\n            this.selectAllText = l10nSelect.getConstant('selectAllText');\n            this.unSelectAllText = l10nSelect.getConstant('unSelectAllText');\n            this.popupWrapper = this.list;\n            this.checkBoxSelectionModule.checkAllParent = null;\n            this.notify('selectAll', {});\n        }\n    };\n    ListBox.prototype.initDraggable = function () {\n        var _this = this;\n        if (this.ulElement) {\n            this.ulElement.id = this.element.id + '_parent';\n        }\n        if (this.allowDragAndDrop) {\n            new Sortable(this.ulElement, {\n                scope: this.scope,\n                itemClass: 'e-list-item',\n                dragStart: this.triggerDragStart.bind(this),\n                drag: this.triggerDrag.bind(this),\n                beforeDrop: this.beforeDragEnd.bind(this),\n                drop: this.dragEnd.bind(this),\n                placeHolder: function () { return _this.createElement('span', { className: 'e-placeholder' }); },\n                helper: function (e) {\n                    var wrapper = _this.list.cloneNode();\n                    var ele = e.sender.cloneNode(true);\n                    wrapper.appendChild(ele);\n                    var refEle = _this.getItems()[0];\n                    wrapper.style.width = refEle.offsetWidth + 'px';\n                    wrapper.style.height = refEle.offsetHeight + 'px';\n                    if ((_this.value && _this.value.length) > 1 && _this.isSelected(ele)) {\n                        ele.appendChild(_this.createElement('span', {\n                            className: 'e-list-badge', innerHTML: _this.value.length + ''\n                        }));\n                    }\n                    wrapper.style.zIndex = getZindexPartial(_this.element) + '';\n                    return wrapper;\n                }\n            });\n        }\n    };\n    ListBox.prototype.updateActionCompleteData = function (li, item, index) {\n        this.jsonData.splice(index === null ? this.jsonData.length : index, 0, item);\n    };\n    ListBox.prototype.initToolbar = function () {\n        var pos = this.toolbarSettings.position;\n        var prevScope = this.element.getAttribute('data-value');\n        if (this.toolbarSettings.items.length) {\n            var toolElem = this.createElement('div', { className: 'e-listbox-tool', attrs: { 'role': 'toolbar' } });\n            var wrapper = this.createElement('div', {\n                className: 'e-listboxtool-wrapper e-lib e-' + pos.toLowerCase()\n            });\n            this.list.parentElement.insertBefore(wrapper, this.list);\n            wrapper.appendChild(pos === 'Right' ? this.list : toolElem);\n            wrapper.appendChild(pos === 'Right' ? toolElem : this.list);\n            this.createButtons(toolElem);\n            if (!this.element.id) {\n                this.element.id = getUniqueID('e-' + this.getModuleName());\n            }\n            if (this.scope) {\n                document.querySelector(this.scope).setAttribute('data-value', this.element.id);\n            }\n            else {\n                this.updateToolBarState();\n            }\n        }\n        var scope = this.element.getAttribute('data-value');\n        if (prevScope && scope && (prevScope !== scope)) {\n            this.tBListBox = getComponent(document.getElementById(prevScope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n        else if (scope) {\n            this.tBListBox = getComponent(document.getElementById(scope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.createButtons = function (toolElem) {\n        var _this = this;\n        var btn;\n        var ele;\n        var title;\n        var l10n = new L10n(this.getModuleName(), {\n            moveUp: 'Move Up', moveDown: 'Move Down', moveTo: 'Move To',\n            moveFrom: 'Move From', moveAllTo: 'Move All To', moveAllFrom: 'Move All From'\n        }, this.locale);\n        this.toolbarSettings.items.forEach(function (value) {\n            title = l10n.getConstant(value);\n            ele = _this.createElement('button', {\n                attrs: {\n                    'type': 'button',\n                    'data-value': value,\n                    'title': title,\n                    'aria-label': title\n                }\n            });\n            toolElem.appendChild(ele);\n            btn = new Button({ iconCss: 'e-icons e-' + value.toLowerCase() }, ele);\n            btn.createElement = _this.createElement;\n        });\n    };\n    ListBox.prototype.validationAttribute = function (input, hiddenSelect) {\n        if (this.inputFormName) {\n            input.setAttribute('name', this.inputFormName);\n        }\n        _super.prototype.validationAttribute.call(this, input, hiddenSelect);\n        hiddenSelect.required = input.required;\n        input.required = false;\n    };\n    ListBox.prototype.setHeight = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        ele.style.height = formatUnit(this.height);\n        if (this.allowFiltering && this.height.toString().indexOf('%') < 0) {\n            addClass([this.list], 'e-filter-list');\n        }\n        else {\n            removeClass([this.list], 'e-filter-list');\n        }\n    };\n    ListBox.prototype.setCssClass = function () {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.cssClass) {\n            addClass([wrap], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        if (this.enableRtl) {\n            addClass([this.list], 'e-rtl');\n        }\n    };\n    ListBox.prototype.setEnable = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.enabled) {\n            removeClass([ele], cssClass.disabled);\n        }\n        else {\n            addClass([ele], cssClass.disabled);\n        }\n    };\n    ListBox.prototype.showSpinner = function () {\n        if (!this.spinner) {\n            this.spinner = this.createElement('div', { className: 'e-listbox-wrapper' });\n        }\n        this.spinner.style.height = formatUnit(this.height);\n        this.element.parentElement.insertBefore(this.spinner, this.element.nextSibling);\n        createSpinner({ target: this.spinner }, this.createElement);\n        showSpinner(this.spinner);\n    };\n    ListBox.prototype.hideSpinner = function () {\n        if (this.spinner.querySelector('.e-spinner-pane')) {\n            hideSpinner(this.spinner);\n        }\n        if (this.spinner.parentElement) {\n            detach(this.spinner);\n        }\n    };\n    ListBox.prototype.onInput = function () {\n        this.isDataSourceUpdate = false;\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n        this.refreshClearIcon();\n    };\n    ListBox.prototype.clearText = function () {\n        this.filterInput.value = '';\n        this.refreshClearIcon();\n        var event = document.createEvent('KeyboardEvent');\n        this.isValidKey = true;\n        this.KeyUp(event);\n    };\n    ListBox.prototype.refreshClearIcon = function () {\n        if (this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n    };\n    ListBox.prototype.onActionComplete = function (ulElement, list, e) {\n        var searchEle;\n        var filterElem;\n        var txtLength;\n        if (this.allowFiltering && this.list.getElementsByClassName('e-filter-parent')[0]) {\n            searchEle = this.list.getElementsByClassName('e-filter-parent')[0].cloneNode(true);\n        }\n        if (list.length === 0) {\n            var noRecElem = ulElement.childNodes[0];\n            if (noRecElem) {\n                ulElement.removeChild(noRecElem);\n            }\n        }\n        if (this.allowFiltering) {\n            filterElem = this.list.getElementsByClassName('e-input-filter')[0];\n            if (filterElem) {\n                txtLength = filterElem.selectionStart;\n            }\n        }\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.allowFiltering && !isNullOrUndefined(searchEle)) {\n            this.list.insertBefore(searchEle, this.list.firstElementChild);\n            this.filterParent = this.list.getElementsByClassName('e-filter-parent')[0];\n            this.filterWireEvents(searchEle);\n            var inputSearch = searchEle.querySelector('.e-input-filter');\n            if (inputSearch) {\n                inputSearch.addEventListener('focus', function () {\n                    if (!searchEle.childNodes[0].classList.contains('e-input-focus')) {\n                        searchEle.childNodes[0].classList.add('e-input-focus');\n                    }\n                });\n                inputSearch.addEventListener('blur', function () {\n                    if (searchEle.childNodes[0].classList.contains('e-input-focus')) {\n                        searchEle.childNodes[0].classList.remove('e-input-focus');\n                    }\n                });\n            }\n        }\n        this.initWrapper();\n        this.setSelection(this.value, true, false, !this.isRendered);\n        this.initDraggable();\n        this.mainList = this.ulElement;\n        if (this.initLoad) {\n            this.jsonData = [];\n            extend(this.jsonData, list, []);\n            this.initToolbarAndStyles();\n            this.wireEvents();\n            if (this.showCheckbox) {\n                this.setCheckboxPosition();\n            }\n            if (this.allowFiltering) {\n                this.setFiltering();\n            }\n        }\n        else {\n            if (this.isDataSourceUpdate) {\n                this.jsonData = [];\n                extend(this.jsonData, list, []);\n                this.isDataSourceUpdate = false;\n            }\n            if (this.allowFiltering) {\n                filterElem = this.list.getElementsByClassName('e-input-filter')[0];\n                filterElem.selectionStart = txtLength;\n                filterElem.selectionEnd = txtLength;\n                filterElem.focus();\n            }\n        }\n        if (this.toolbarSettings.items.length && this.scope && this.scope.indexOf('#') > -1 && !isNullOrUndefined(e)) {\n            var scope = this.scope.replace('#', '');\n            var scopedLB = getComponent(document.getElementById(scope), this.getModuleName());\n            scopedLB.initToolbar();\n        }\n        this.initLoad = false;\n    };\n    ListBox.prototype.initToolbarAndStyles = function () {\n        this.initToolbar();\n        this.setCssClass();\n        this.setEnable();\n        this.setHeight();\n    };\n    ListBox.prototype.triggerDragStart = function (args) {\n        var _this = this;\n        var badge;\n        args = extend(this.getDragArgs(args), { dragSelected: true });\n        if (Browser.isIos) {\n            this.list.style.overflow = 'hidden';\n        }\n        this.trigger('dragStart', args, function (dragEventArgs) {\n            _this.allowDragAll = dragEventArgs.dragSelected;\n            if (!_this.allowDragAll) {\n                badge = _this.ulElement.getElementsByClassName('e-list-badge')[0];\n                if (badge) {\n                    detach(badge);\n                }\n            }\n        });\n    };\n    ListBox.prototype.triggerDrag = function (args) {\n        var _this = this;\n        var scrollParent;\n        var boundRect;\n        var scrollMoved = 36;\n        var scrollHeight = 10;\n        if (this.itemTemplate && args.target) {\n            if (args.target && args.target.closest('.e-list-item')) {\n                scrollHeight = args.target.closest('.e-list-item').scrollHeight;\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var listItem = args.element.querySelector('.e-list-item');\n                if (listItem) {\n                    scrollHeight = listItem.scrollHeight;\n                }\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var event = args.event;\n        var wrapper;\n        this.stopTimer();\n        if (args.target && (args.target.classList.contains('e-listbox-wrapper') || args.target.classList.contains('e-list-item')\n            || args.target.classList.contains('e-filter-parent') || args.target.classList.contains('e-input-group')\n            || args.target.closest('.e-list-item'))) {\n            if (args.target.classList.contains('e-list-item') || args.target.classList.contains('e-filter-parent')\n                || args.target.classList.contains('e-input-group')\n                || args.target.closest('.e-list-item')) {\n                wrapper = args.target.closest('.e-listbox-wrapper');\n            }\n            else {\n                wrapper = args.target;\n            }\n            if (this.allowFiltering) {\n                scrollParent = wrapper.querySelector('.e-list-parent');\n            }\n            else {\n                scrollParent = wrapper;\n            }\n            boundRect = scrollParent.getBoundingClientRect();\n            if ((boundRect.y + scrollParent.offsetHeight) - (event.clientY + scrollMoved) < 1) {\n                this.timer = window.setInterval(function () { _this.setScrollDown(scrollParent, scrollHeight, true); }, 70);\n            }\n            else if ((event.clientY - scrollMoved) - boundRect.y < 1) {\n                this.timer = window.setInterval(function () { _this.setScrollDown(scrollParent, scrollHeight, false); }, 70);\n            }\n        }\n        if (args.target === null) {\n            return;\n        }\n        this.trigger('drag', this.getDragArgs(args));\n    };\n    ListBox.prototype.setScrollDown = function (scrollElem, scrollPixel, isScrollDown) {\n        if (isScrollDown) {\n            scrollElem.scrollTop = scrollElem.scrollTop + scrollPixel;\n        }\n        else {\n            scrollElem.scrollTop = scrollElem.scrollTop - scrollPixel;\n        }\n    };\n    ListBox.prototype.stopTimer = function () {\n        window.clearInterval(this.timer);\n    };\n    ListBox.prototype.beforeDragEnd = function (args) {\n        this.stopTimer();\n        var items = [];\n        this.dragValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n        if (this.value.indexOf(this.dragValue) > -1) {\n            args.items = this.getDataByValues(this.value);\n        }\n        else {\n            args.items = this.getDataByValues([this.dragValue]);\n        }\n        extend(items, args.items);\n        this.trigger('beforeDrop', args);\n        if (args.items !== items) {\n            this.customDraggedItem = args.items;\n        }\n    };\n    ListBox.prototype.dragEnd = function (args) {\n        var _this = this;\n        var listData;\n        var liColl;\n        var jsonData;\n        var droppedData;\n        var selectedOptions;\n        var sortedData;\n        var dropValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n        var listObj = this.getComponent(args.droppedElement);\n        var getArgs = this.getDragArgs({ target: args.droppedElement }, true);\n        var sourceArgs = { previousData: this.dataSource };\n        var destArgs = { previousData: listObj.dataSource };\n        var dragArgs = extend({}, getArgs, { target: args.target, source: { previousData: this.dataSource },\n            previousIndex: args.previousIndex, currentIndex: args.currentIndex });\n        if (listObj !== this) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: this.listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1, destination: destArgs });\n        }\n        if (Browser.isIos) {\n            this.list.style.overflow = '';\n        }\n        var targetListObj = this.getComponent(args.target);\n        if (targetListObj && targetListObj.listData.length === 0) {\n            var noRecElem = targetListObj.ulElement.childNodes[0];\n            if (noRecElem) {\n                targetListObj.ulElement.removeChild(noRecElem);\n            }\n        }\n        if (listObj === this) {\n            var ul_1 = this.ulElement;\n            listData = [].slice.call(this.listData);\n            liColl = [].slice.call(this.liCollections);\n            jsonData = [].slice.call(this.jsonData);\n            sortedData = [].slice.call(this.sortedData);\n            var toSortIdx_1 = args.currentIndex;\n            var toIdx_1 = args.currentIndex = this.getCurIdx(this, args.currentIndex);\n            var rIdx = listData.indexOf(this.getDataByValue(dropValue));\n            var jsonIdx = jsonData.indexOf(this.getDataByValue(dropValue));\n            var sIdx = sortedData.indexOf(this.getDataByValue(dropValue));\n            listData.splice(toIdx_1, 0, listData.splice(rIdx, 1)[0]);\n            sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx, 1)[0]);\n            jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx, 1)[0]);\n            liColl.splice(toIdx_1, 0, liColl.splice(rIdx, 1)[0]);\n            if (this.allowDragAll) {\n                selectedOptions = this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 ? this.value : [dropValue];\n                if (!isNullOrUndefined(this.customDraggedItem)) {\n                    selectedOptions = [];\n                    this.customDraggedItem.forEach(function (item) {\n                        selectedOptions.push(getValue(_this.fields.value, item));\n                    });\n                }\n                selectedOptions.forEach(function (value) {\n                    if (value !== dropValue) {\n                        var idx = listData.indexOf(_this.getDataByValue(value));\n                        var jsonIdx_1 = jsonData.indexOf(_this.getDataByValue(value));\n                        var sIdx_1 = sortedData.indexOf(_this.getDataByValue(value));\n                        if (idx > toIdx_1) {\n                            toIdx_1++;\n                        }\n                        jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx_1, 1)[0]);\n                        listData.splice(toIdx_1, 0, listData.splice(idx, 1)[0]);\n                        sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx_1, 1)[0]);\n                        liColl.splice(toIdx_1, 0, liColl.splice(idx, 1)[0]);\n                        ul_1.insertBefore(_this.getItems()[_this.getIndexByValue(value)], ul_1.getElementsByClassName('e-placeholder')[0]);\n                    }\n                });\n            }\n            this.listData = listData;\n            this.jsonData = jsonData;\n            this.sortedData = sortedData;\n            this.liCollections = liColl;\n        }\n        else {\n            var li_1;\n            var fLiColl_1 = [].slice.call(this.liCollections);\n            var currIdx_1 = args.currentIndex = this.getCurIdx(listObj, args.currentIndex);\n            var ul_2 = listObj.ulElement;\n            listData = [].slice.call(listObj.listData);\n            liColl = [].slice.call(listObj.liCollections);\n            jsonData = [].slice.call(listObj.jsonData);\n            sortedData = [].slice.call(listObj.sortedData);\n            selectedOptions = (this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 && this.allowDragAll)\n                ? this.value : [dropValue];\n            if (!isNullOrUndefined(this.customDraggedItem)) {\n                selectedOptions = [];\n                this.customDraggedItem.forEach(function (item) {\n                    selectedOptions.push(getValue(_this.fields.value, item));\n                });\n            }\n            var fListData_1 = [].slice.call(this.listData);\n            var fSortData_1 = [].slice.call(this.sortedData);\n            selectedOptions.forEach(function (value, index) {\n                droppedData = _this.getDataByValue(value);\n                var srcIdx = _this.listData.indexOf(droppedData);\n                var jsonSrcIdx = _this.jsonData.indexOf(droppedData);\n                var sortIdx = _this.sortedData.indexOf(droppedData);\n                fListData_1.splice(srcIdx, 1);\n                _this.jsonData.splice(jsonSrcIdx, 1);\n                fSortData_1.splice(sortIdx, 1);\n                _this.listData = fListData_1;\n                _this.sortedData = fSortData_1;\n                var destIdx = value === dropValue ? args.currentIndex : currIdx_1;\n                listData.splice(destIdx, 0, droppedData);\n                jsonData.splice(destIdx, 0, droppedData);\n                sortedData.splice(destIdx, 0, droppedData);\n                liColl.splice(destIdx, 0, fLiColl_1.splice(srcIdx, 1)[0]);\n                if (!value) {\n                    var liCollElem_1 = _this.getItems();\n                    for (var i = 0; i < liCollElem_1.length; i++) {\n                        if (liCollElem_1[i].getAttribute('data-value') === null && liCollElem_1[i].classList.contains('e-list-item')) {\n                            li_1 = liCollElem_1[i];\n                            break;\n                        }\n                    }\n                }\n                else {\n                    li_1 = _this.getItems()[_this.getIndexByValue(value)];\n                }\n                if (!li_1) {\n                    li_1 = args.helper;\n                }\n                _this.removeSelected(_this, value === dropValue ? [args.droppedElement] : [li_1]);\n                ul_2.insertBefore(li_1, ul_2.getElementsByClassName('e-placeholder')[0]);\n                currIdx_1++;\n            });\n            if (this.fields.groupBy) {\n                var sourceElem = this.renderItems(this.listData, this.fields);\n                this.updateListItems(sourceElem, this.ulElement);\n                this.setSelection();\n            }\n            if (listObj.sortOrder !== 'None' || this.selectionSettings.showCheckbox\n                !== listObj.selectionSettings.showCheckbox || listObj.fields.groupBy || listObj.itemTemplate || this.itemTemplate) {\n                var sortable = getComponent(ul_2, 'sortable');\n                var sourceElem = listObj.renderItems(listData, listObj.fields);\n                listObj.updateListItems(sourceElem, ul_2);\n                this.setSelection();\n                if (sortable.placeHolderElement) {\n                    ul_2.appendChild(sortable.placeHolderElement);\n                }\n                ul_2.appendChild(args.helper);\n                listObj.setSelection();\n            }\n            this.liCollections = fLiColl_1;\n            listObj.liCollections = liColl;\n            listObj.jsonData = extend([], [], jsonData, false);\n            listObj.listData = extend([], [], listData, false);\n            listObj.sortedData = extend([], [], sortedData, false);\n            if (this.listData.length === 0) {\n                this.l10nUpdate();\n            }\n        }\n        if (this === listObj) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1 });\n        }\n        else {\n            var dragArgs1 = extend(destArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { destination: dragArgs1 });\n        }\n        if (!isNullOrUndefined(this.customDraggedItem)) {\n            dragArgs.items = this.customDraggedItem;\n        }\n        this.trigger('drop', dragArgs);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var liCollElem = dragArgs.elements;\n        if (liCollElem.length) {\n            for (var i = 0; i < liCollElem.length; i++) {\n                liCollElem[i].classList.remove('e-grabbed');\n            }\n        }\n    };\n    ListBox.prototype.updateListItems = function (sourceElem, destElem) {\n        var i = 0;\n        destElem.innerHTML = '';\n        while (i < sourceElem.childNodes.length) {\n            destElem.appendChild(sourceElem.childNodes[i]);\n        }\n    };\n    ListBox.prototype.removeSelected = function (listObj, elems) {\n        if (listObj.selectionSettings.showCheckbox) {\n            elems.forEach(function (ele) { ele.getElementsByClassName('e-frame')[0].classList.remove('e-check'); });\n        }\n        else {\n            removeClass(elems, cssClass.selected);\n        }\n    };\n    ListBox.prototype.getCurIdx = function (listObj, idx) {\n        if (listObj.fields.groupBy) {\n            idx -= [].slice.call(listObj.ulElement.children).slice(0, idx)\n                .filter(function (ele) { return ele.classList.contains(cssClass.group); }).length;\n        }\n        return idx;\n    };\n    ListBox.prototype.getComponent = function (li) {\n        var listObj;\n        var ele = (this.element.tagName === 'EJS-LISTBOX' ? closest(li, '.e-listbox')\n            : closest(li, '.e-listbox-wrapper') && closest(li, '.e-listbox-wrapper').querySelector('.e-listbox'));\n        if (ele) {\n            listObj = getComponent(ele, this.getModuleName());\n        }\n        return listObj;\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    ListBox.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    ListBox.prototype.listOption = function (dataSource, fields) {\n        this.listCurrentOptions = _super.prototype.listOption.call(this, dataSource, fields);\n        this.listCurrentOptions = extend({}, this.listCurrentOptions, { itemCreated: this.triggerBeforeItemRender.bind(this) }, true);\n        this.notify('listoption', { module: 'CheckBoxSelection' });\n        return this.listCurrentOptions;\n    };\n    ListBox.prototype.triggerBeforeItemRender = function (e) {\n        e.item.setAttribute('tabindex', '-1');\n        this.trigger('beforeItemRender', { element: e.item, item: e.curData });\n    };\n    ListBox.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.selectionSettings.showCheckbox) {\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * This method is used to enable or disable the items in the ListBox based on the items and enable argument.\n     *\n     * @param {string[]} items - Text items that needs to be enabled/disabled.\n     * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n     * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n     * @returns {void}\n     */\n    ListBox.prototype.enableItems = function (items, enable, isValue) {\n        var _this = this;\n        if (enable === void 0) { enable = true; }\n        var li;\n        items.forEach(function (item) {\n            var text = item;\n            li = _this.findListElement(_this.list, 'li', 'data-value', isValue ? text : _this.getValueByText(text));\n            if (!li) {\n                return;\n            }\n            if (enable) {\n                removeClass([li], cssClass.disabled);\n                li.removeAttribute('aria-disabled');\n            }\n            else {\n                addClass([li], cssClass.disabled);\n                li.setAttribute('aria-disabled', 'true');\n            }\n        });\n    };\n    /**\n     * Based on the state parameter, specified list item will be selected/deselected.\n     *\n     * @param {string[]} items - Array of text value of the item.\n     * @param {boolean} state - Set `true`/`false` to select/un select the list items.\n     * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n     * @returns {void}\n     */\n    ListBox.prototype.selectItems = function (items, state, isValue) {\n        if (state === void 0) { state = true; }\n        if (state && !this.selectionSettings.showCheckbox && this.selectionSettings.mode === 'Single') {\n            this.getSelectedItems().forEach(function (li) {\n                li.classList.remove('e-active');\n                li.removeAttribute('aria-selected');\n                removeClass([li], cssClass.selected);\n            });\n        }\n        this.setSelection(items, state, !isValue);\n        this.updateSelectedOptions();\n        var selElems = [];\n        for (var i = 0; i < items.length; i++) {\n            var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n            for (var j = 0; j < liColl.length; j++) {\n                if (items[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n                    selElems.push(liColl[j]);\n                }\n            }\n        }\n        this.triggerChange(selElems, null);\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     *\n     * @param {boolean} state - Set `true`/`false` to select/un select the entire list items.\n     * @returns {void}\n     */\n    ListBox.prototype.selectAll = function (state) {\n        if (state === void 0) { state = true; }\n        this.selectAllItems(state);\n    };\n    /**\n     * Adds a new item to the list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.addItems = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItems = function (items, itemIndex) {\n        this.removeItem(items, itemIndex);\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItem = function (items, itemIndex) {\n        var liCollections = [];\n        var liElement = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        if (items) {\n            items = (items instanceof Array ? items : [items]);\n            var fields = this.fields;\n            var dataValue = void 0;\n            var objValue = void 0;\n            var dupData = [];\n            var itemIdx = void 0;\n            extend(dupData, [], this.jsonData);\n            var removeIdxes = [];\n            var removeLiIdxes = [];\n            for (var j = 0; j < items.length; j++) {\n                if (items[j] instanceof Object) {\n                    dataValue = getValue(fields.value, items[j]);\n                }\n                else {\n                    dataValue = items[j].toString();\n                }\n                for (var i = 0, len = dupData.length; i < len; i++) {\n                    if (dupData[i] instanceof Object) {\n                        objValue = getValue(fields.value, dupData[i]);\n                    }\n                    else {\n                        objValue = dupData[i].toString();\n                    }\n                    if (objValue === dataValue) {\n                        itemIdx = this.getIndexByValue(dataValue);\n                        var idx = itemIdx === i ? itemIdx : i;\n                        liCollections.push(liElement[idx]);\n                        removeIdxes.push(idx);\n                        removeLiIdxes.push(idx);\n                    }\n                }\n            }\n            for (var k = removeIdxes.length - 1; k >= 0; k--) {\n                this.listData.splice(removeIdxes[k], 1);\n            }\n            for (var k = removeIdxes.length - 1; k >= 0; k--) {\n                this.jsonData.splice(removeIdxes[k], 1);\n            }\n            for (var k = removeLiIdxes.length - 1; k >= 0; k--) {\n                this.updateLiCollection(removeLiIdxes[k]);\n            }\n        }\n        else {\n            itemIndex = itemIndex ? itemIndex : 0;\n            liCollections.push(liElement[itemIndex]);\n            this.listData.splice(itemIndex, 1);\n            this.jsonData.splice(itemIndex, 1);\n            this.updateLiCollection(itemIndex);\n        }\n        for (var i = 0; i < liCollections.length; i++) {\n            this.ulElement.removeChild(liCollections[i]);\n        }\n        if (this.listData.length === 0) {\n            this.l10nUpdate();\n        }\n        this.value = [];\n        this.updateToolBarState();\n    };\n    /**\n     * Gets the array of data Object that matches the given array of values.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the array value of the list item.\n     * @returns {object[]}.\n     */\n    ListBox.prototype.getDataByValues = function (value) {\n        var data = [];\n        for (var i = 0; i < value.length; i++) {\n            data.push(this.getDataByValue(value[i]));\n        }\n        return data;\n    };\n    /**\n     * Moves the given value(s) / selected value(s) upwards.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveUp = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(true, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) downwards.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveDown = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(false, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) in Top of the list.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveTop = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(null, false, elem, true);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) in bottom of the list.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveBottom = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(true, false, elem, false, true);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) to the given / default scoped ListBox.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value or array value of the list item.\n     * @param {number} index - Specifies the index.\n     * @param {string} targetId - Specifies the target id.\n     * @returns {void}\n     */\n    ListBox.prototype.moveTo = function (value, index, targetId) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n        this.moveData(this, tlistbox, false, elem, index);\n    };\n    /**\n     * Moves all the values from one ListBox to the scoped ListBox.\n     *\n     * @param  { string } targetId - Specifies the scoped ListBox ID.\n     * @param  { string } index - Specifies the index to where the items moved.\n     * @returns {void}\n     */\n    ListBox.prototype.moveAllTo = function (targetId, index) {\n        if (this.listData.length > 0) {\n            var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n            this.moveAllData(this, tlistbox, false, index);\n        }\n    };\n    /* eslint-disable */\n    /**\n     * Gets the updated dataSource in ListBox.\n     *\n     * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Updated DataSource.\n     */\n    /* eslint-enable */\n    ListBox.prototype.getDataList = function () {\n        return this.jsonData;\n    };\n    /* eslint-disable */\n    /**\n     * Returns the sorted Data in ListBox.\n     *\n     * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Sorted data\n     */\n    /* eslint-enable */\n    ListBox.prototype.getSortedList = function () {\n        var sortData;\n        var tempData;\n        sortData = tempData = this.sortedData;\n        if (this.fields.groupBy) {\n            sortData = [];\n            for (var i = 0; i < tempData.length; i++) {\n                if (tempData[i].isHeader) {\n                    continue;\n                }\n                sortData.push(tempData[i]);\n            }\n        }\n        return sortData;\n    };\n    ListBox.prototype.getElemByValue = function (value) {\n        var elem = [];\n        for (var i = 0; i < value.length; i++) {\n            elem.push(this.ulElement.querySelector('[data-value =\"' + value[i] + '\"]'));\n        }\n        return elem;\n    };\n    ListBox.prototype.updateLiCollection = function (index) {\n        var tempLi = [].slice.call(this.liCollections);\n        tempLi.splice(index, 1);\n        this.liCollections = tempLi;\n    };\n    ListBox.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        [].slice.call(this.getItems()).forEach(function (li) {\n            if (!li.classList.contains(cssClass.disabled)) {\n                if (_this.selectionSettings.showCheckbox) {\n                    var ele = li.getElementsByClassName('e-check')[0];\n                    if ((!ele && state) || (ele && !state)) {\n                        _this.notify('updatelist', { li: li, module: 'listbox' });\n                        if (_this.maximumSelectionLength >= _this.list.querySelectorAll('.e-list-item span.e-check').length) {\n                            _this.checkMaxSelection();\n                        }\n                    }\n                }\n                else {\n                    if (state) {\n                        li.classList.add(cssClass.selected);\n                    }\n                    else {\n                        li.classList.remove(cssClass.selected);\n                    }\n                }\n            }\n        });\n        this.updateSelectedOptions();\n        if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n            var liEle = this.list.getElementsByTagName('li');\n            var index = 0;\n            if (state) {\n                var _loop_1 = function () {\n                    var dataValue1 = this_1.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    if (!this_1.value.some(function (e) { return e === dataValue1; })) {\n                        this_1.value.push(this_1.getFormattedValue(liEle[index].getAttribute('data-value')));\n                    }\n                };\n                var this_1 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_1();\n                }\n            }\n            else {\n                var _loop_2 = function () {\n                    var dataValue2 = this_2.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    this_2.value = this_2.value.filter(function (e) { return e !== dataValue2; });\n                };\n                var this_2 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_2();\n                }\n            }\n            if (document.querySelectorAll('ul').length < 2) {\n                this.updateMainList();\n            }\n        }\n        this.triggerChange(this.getSelectedItems(), event);\n    };\n    ListBox.prototype.updateMainList = function () {\n        var mainList = this.mainList.querySelectorAll('.e-list-item');\n        var ulList = this.ulElement.querySelectorAll('.e-list-item');\n        var mainCount = mainList.length;\n        var ulEleCount = ulList.length;\n        if (this.selectionSettings.showCheckbox || (document.querySelectorAll('ul').length > 1 || mainCount !== ulEleCount)) {\n            var listindex = 0;\n            var valueindex = 0;\n            var count = 0;\n            for (listindex; listindex < mainCount;) {\n                if (this.value) {\n                    for (valueindex; valueindex < this.value.length; valueindex++) {\n                        if (mainList[listindex].getAttribute('data-value') === this.value[valueindex]) {\n                            count++;\n                        }\n                    }\n                }\n                if (!count && this.selectionSettings.showCheckbox) {\n                    mainList[listindex].getElementsByClassName('e-frame')[0].classList.remove('e-check');\n                }\n                if (document.querySelectorAll('ul').length > 1 && count && mainCount !== ulEleCount) {\n                    this.mainList.removeChild(this.mainList.getElementsByTagName('li')[listindex]);\n                    listindex = 0;\n                }\n                else {\n                    listindex++;\n                }\n                count = 0;\n                valueindex = 0;\n            }\n        }\n    };\n    ListBox.prototype.wireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.add(this.list, 'click', this.clickHandler, this);\n        EventHandler.add(wrapper, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(wrapper, 'focusout', this.focusOutHandler, this);\n        this.wireToolbarEvent();\n        if (this.selectionSettings.showCheckbox) {\n            EventHandler.remove(document, 'mousedown', this.checkBoxSelectionModule.onDocumentClick);\n        }\n        if (this.fields.groupBy || this.element.querySelector('select>optgroup')) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        }\n        if (form) {\n            EventHandler.add(form, 'reset', this.formResetHandler, this);\n        }\n    };\n    ListBox.prototype.wireToolbarEvent = function () {\n        if (this.toolbarSettings.items.length) {\n            EventHandler.add(this.getToolElem(), 'click', this.toolbarClickHandler, this);\n        }\n    };\n    ListBox.prototype.unwireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.remove(this.list, 'click', this.clickHandler);\n        EventHandler.remove(wrapper, 'keydown', this.keyDownHandler);\n        EventHandler.remove(wrapper, 'focusout', this.focusOutHandler);\n        if (this.allowFiltering && this.clearFilterIconElem) {\n            EventHandler.remove(this.clearFilterIconElem, 'click', this.clearText);\n        }\n        if (this.toolbarSettings.items.length) {\n            EventHandler.remove(this.getToolElem(), 'click', this.toolbarClickHandler);\n        }\n        if (form) {\n            EventHandler.remove(form, 'reset', this.formResetHandler);\n        }\n    };\n    ListBox.prototype.clickHandler = function (e) {\n        this.selectHandler(e);\n    };\n    ListBox.prototype.checkSelectAll = function () {\n        var searchCount = 0;\n        var liItems = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        for (var i = 0; i < liItems.length; i++) {\n            if (!liItems[i].classList.contains('e-disabled')) {\n                searchCount++;\n            }\n        }\n        var len = this.getSelectedItems().length;\n        if (this.showSelectAll && searchCount) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection',\n                value: (searchCount === len) ? 'check' : (len === 0) ? 'uncheck' : 'indeterminate' });\n        }\n    };\n    ListBox.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.allowFiltering) {\n            var filterType = this.inputString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (dataType === null) {\n                dataType = this.typeOfData(this.jsonData).typeof;\n            }\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = query ? query : this.query ? this.query : new Query();\n        }\n        return filterQuery;\n    };\n    ListBox.prototype.setFiltering = function () {\n        var filterInputObj;\n        if (this.initLoad || isNullOrUndefined(this.filterParent)) {\n            this.filterParent = this.createElement('span', {\n                className: listBoxClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: listBoxClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: [listBoxClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            append([filterInputObj.container], this.filterParent);\n            prepend([this.filterParent], this.list);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-label': 'search list item',\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false',\n                'role': 'textbox'\n            });\n            if (this.height.toString().indexOf('%') < 0) {\n                addClass([this.list], 'e-filter-list');\n            }\n            this.inputString = this.filterInput.value;\n            this.filterWireEvents();\n            return filterInputObj;\n        }\n    };\n    ListBox.prototype.filterWireEvents = function (filterElem) {\n        if (filterElem) {\n            this.filterInput = filterElem.querySelector('.e-input-filter');\n        }\n        this.clearFilterIconElem = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n        if (this.clearFilterIconElem) {\n            EventHandler.add(this.clearFilterIconElem, 'click', this.clearText, this);\n            if (!filterElem) {\n                this.clearFilterIconElem.style.visibility = 'hidden';\n            }\n        }\n        EventHandler.add(this.filterInput, 'input', this.onInput, this);\n        EventHandler.add(this.filterInput, 'keyup', this.KeyUp, this);\n        EventHandler.add(this.filterInput, 'keydown', this.onKeyDown, this);\n    };\n    ListBox.prototype.selectHandler = function (e, isKey) {\n        var isSelect = true;\n        var currSelIdx;\n        var li = closest(e.target, '.' + 'e-list-item');\n        var selectedLi = [li];\n        if (li && li.parentElement) {\n            currSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            if (!this.selectionSettings.showCheckbox) {\n                if ((e.ctrlKey || e.metaKey || Browser.isDevice) && this.isSelected(li)) {\n                    li.classList.remove(cssClass.selected);\n                    li.removeAttribute('aria-selected');\n                    isSelect = false;\n                }\n                else if (!(this.selectionSettings.mode === 'Multiple' && (e.ctrlKey || e.metaKey || Browser.isDevice))) {\n                    this.getSelectedItems().forEach(function (ele) {\n                        ele.removeAttribute('aria-selected');\n                    });\n                    removeClass(this.getSelectedItems(), cssClass.selected);\n                }\n            }\n            else {\n                isSelect = !li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n            }\n            if (e.shiftKey && !this.selectionSettings.showCheckbox && this.selectionSettings.mode !== 'Single') {\n                selectedLi = [].slice.call(li.parentElement.children)\n                    .slice(Math.min(currSelIdx, this.prevSelIdx), Math.max(currSelIdx, this.prevSelIdx) + 1)\n                    .filter(function (ele) { return ele.classList.contains('e-list-item'); });\n            }\n            else {\n                this.prevSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            }\n            if (isSelect) {\n                if (!this.selectionSettings.showCheckbox) {\n                    addClass(selectedLi, cssClass.selected);\n                }\n                selectedLi.forEach(function (ele) {\n                    ele.setAttribute('aria-selected', 'true');\n                });\n                this.list.setAttribute('aria-activedescendant', li.id);\n            }\n            else {\n                selectedLi.forEach(function (ele) {\n                    ele.setAttribute('aria-selected', 'false');\n                });\n            }\n            if (!isKey && (this.maximumSelectionLength > (this.value && this.value.length) || !isSelect) &&\n                (this.maximumSelectionLength >= (this.value && this.value.length) || !isSelect) &&\n                !(this.maximumSelectionLength < (this.value && this.value.length))) {\n                this.notify('updatelist', { li: li, e: e, module: 'listbox' });\n            }\n            if (this.allowFiltering && !isKey) {\n                var liDataValue_1 = this.getFormattedValue(li.getAttribute('data-value'));\n                if (!isSelect) {\n                    this.value = this.value.filter(function (value1) {\n                        return value1 !== liDataValue_1;\n                    });\n                }\n                else {\n                    var values = [];\n                    extend(values, this.value);\n                    values.push(liDataValue_1);\n                    this.value = values;\n                }\n                if (document.querySelectorAll('ul').length < 2) {\n                    this.updateMainList();\n                }\n            }\n            this.updateSelectedOptions();\n            this.triggerChange(this.getSelectedItems(), e);\n            if (this.list) {\n                this.checkMaxSelection();\n            }\n        }\n    };\n    ListBox.prototype.triggerChange = function (selectedLis, event) {\n        this.trigger('change', { elements: selectedLis, items: this.getDataByElements(selectedLis), value: this.value, event: event });\n    };\n    ListBox.prototype.getDataByElems = function (elems) {\n        var data = [];\n        for (var i = 0, len = elems.length; i < len; i++) {\n            data.push(this.getDataByValue(this.getFormattedValue(elems[i].getAttribute('data-value'))));\n        }\n        return data;\n    };\n    ListBox.prototype.getDataByElements = function (elems) {\n        var data = [];\n        var value;\n        var sIdx = 0;\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    for (var i = sIdx, len = elems.length; i < len; i++) {\n                        value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n                        if (!isNullOrUndefined(item) && item === value) {\n                            sIdx = i;\n                            data.push(item);\n                            break;\n                        }\n                    }\n                    if (elems.length === data.length) {\n                        break;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    for (var i = sIdx, len = elems.length; i < len; i++) {\n                        value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n                        if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                            sIdx = i;\n                            data.push(item);\n                            break;\n                        }\n                    }\n                    if (elems.length === data.length) {\n                        break;\n                    }\n                }\n            }\n            return data;\n        }\n        return null;\n    };\n    ListBox.prototype.checkMaxSelection = function () {\n        var limit = this.list.querySelectorAll('.e-list-item span.e-check').length;\n        if (this.selectionSettings.showCheckbox) {\n            var index = 0;\n            var liCollElem = this.list.getElementsByClassName('e-list-item');\n            for (index; index < liCollElem.length; index++) {\n                if (!liCollElem[index].querySelector('.e-frame.e-check')) {\n                    if (limit === this.maximumSelectionLength) {\n                        liCollElem[index].classList.add('e-disable');\n                    }\n                    else if (liCollElem[index].classList.contains('e-disable')) {\n                        liCollElem[index].classList.remove('e-disable');\n                    }\n                }\n            }\n        }\n    };\n    ListBox.prototype.toolbarClickHandler = function (e) {\n        var btn = closest(e.target, 'button');\n        if (btn) {\n            this.toolbarAction = btn.getAttribute('data-value');\n            if (btn.disabled) {\n                return;\n            }\n            switch (this.toolbarAction) {\n                case 'moveUp':\n                    this.moveUpDown(true);\n                    break;\n                case 'moveDown':\n                    this.moveUpDown();\n                    break;\n                case 'moveTo':\n                    this.moveItemTo();\n                    break;\n                case 'moveFrom':\n                    this.moveItemFrom();\n                    break;\n                case 'moveAllTo':\n                    this.moveAllItemTo();\n                    break;\n                case 'moveAllFrom':\n                    this.moveAllItemFrom();\n                    break;\n                default:\n                    this.trigger('actionBegin', { cancel: false, items: this.getDataByElems(this.getSelectedItems()),\n                        eventName: this.toolbarAction });\n                    break;\n            }\n        }\n    };\n    ListBox.prototype.moveUpDown = function (isUp, isKey, value, isTop, isBottom) {\n        var _this = this;\n        var elems = this.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        if (((isUp && this.isSelected(this.ulElement.firstElementChild))\n            || (!isUp && this.isSelected(this.ulElement.lastElementChild))) && !value) {\n            return;\n        }\n        var tempItems = this.getDataByElems(elems);\n        var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n        this.trigger('actionBegin', localDataArgs);\n        if (localDataArgs.cancel) {\n            return;\n        }\n        (isUp ? elems : elems.reverse()).forEach(function (ele) {\n            var jsonToIdx = Array.prototype.indexOf.call(_this.ulElement.querySelectorAll('.e-list-item'), ele);\n            var idx = Array.prototype.indexOf.call(_this.ulElement.children, ele);\n            if (isTop) {\n                moveTo(_this.ulElement, _this.ulElement, [idx], 0);\n                _this.changeData(idx, 0, jsonToIdx, ele);\n            }\n            else if (isBottom) {\n                moveTo(_this.ulElement, _this.ulElement, [idx], _this.ulElement.querySelectorAll('.e-list-item').length);\n                _this.changeData(idx, _this.ulElement.querySelectorAll('.e-list-item').length, jsonToIdx, ele);\n            }\n            else {\n                moveTo(_this.ulElement, _this.ulElement, [idx], isUp ? idx - 1 : idx + 2);\n                _this.changeData(idx, isUp ? idx - 1 : idx + 1, isUp ? jsonToIdx - 1 : jsonToIdx + 1, ele);\n            }\n        });\n        this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        elems[0].focus();\n        if (!isKey && this.toolbarSettings.items.length) {\n            this.getToolElem().querySelector('[data-value=' + (isUp ? 'moveUp' : 'moveDown') + ']').focus();\n        }\n        this.updateToolBarState();\n    };\n    ListBox.prototype.moveItemTo = function () {\n        this.moveData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveItemFrom = function () {\n        this.moveData(this.getScopedListBox(), this);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {ListBox} fListBox - Specifies the from listbox.\n     * @param {ListBox} tListBox - Specifies the to listbox.\n     * @param {boolean} isKey - Specifies the key.\n     * @param {Element[]} value - Specifies the value.\n     * @param {number} index - Specifies the index.\n     * @returns {void}\n     * @private\n     */\n    ListBox.prototype.moveData = function (fListBox, tListBox, isKey, value, index) {\n        var idx = [];\n        var dataIdx = [];\n        var jsonIdx = [];\n        var sortIdx = [];\n        var listData = [].slice.call(fListBox.listData);\n        var tListData = [].slice.call(tListBox.listData);\n        var sortData = [].slice.call(fListBox.sortedData);\n        var tSortData = [].slice.call(tListBox.sortedData);\n        var fliCollections = [].slice.call(fListBox.liCollections);\n        var dataLiIdx = [];\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        var tempItems = [];\n        var data = [];\n        var elems = fListBox.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        var isRefresh = tListBox.sortOrder !== 'None' || (tListBox.selectionSettings.showCheckbox !==\n            fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n        fListBox.value = [];\n        if (elems.length) {\n            this.removeSelected(fListBox, elems);\n            elems.forEach(function (ele) {\n                idx.push(Array.prototype.indexOf.call(fListBox.ulElement.children, ele)); // update sortable elem\n                // To update lb view data\n                dataLiIdx.push(Array.prototype.indexOf.call(fListBox.ulElement.querySelectorAll('.e-list-item'), ele));\n                // To update lb listdata data\n                dataIdx.push(Array.prototype.indexOf.call(fListBox.listData, fListBox.getDataByElems([ele])[0]));\n                // To update lb sorted data\n                sortIdx.push(Array.prototype.indexOf.call(fListBox.sortedData, fListBox.getDataByElems([ele])[0]));\n                // To update lb original data\n                jsonIdx.push(Array.prototype.indexOf.call(fListBox.jsonData, fListBox.getDataByElems([ele])[0]));\n            });\n            if (this.sortOrder !== 'None') {\n                sortIdx.forEach(function (i) {\n                    tempItems.push(fListBox.sortedData[i]);\n                });\n            }\n            else {\n                jsonIdx.forEach(function (i) {\n                    tempItems.push(fListBox.jsonData[i]);\n                });\n            }\n            var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n            fListBox.trigger('actionBegin', localDataArgs);\n            if (localDataArgs.cancel) {\n                return;\n            }\n            var rLiCollection_1 = [];\n            dataLiIdx.sort(function (n1, n2) { return n1 - n2; }).reverse().forEach(function (i) {\n                rLiCollection_1.push(fliCollections.splice(i, 1)[0]);\n            });\n            fListBox.liCollections = fliCollections;\n            if (index) {\n                var toColl = tliCollections.splice(0, index);\n                tListBox.liCollections = toColl.concat(rLiCollection_1.reverse()).concat(tliCollections);\n            }\n            else {\n                tListBox.liCollections = tliCollections.concat(rLiCollection_1.reverse());\n            }\n            if (tListBox.listData.length === 0) {\n                var noRecElem = tListBox.ulElement.childNodes[0];\n                if (noRecElem) {\n                    tListBox.ulElement.removeChild(noRecElem);\n                }\n            }\n            dataIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                listData.splice(i, 1)[0];\n            });\n            sortIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                sortData.splice(i, 1)[0];\n            });\n            jsonIdx.slice().reverse().forEach(function (i) {\n                data.push(fListBox.jsonData.splice(i, 1)[0]);\n            });\n            if (isRefresh) {\n                if (fListBox.fields.groupBy) {\n                    var sourceElem = fListBox.renderItems(listData, fListBox.fields);\n                    fListBox.updateListItems(sourceElem, fListBox.ulElement);\n                }\n                else {\n                    elems.forEach(function (ele) { detach(ele); });\n                }\n            }\n            else {\n                moveTo(fListBox.ulElement, tListBox.ulElement, idx, index);\n                fListBox.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n            }\n            if (tListBox.mainList.childElementCount !== tListBox.jsonData.length) {\n                tListBox.mainList = tListBox.ulElement;\n            }\n            var tJsonData = [].slice.call(tListBox.jsonData);\n            tSortData = [].slice.call(tListBox.sortedData);\n            this.selectNextList(elems, dataLiIdx, dataIdx, fListBox);\n            if (isKey) {\n                this.list.focus();\n            }\n            fListBox.listData = listData;\n            fListBox.sortedData = sortData;\n            index = (index) ? index : tListData.length;\n            for (var i = tempItems.length - 1; i >= 0; i--) {\n                tListData.splice(index, 0, tempItems[i]);\n                tJsonData.splice(index, 0, tempItems[i]);\n                tSortData.splice(index, 0, tempItems[i]);\n            }\n            tListBox.listData = tListData;\n            tListBox.jsonData = tJsonData;\n            tListBox.sortedData = tSortData;\n            if (isRefresh) {\n                var sourceElem = tListBox.renderItems(tListData, tListBox.fields);\n                tListBox.updateListItems(sourceElem, tListBox.ulElement);\n                tListBox.setSelection();\n                fListBox.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n            }\n            fListBox.updateSelectedOptions();\n            if (fListBox.listData.length === 0) {\n                fListBox.l10nUpdate();\n            }\n        }\n        if (fListBox.value.length === 1 && fListBox.getSelectedItems().length) {\n            fListBox.value[0] = fListBox.getFormattedValue(fListBox.getSelectedItems()[0].getAttribute('data-value'));\n        }\n    };\n    ListBox.prototype.selectNextList = function (elems, dataLiIdx, dataIdx, inst) {\n        var childCnt = inst.ulElement.querySelectorAll('.e-list-item').length;\n        var ele;\n        var liIdx;\n        var validIdx = -1;\n        if (elems.length === 1 && childCnt && !inst.selectionSettings.showCheckbox) {\n            liIdx = childCnt <= dataLiIdx[0] ? childCnt - 1 : dataLiIdx[0];\n            ele = inst.ulElement.querySelectorAll('.e-list-item')[liIdx];\n            validIdx = inst.getValidIndex(ele, liIdx, childCnt === dataIdx[0] ? 38 : 40);\n            if (validIdx > -1) {\n                (inst.ulElement.querySelectorAll('.e-list-item')[validIdx].classList.add(cssClass.selected));\n            }\n        }\n    };\n    ListBox.prototype.moveAllItemTo = function () {\n        this.moveAllData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveAllItemFrom = function () {\n        this.moveAllData(this.getScopedListBox(), this);\n    };\n    ListBox.prototype.moveAllData = function (fListBox, tListBox, isKey, index) {\n        var listData = [].slice.call(tListBox.listData);\n        var jsonData = [].slice.call(tListBox.jsonData);\n        var isRefresh = tListBox.sortOrder !== 'None' || (tListBox.selectionSettings.showCheckbox !==\n            fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n        this.removeSelected(fListBox, fListBox.getSelectedItems());\n        var tempItems = [].slice.call(fListBox.listData);\n        var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n        fListBox.trigger('actionBegin', localDataArgs);\n        if (localDataArgs.cancel) {\n            return;\n        }\n        if (tListBox.listData.length === 0) {\n            var noRecElem = tListBox.ulElement.childNodes[0];\n            if (noRecElem) {\n                tListBox.ulElement.removeChild(noRecElem);\n            }\n        }\n        if (isRefresh) {\n            var noRecElem = fListBox.ulElement.childNodes[0];\n            if (noRecElem) {\n                fListBox.ulElement.removeChild(noRecElem);\n            }\n        }\n        moveTo(fListBox.ulElement, tListBox.ulElement, \n        // eslint-disable-next-line prefer-spread\n        Array.apply(null, { length: fListBox.ulElement.childElementCount }).map(Number.call, Number), index);\n        this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        if (isKey) {\n            this.list.focus();\n        }\n        index = (index) ? index : listData.length;\n        for (var i = 0; i < fListBox.listData.length; i++) {\n            listData.splice(index + i, 0, fListBox.listData[i]);\n        }\n        for (var i = 0; i < fListBox.jsonData.length; i++) {\n            jsonData.splice(index + i, 0, fListBox.jsonData[i]);\n        }\n        var fliCollections = [].slice.call(fListBox.liCollections);\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        fListBox.liCollections = [];\n        if (index) {\n            var toColl = tliCollections.splice(0, index);\n            tListBox.liCollections = toColl.concat(fliCollections).concat(tliCollections);\n        }\n        else {\n            tListBox.liCollections = tliCollections.concat(fliCollections);\n        }\n        fListBox.value = [];\n        listData = listData\n            .filter(function (data) { return data.isHeader !== true; });\n        var sortedData = listData.filter(function (val) {\n            return tListBox.jsonData.indexOf(val) === -1;\n        });\n        for (var i = 0; i < sortedData.length; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            tListBox.jsonData.splice(index + i, 0, sortedData[i]);\n        }\n        tListBox.listData = listData;\n        if (fListBox.listData.length === fListBox.jsonData.length) {\n            fListBox.listData = fListBox.sortedData = fListBox.jsonData = [];\n        }\n        else if (fListBox.allowFiltering) {\n            for (var i = 0; i < fListBox.listData.length; i++) {\n                for (var j = 0; j < fListBox.jsonData.length; j++) {\n                    if (fListBox.listData[i] === fListBox.jsonData[j]) {\n                        fListBox.jsonData.splice(j, 1);\n                    }\n                }\n            }\n            fListBox.listData = fListBox.sortedData = [];\n        }\n        if (isRefresh) {\n            var sourceElem = tListBox.renderItems(listData, tListBox.fields);\n            tListBox.updateListItems(sourceElem, tListBox.ulElement);\n            this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        }\n        else {\n            tListBox.sortedData = listData;\n        }\n        fListBox.updateSelectedOptions();\n        if (fListBox.listData.length === 0) {\n            fListBox.l10nUpdate();\n        }\n    };\n    ListBox.prototype.changeData = function (fromIdx, toIdx, jsonToIdx, ele) {\n        var listData = [].slice.call(this.listData);\n        var jsonData = [].slice.call(this.jsonData);\n        var sortData = [].slice.call(this.sortedData);\n        var jsonIdx = Array.prototype.indexOf.call(this.jsonData, this.getDataByElems([ele])[0]);\n        var sortIdx = Array.prototype.indexOf.call(this.sortedData, this.getDataByElems([ele])[0]);\n        var liColl = [].slice.call(this.liCollections);\n        listData.splice(toIdx, 0, listData.splice(fromIdx, 1)[0]);\n        jsonData.splice(jsonToIdx, 0, jsonData.splice(jsonIdx, 1)[0]);\n        sortData.splice(toIdx, 0, sortData.splice(sortIdx, 1)[0]);\n        liColl.splice(toIdx, 0, liColl.splice(fromIdx, 1)[0]);\n        this.listData = listData;\n        this.jsonData = jsonData;\n        this.liCollections = liColl;\n        this.sortedData = sortData;\n    };\n    ListBox.prototype.getSelectedItems = function () {\n        var ele = [];\n        if (this.selectionSettings.showCheckbox) {\n            [].slice.call(this.ulElement.getElementsByClassName('e-check')).forEach(function (cbox) {\n                ele.push(closest(cbox, '.' + 'e-list-item'));\n            });\n        }\n        else {\n            ele = [].slice.call(this.ulElement.getElementsByClassName(cssClass.selected));\n        }\n        return ele;\n    };\n    ListBox.prototype.getScopedListBox = function () {\n        var _this = this;\n        var listObj;\n        if (this.scope) {\n            [].slice.call(document.querySelectorAll(this.scope)).forEach(function (ele) {\n                if (getComponent(ele, _this.getModuleName())) {\n                    listObj = getComponent(ele, _this.getModuleName());\n                }\n            });\n        }\n        return listObj;\n    };\n    ListBox.prototype.getGrabbedItems = function (args) {\n        var grabbItems = false;\n        for (var i = 0; i < this.value.length; i++) {\n            if (this.value[i] === this.getFormattedValue(args.target.getAttribute('data-value'))) {\n                grabbItems = true;\n                break;\n            }\n        }\n        if (grabbItems) {\n            for (var i = 0; i < this.value.length; i++) {\n                var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n                for (var j = 0; j < liColl.length; j++) {\n                    if (this.value[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n                        liColl[j].classList.add('e-grabbed');\n                    }\n                }\n            }\n        }\n        var elems;\n        if (this.isAngular) {\n            elems = Array.prototype.slice.call(this.element.getElementsByClassName('e-list-parent')[0].querySelectorAll('.e-grabbed'));\n        }\n        else {\n            elems = Array.prototype.slice.call(this.element.nextElementSibling.querySelectorAll('.e-grabbed'));\n        }\n        return elems;\n    };\n    ListBox.prototype.getDragArgs = function (args, isDragEnd) {\n        var elems = this.getGrabbedItems(args);\n        if (elems.length) {\n            if (isDragEnd) {\n                elems.push(args.target);\n            }\n        }\n        else {\n            elems = [args.target];\n        }\n        return { elements: elems, items: this.getDataByElems(elems) };\n    };\n    ListBox.prototype.onKeyDown = function (e) {\n        this.keyDownHandler(e);\n        e.stopPropagation();\n    };\n    ListBox.prototype.keyDownHandler = function (e) {\n        if ([32, 35, 36, 37, 38, 39, 40, 65].indexOf(e.keyCode) > -1 && (!this.allowFiltering ||\n            (this.allowFiltering && e.target !== this.filterInput))) {\n            if (e.target && e.target.className.indexOf('e-edit-template') > -1) {\n                return;\n            }\n            e.preventDefault();\n            if (e.keyCode === 32 && this.ulElement.children.length) {\n                this.selectHandler({\n                    target: this.ulElement.getElementsByClassName('e-focused')[0],\n                    ctrlKey: e.ctrlKey, shiftKey: e.shiftKey\n                });\n            }\n            else if (e.keyCode === 65 && e.ctrlKey) {\n                this.selectAll();\n            }\n            else if ((e.keyCode === 38 || e.keyCode === 40) && e.ctrlKey && e.shiftKey) {\n                this.moveUpDown(e.keyCode === 38 ? true : false, true);\n            }\n            else if ((this.toolbarSettings.items.length || this.tBListBox) && (e.keyCode === 39 || e.keyCode === 37) && e.ctrlKey) {\n                var listObj = this.tBListBox || this.getScopedListBox();\n                if (e.keyCode === 39) {\n                    if (e.shiftKey) {\n                        this.moveAllData(this, listObj, true);\n                    }\n                    else {\n                        this.moveData(this, listObj, true);\n                    }\n                }\n                else {\n                    if (e.shiftKey) {\n                        this.moveAllData(listObj, this, true);\n                    }\n                    else {\n                        this.moveData(listObj, this, true);\n                    }\n                }\n            }\n            else if (e.keyCode !== 37 && e.keyCode !== 39 && e.code !== 'KeyA') {\n                this.upDownKeyHandler(e);\n            }\n        }\n        else if (this.allowFiltering) {\n            if (e.keyCode === 40 || e.keyCode === 38) {\n                this.upDownKeyHandler(e);\n            }\n        }\n    };\n    ListBox.prototype.upDownKeyHandler = function (e) {\n        var ul = this.ulElement;\n        var defaultIdx = (e.keyCode === 40 || e.keyCode === 36) ? 0 : ul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = ul.getElementsByClassName('e-focused')[0] || ul.getElementsByClassName(cssClass.selected)[0];\n        if (fli) {\n            if (e.keyCode !== 35 && e.keyCode !== 36) {\n                fliIdx = Array.prototype.indexOf.call(ul.children, fli);\n                if (e.keyCode === 40) {\n                    fliIdx++;\n                }\n                else {\n                    fliIdx--;\n                }\n                if (fliIdx < 0 || fliIdx > ul.childElementCount - 1) {\n                    return;\n                }\n            }\n            removeClass([fli], 'e-focused');\n        }\n        var cli = ul.children[fliIdx];\n        if (cli) {\n            fliIdx = this.getValidIndex(cli, fliIdx, e.keyCode);\n            if (fliIdx === -1) {\n                addClass([fli], 'e-focused');\n                return;\n            }\n            ul.children[fliIdx].focus();\n            ul.children[fliIdx].classList.add('e-focused');\n            if (!e.ctrlKey || !this.selectionSettings.showCheckbox && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n                this.selectHandler({ target: ul.children[fliIdx], ctrlKey: e.ctrlKey, shiftKey: e.shiftKey }, true);\n            }\n            if (this.selectionSettings.showCheckbox && e.ctrlKey && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n                var selectedidx = Array.prototype.indexOf.call(ul.children, fli);\n                var sidx = e.code === 'Home' ? 0 : selectedidx;\n                var eidx = e.code === 'Home' ? selectedidx : ul.children.length - 1;\n                for (var i = sidx; i <= eidx; i++) {\n                    var item = ul.children[i];\n                    this.notify('updatelist', { li: item, e: {\n                            target: this.ulElement.getElementsByClassName('e-focused')[0],\n                            ctrlKey: e.ctrlKey, shiftKey: e.shiftKey\n                        }, module: 'listbox' });\n                }\n            }\n        }\n    };\n    ListBox.prototype.KeyUp = function (e) {\n        var _this = this;\n        if (this.allowFiltering && e.ctrlKey && e.keyCode === 65) {\n            e.preventDefault();\n            return;\n        }\n        var char = String.fromCharCode(e.keyCode);\n        var isWordCharacter = char.match(/\\w/);\n        if (!isNullOrUndefined(isWordCharacter)) {\n            this.isValidKey = true;\n        }\n        this.isValidKey = (e.keyCode === 8) || (e.keyCode === 46) || this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            switch (e.keyCode) {\n                default:\n                    if (this.allowFiltering) {\n                        var eventArgsData_1 = {\n                            preventDefaultAction: false,\n                            text: this.targetElement(),\n                            updateData: function (dataSource, query, fields) {\n                                if (eventArgsData_1.cancel) {\n                                    return;\n                                }\n                                _this.isFiltered = true;\n                                _this.remoteFilterAction = true;\n                                _this.dataUpdater(dataSource, query, fields);\n                            },\n                            event: e,\n                            cancel: false\n                        };\n                        this.trigger('filtering', eventArgsData_1, function (args) {\n                            _this.isDataFetched = false;\n                            if (args.cancel || (_this.filterInput.value !== '' && _this.isFiltered)) {\n                                return;\n                            }\n                            if (!args.cancel && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                                _this.inputString = _this.filterInput.value;\n                                _this.filteringAction(_this.jsonData, new Query(), _this.fields);\n                            }\n                            if (!_this.isFiltered && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                                _this.dataUpdater(_this.jsonData, new Query(), _this.fields);\n                            }\n                        });\n                    }\n            }\n        }\n    };\n    /**\n     * To filter the data from given data source by using query.\n     *\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}.\n     */\n    ListBox.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFiltering = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    ListBox.prototype.filteringAction = function (dataSource, query, fields) {\n        this.resetList(dataSource, fields, query);\n    };\n    ListBox.prototype.targetElement = function () {\n        this.targetInputElement = this.list.getElementsByClassName('e-input-filter')[0];\n        return this.targetInputElement.value;\n    };\n    ListBox.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        var backCommand = true;\n        if (this.targetElement().trim() === '') {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (backCommand) {\n                this.remoteCustomValue = false;\n                if (this.isAngular && this.itemTemplate) {\n                    list = this.renderItems(this.listData, fields);\n                }\n                this.onActionComplete(list, this.jsonData);\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.selectionSettings.showCheckbox, e: this });\n            }\n        }\n        else {\n            this.resetList(dataSource, fields, query);\n        }\n    };\n    ListBox.prototype.focusOutHandler = function () {\n        var ele = this.list.getElementsByClassName('e-focused')[0];\n        if (ele) {\n            ele.classList.remove('e-focused');\n        }\n        if (this.allowFiltering) {\n            this.refreshClearIcon();\n        }\n    };\n    ListBox.prototype.getValidIndex = function (cli, index, keyCode) {\n        var cul = this.ulElement;\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            if (keyCode === 40 || keyCode === 36) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n        if (index < 0 || index === cul.childElementCount) {\n            return -1;\n        }\n        cli = cul.childNodes[index];\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            index = this.getValidIndex(cli, index, keyCode);\n        }\n        return index;\n    };\n    ListBox.prototype.updateSelectedOptions = function () {\n        var _this = this;\n        var selectedOptions = [];\n        var values = [];\n        extend(values, this.value);\n        this.getSelectedItems().forEach(function (ele) {\n            if (!ele.classList.contains('e-grabbed')) {\n                selectedOptions.push(_this.getFormattedValue(ele.getAttribute('data-value')));\n            }\n        });\n        if (this.mainList.childElementCount === this.ulElement.childElementCount) {\n            if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n                for (var i = 0; i < selectedOptions.length; i++) {\n                    if (values.indexOf(selectedOptions[i]) > -1) {\n                        continue;\n                    }\n                    else {\n                        values.push(selectedOptions[i]);\n                    }\n                }\n                this.setProperties({ value: values }, true);\n            }\n            else {\n                this.setProperties({ value: selectedOptions }, true);\n            }\n        }\n        this.updateSelectTag();\n        this.updateToolBarState();\n        if (this.tBListBox) {\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.clearSelection = function (values) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (this.selectionSettings.showCheckbox) {\n            var dvalue_1;\n            this.getSelectedItems().forEach(function (li) {\n                dvalue_1 = _this.getFormattedValue(li.getAttribute('data-value'));\n                if (values.indexOf(dvalue_1) < 0) {\n                    li.getElementsByClassName('e-check')[0].classList.remove('e-check');\n                    li.removeAttribute('aria-selected');\n                }\n            });\n        }\n    };\n    ListBox.prototype.setSelection = function (values, isSelect, isText, canFocus) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (isSelect === void 0) { isSelect = true; }\n        if (isText === void 0) { isText = false; }\n        if (canFocus === void 0) { canFocus = true; }\n        var li;\n        var liselect;\n        if (values) {\n            values.forEach(function (value) {\n                var text;\n                if (isText) {\n                    text = _this.getValueByText(value);\n                }\n                else {\n                    text = value;\n                }\n                if (typeof (text) === 'string') {\n                    text = text.split('\\\\').join('\\\\\\\\');\n                    li = _this.list.querySelector('[data-value=\"' + text.replace(/\"/g, '\\\\\"') + '\"]');\n                }\n                else {\n                    li = _this.list.querySelector('[data-value=\"' + text + '\"]');\n                }\n                if (li) {\n                    if (_this.selectionSettings.showCheckbox) {\n                        liselect = li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n                    }\n                    else {\n                        liselect = li.classList.contains('e-selected');\n                    }\n                    if (!isSelect && liselect || isSelect && !liselect && li) {\n                        if (_this.selectionSettings.showCheckbox) {\n                            _this.notify('updatelist', { li: li, module: 'listbox' });\n                            if (canFocus) {\n                                li.focus();\n                            }\n                        }\n                        else {\n                            if (isSelect) {\n                                li.classList.add(cssClass.selected);\n                                li.setAttribute('aria-selected', 'true');\n                                if (canFocus) {\n                                    li.focus();\n                                }\n                            }\n                            else {\n                                li.classList.remove(cssClass.selected);\n                                li.removeAttribute('aria-selected');\n                            }\n                        }\n                    }\n                }\n            });\n        }\n        this.updateSelectTag();\n    };\n    ListBox.prototype.updateSelectTag = function () {\n        var ele = this.getSelectTag();\n        var innerHTML = '';\n        ele.innerHTML = '';\n        if (this.value) {\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                innerHTML += '<option selected>' + this.value[i] + '</option>';\n            }\n            ele.innerHTML += innerHTML;\n            for (var i = 0, len = ele.childNodes.length; i < len; i++) {\n                ele.childNodes[i].setAttribute('value', this.value[i].toString());\n            }\n        }\n        this.checkSelectAll();\n    };\n    ListBox.prototype.checkDisabledState = function (inst) {\n        return inst.ulElement.querySelectorAll('.' + cssClass.li).length === 0;\n    };\n    ListBox.prototype.updateToolBarState = function () {\n        var _this = this;\n        if (this.toolbarSettings.items.length) {\n            var listObj_1 = this.getScopedListBox();\n            var wrap_1 = this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n            this.toolbarSettings.items.forEach(function (value) {\n                var btn = wrap_1.querySelector('[data-value=\"' + value + '\"]');\n                switch (value) {\n                    case 'moveAllTo':\n                        btn.disabled = _this.checkDisabledState(_this);\n                        break;\n                    case 'moveAllFrom':\n                        btn.disabled = _this.checkDisabledState(listObj_1);\n                        break;\n                    case 'moveFrom':\n                        btn.disabled = listObj_1.value && listObj_1.value.length ? false : true;\n                        break;\n                    case 'moveUp':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[0]) ? false : true;\n                        break;\n                    case 'moveDown':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[_this.ulElement.childElementCount - 1]) ? false : true;\n                        break;\n                    default:\n                        btn.disabled = _this.value && _this.value.length ? false : true;\n                        break;\n                }\n            });\n        }\n    };\n    ListBox.prototype.setCheckboxPosition = function () {\n        var listWrap = this.list;\n        if (!this.initLoad && this.selectionSettings.checkboxPosition === 'Left') {\n            listWrap.classList.remove('e-right');\n        }\n        if (this.selectionSettings.checkboxPosition === 'Right') {\n            listWrap.classList.add('e-right');\n        }\n    };\n    ListBox.prototype.showCheckbox = function (showCheckbox) {\n        var index = 0;\n        var liColl = this.list.lastElementChild.querySelectorAll('li');\n        var liCollLen = this.list.lastElementChild.getElementsByClassName('e-list-item').length;\n        if (showCheckbox) {\n            this.ulElement = this.renderItems(this.listData, this.fields);\n            this.mainList = this.ulElement;\n            this.list.removeChild(this.list.getElementsByTagName('ul')[0]);\n            this.list.appendChild(this.ulElement);\n            if (this.selectionSettings.showSelectAll && !this.list.getElementsByClassName('e-selectall-parent')[0]) {\n                var l10nShow = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                this.showSelectAll = true;\n                this.selectAllText = l10nShow.getConstant('selectAllText');\n                this.unSelectAllText = l10nShow.getConstant('unSelectAllText');\n                this.popupWrapper = this.list;\n                this.checkBoxSelectionModule.checkAllParent = null;\n                this.notify('selectAll', {});\n                this.checkSelectAll();\n            }\n        }\n        else {\n            if (this.list.getElementsByClassName('e-selectall-parent')[0]) {\n                this.list.removeChild(this.list.getElementsByClassName('e-selectall-parent')[0]);\n            }\n            for (index; index < liCollLen; index++) {\n                if (liColl[index].classList.contains('e-list-item')) {\n                    liColl[index].removeChild(liColl[index].getElementsByClassName('e-checkbox-wrapper')[0]);\n                }\n                if (liColl[index].hasAttribute('aria-selected')) {\n                    liColl[index].removeAttribute('aria-selected');\n                }\n            }\n            this.mainList = this.ulElement;\n        }\n        this.value = [];\n    };\n    ListBox.prototype.isSelected = function (ele) {\n        if (!isNullOrUndefined(ele)) {\n            return ele.classList.contains(cssClass.selected) || ele.querySelector('.e-check') !== null;\n        }\n        else {\n            return false;\n        }\n    };\n    ListBox.prototype.getSelectTag = function () {\n        return this.list.getElementsByClassName('e-hidden-select')[0];\n    };\n    ListBox.prototype.getToolElem = function () {\n        return this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n    };\n    ListBox.prototype.formResetHandler = function () {\n        this.value = this.initialSelectedOptions;\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - Module name\n     */\n    ListBox.prototype.getModuleName = function () {\n        return 'listbox';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    ListBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ListBox.prototype.getLocaleName = function () {\n        return 'listbox';\n    };\n    ListBox.prototype.destroy = function () {\n        this.unwireEvents();\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.innerHTML = '';\n        }\n        else {\n            this.element.style.display = 'inline-block';\n            if (this.toolbarSettings.items.length) {\n                this.list.parentElement.parentElement.insertBefore(this.list, this.list.parentElement);\n                detach(this.list.nextElementSibling);\n            }\n            this.list.parentElement.insertBefore(this.element, this.list);\n        }\n        _super.prototype.destroy.call(this);\n        this.enableRtlElements = [];\n        this.liCollections = null;\n        this.list = null;\n        this.ulElement = null;\n        this.mainList = null;\n        this.spinner = null;\n        this.rippleFun = null;\n        if (this.itemTemplate) {\n            this.clearTemplate();\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {ListBoxModel} newProp - Specifies the new properties.\n     * @param {ListBoxModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     * @private\n     */\n    ListBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrap], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrap], newProp.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.list.classList.add('e-rtl');\n                    }\n                    else {\n                        this.list.classList.remove('e-rtl');\n                    }\n                    break;\n                case 'value':\n                    removeClass(this.list.querySelectorAll('.' + cssClass.selected), cssClass.selected);\n                    this.clearSelection(this.value);\n                    this.setSelection();\n                    break;\n                case 'height':\n                    this.setHeight();\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'allowDragAndDrop':\n                    if (newProp.allowDragAndDrop) {\n                        this.initDraggable();\n                    }\n                    else {\n                        getComponent(this.ulElement, 'sortable').destroy();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this.allowFiltering) {\n                        this.setFiltering();\n                    }\n                    else {\n                        this.list.removeChild(this.list.getElementsByClassName('e-filter-parent')[0]);\n                        this.filterParent = null;\n                        removeClass([this.list], 'e-filter-list');\n                    }\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.allowFiltering) {\n                        if (this.filterInput) {\n                            Input.setPlaceholder(newProp.filterBarPlaceholder, this.filterInput);\n                        }\n                    }\n                    break;\n                case 'scope':\n                    if (this.allowDragAndDrop) {\n                        getComponent(this.ulElement, 'sortable').scope = newProp.scope;\n                    }\n                    if (this.toolbarSettings.items.length) {\n                        if (oldProp.scope) {\n                            getComponent(document.querySelector(oldProp.scope), this.getModuleName())\n                                .tBListBox = null;\n                        }\n                        if (newProp.scope) {\n                            getComponent(document.querySelector(newProp.scope), this.getModuleName())\n                                .tBListBox = this;\n                        }\n                    }\n                    break;\n                case 'toolbarSettings': {\n                    var ele = void 0;\n                    var pos = newProp.toolbarSettings.position;\n                    var toolElem = this.getToolElem();\n                    if (pos) {\n                        removeClass([wrap], ['e-right', 'e-left']);\n                        wrap.classList.add('e-' + pos.toLowerCase());\n                        if (pos === 'Left') {\n                            wrap.insertBefore(toolElem, this.list);\n                        }\n                        else {\n                            wrap.appendChild(toolElem);\n                        }\n                    }\n                    if (newProp.toolbarSettings.items) {\n                        if (oldProp.toolbarSettings && oldProp.toolbarSettings.items.length) {\n                            ele = this.list.parentElement;\n                            ele.parentElement.insertBefore(this.list, ele);\n                            detach(ele);\n                        }\n                        this.initToolbarAndStyles();\n                        this.wireToolbarEvent();\n                    }\n                    break;\n                }\n                case 'selectionSettings': {\n                    var showSelectAll = newProp.selectionSettings.showSelectAll;\n                    var showCheckbox = newProp.selectionSettings.showCheckbox;\n                    if (!isNullOrUndefined(showSelectAll)) {\n                        this.showSelectAll = showSelectAll;\n                        if (this.showSelectAll) {\n                            var l10nSel = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                            this.checkBoxSelectionModule.checkAllParent = null;\n                            this.showSelectAll = true;\n                            this.selectAllText = l10nSel.getConstant('selectAllText');\n                            this.unSelectAllText = l10nSel.getConstant('selectAllText');\n                            this.popupWrapper = this.list;\n                        }\n                        this.notify('selectAll', {});\n                        this.checkSelectAll();\n                    }\n                    if (!isNullOrUndefined(showCheckbox)) {\n                        this.showCheckbox(showCheckbox);\n                    }\n                    if (this.selectionSettings.showCheckbox) {\n                        this.setCheckboxPosition();\n                    }\n                    break;\n                }\n                case 'dataSource':\n                    this.isDataSourceUpdate = true;\n                    this.jsonData = [].slice.call(this.dataSource);\n                    break;\n            }\n        }\n    };\n    var ListBox_1;\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property([])\n    ], ListBox.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"height\", void 0);\n    __decorate([\n        Property(true)\n    ], ListBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(1000)\n    ], ListBox.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"scope\", void 0);\n    __decorate([\n        Property(true)\n    ], ListBox.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(null)\n    ], ListBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property('None')\n    ], ListBox.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"beforeDrop\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"dataBound\", void 0);\n    __decorate([\n        Property(null)\n    ], ListBox.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], ListBox.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property(1000)\n    ], ListBox.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Complex({}, ToolbarSettings)\n    ], ListBox.prototype, \"toolbarSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], ListBox.prototype, \"selectionSettings\", void 0);\n    ListBox = ListBox_1 = __decorate([\n        NotifyPropertyChanges\n    ], ListBox);\n    return ListBox;\n}(DropDownBase));\nexport { ListBox };\nvar listBoxClasses = {\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    clearIcon: 'e-clear-icon'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { compile, Property, EventHandler, Animation, formatUnit, append, attributes } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, detach, Event, Complex, addClass, removeClass, closest, isUndefined, getValue, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner, getZindexPartial } from '@syncfusion/ej2-popups';\nimport { highlightSearch, revertHighlightSearch } from '../common/highlight-search';\n/**\n * The Mention component is used to list someone or something based on user input in textarea, input,\n * or any other editable element from which the user can select.\n */\nvar Mention = /** @class */ (function (_super) {\n    __extends(Mention, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {MentionModel} options - Specifies the MentionComponent model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Mention(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {MentionModel} newProp - Returns the dynamic property value of the component.\n     * @param {MentionModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Mention.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'minLength':\n                    this.minLength = newProp.minLength;\n                    break;\n                case 'suffixText':\n                    this.suffixText = newProp.suffixText;\n                    break;\n                case 'allowSpaces':\n                    this.allowSpaces = newProp.allowSpaces;\n                    break;\n                case 'mentionChar':\n                    this.mentionChar = newProp.mentionChar;\n                    break;\n                case 'showMentionChar':\n                    this.showMentionChar = newProp.showMentionChar;\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n            }\n        }\n    };\n    Mention.prototype.updateCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.setCssClass(newClass, [this.inputElement], oldClass);\n        if (this.popupObj) {\n            this.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    Mention.prototype.setCssClass = function (cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass.split(' '));\n        }\n    };\n    Mention.prototype.initializeData = function () {\n        this.isSelected = false;\n        this.isFiltered = false;\n        this.beforePopupOpen = false;\n        this.initRemoteRender = false;\n        this.isListResetted = false;\n        this.isPopupOpen = false;\n        this.isCollided = false;\n        this.lineBreak = false;\n        this.isRTE = false;\n        this.keyEventName = 'mousedown';\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.preRender = function () {\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.render = function () {\n        var isSelector = typeof this.target === 'string';\n        this.inputElement = !isNullOrUndefined(this.target) ?\n            this.checkAndUpdateInternalComponent(isSelector\n                ? document.querySelector(this.target)\n                : this.target) : this.element;\n        if (this.isContentEditable(this.inputElement)) {\n            this.inputElement.setAttribute('contenteditable', 'true');\n            addClass([this.inputElement], ['e-mention']);\n            if (isNullOrUndefined(this.target)) {\n                addClass([this.inputElement], ['e-editable-element']);\n            }\n        }\n        this.inputElement.setAttribute('role', 'textbox');\n        this.inputElement.setAttribute('aria-label', 'mention');\n        this.queryString = this.elementValue();\n        this.wireEvent();\n    };\n    Mention.prototype.wireEvent = function () {\n        EventHandler.add(this.inputElement, 'keyup', this.onKeyUp, this);\n        this.bindCommonEvent();\n    };\n    Mention.prototype.unWireEvent = function () {\n        EventHandler.remove(this.inputElement, 'keyup', this.onKeyUp);\n        this.unBindCommonEvent();\n    };\n    Mention.prototype.bindCommonEvent = function () {\n        if (!Browser.isDevice) {\n            this.inputElement.addEventListener('keydown', this.keyDownHandler.bind(this), !this.isRTE);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.hideSpinner = function () {\n        this.hideWaitingSpinner();\n    };\n    Mention.prototype.hideWaitingSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n        }\n        if (!isNullOrUndefined(this.spinnerTemplate) && !isNullOrUndefined(this.spinnerTemplateElement)) {\n            detach(this.spinnerTemplateElement);\n        }\n    };\n    Mention.prototype.checkAndUpdateInternalComponent = function (targetElement) {\n        if (!this.isVue && targetElement.classList.contains('e-richtexteditor')) {\n            return targetElement.querySelector('.e-content');\n        }\n        if (this.isVue && targetElement.nodeName === 'TEXTAREA' && targetElement.classList.contains('e-rte-hidden')) {\n            var parentElement = targetElement.parentElement;\n            if (parentElement && parentElement.classList.contains('e-richtexteditor')) {\n                return parentElement.querySelector('.e-content');\n            }\n        }\n        if (targetElement && targetElement.parentElement && targetElement.parentElement.classList.contains('e-rte-content')) {\n            this.isRTE = true;\n            this.keyEventName = 'click';\n        }\n        return targetElement;\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.showWaitingSpinner = function () {\n        if (!isNullOrUndefined(this.popupObj)) {\n            if (isNullOrUndefined(this.spinnerTemplate) && isNullOrUndefined(this.spinnerElement)) {\n                this.spinnerElement = this.popupObj.element;\n                createSpinner({\n                    target: this.spinnerElement,\n                    width: Browser.isDevice ? '16px' : '14px'\n                }, this.createElement);\n                showSpinner(this.spinnerElement);\n            }\n            if (!isNullOrUndefined(this.spinnerTemplate)) {\n                this.setSpinnerTemplate();\n            }\n        }\n    };\n    Mention.prototype.keyDownHandler = function (e) {\n        var isKeyAction = true;\n        switch (e.keyCode) {\n            case 38:\n                e.action = e.altKey ? 'hide' : 'up';\n                break;\n            case 40:\n                e.action = e.altKey ? 'open' : 'down';\n                break;\n            case 33:\n                e.action = 'pageUp';\n                break;\n            case 34:\n                e.action = 'pageDown';\n                break;\n            case 36:\n                e.action = 'home';\n                break;\n            case 35:\n                e.action = 'end';\n                break;\n            case 9:\n                e.action = e.shiftKey ? 'close' : 'tab';\n                break;\n            case 27:\n                e.action = 'escape';\n                break;\n            case 32:\n                e.action = 'space';\n                break;\n            case 13:\n                e.action = 'enter';\n                break;\n            default:\n                isKeyAction = false;\n                break;\n        }\n        if (isKeyAction) {\n            this.keyActionHandler(e);\n        }\n    };\n    Mention.prototype.keyActionHandler = function (e) {\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        var isTabAction = e.action === 'tab' || e.action === 'close';\n        if (this.list === undefined && !this.isRequested && !isTabAction && e.action !== 'escape' && e.action !== 'space') {\n            this.renderList();\n        }\n        if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n            isNavigation && this.liCollections.length === 0) || this.isRequested) {\n            return;\n        }\n        if (e.action === 'escape') {\n            e.preventDefault();\n        }\n        this.isSelected = e.action === 'escape' ? false : this.isSelected;\n        switch (e.action) {\n            case 'down':\n            case 'up':\n                this.isUpDownKey = true;\n                this.updateUpDownAction(e);\n                break;\n            case 'tab':\n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                    var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n                    if (li) {\n                        this.setSelection(li, e);\n                    }\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                    }\n                }\n                break;\n            case 'enter':\n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                    if (this.popupObj && this.popupObj.element.contains(this.selectedLI)) {\n                        this.updateSelectedItem(this.selectedLI, e, false, true);\n                    }\n                }\n                break;\n            case 'escape':\n                if (this.isPopupOpen) {\n                    this.hidePopup(e);\n                }\n                break;\n        }\n    };\n    Mention.prototype.updateUpDownAction = function (e) {\n        var focusEle = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (this.isSelectFocusItem(focusEle)) {\n            this.setSelection(focusEle, e);\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n            if (!isNullOrUndefined(li)) {\n                var value = this.getFormattedValue(li.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n            }\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            var startIndex = 0;\n            startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n            index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            var nextItem = isNullOrUndefined(this.activeIndex) ?\n                this.liCollections[startIndex] : this.liCollections[index];\n            if (!isNullOrUndefined(nextItem)) {\n                this.setSelection(nextItem, e);\n            }\n        }\n        if (this.isPopupOpen) {\n            e.preventDefault();\n        }\n    };\n    Mention.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    Mention.prototype.unBindCommonEvent = function () {\n        if (!Browser.isDevice) {\n            this.inputElement.removeEventListener('keydown', this.keyDownHandler.bind(this), !this.isRTE);\n        }\n    };\n    Mention.prototype.onKeyUp = function (e) {\n        var rangetextContent;\n        if (this.isUpDownKey && this.isPopupOpen && e.keyCode === 229) {\n            this.isUpDownKey = false;\n            return;\n        }\n        this.isTyped = e.code !== 'Enter' && e.code !== 'Space' && e.code !== 'ArrowDown' && e.code !== 'ArrowUp' ? true : false;\n        var isRteImage = document.activeElement.parentElement && document.activeElement.parentElement.querySelector('.e-rte-image') ? true : false;\n        if (document.activeElement != this.inputElement && isRteImage) {\n            this.inputElement.focus();\n        }\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n            rangetextContent = this.range.startContainer.textContent.split('');\n        }\n        var currentRange = this.getTextRange();\n        var lastWordRange = this.getLastLetter(currentRange);\n        var lastTwoLetters = this.mentionChar.toString() + this.mentionChar.toString();\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        var Regex = new RegExp(this.mentionChar.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), 'g');\n        var charRegex = new RegExp('[a-zA-Z]', 'g');\n        if (e.key === 'Shift' || e.keyCode === 37 || e.keyCode === 39) {\n            return;\n        }\n        if (this.beforePopupOpen && this.isPopupOpen && lastWordRange == lastTwoLetters) {\n            this.hidePopup();\n            return;\n        }\n        if ((!currentRange || !lastWordRange) || e.code === 'Enter' || e.keyCode === 27 ||\n            (lastWordRange.match(Regex) && lastWordRange.match(Regex).length > 1) ||\n            (this.isContentEditable(this.inputElement) && this.range.startContainer &&\n                this.range.startContainer.previousElementSibling && this.range.startContainer.previousElementSibling.tagName !== 'BR' && this.range.startContainer.textContent.split('').length > 0 &&\n                (rangetextContent.length === 1 || rangetextContent[rangetextContent.length - 2].indexOf('') === -1 ||\n                    this.range.startContainer.nodeType === 1))) {\n            if (this.isPopupOpen && this.allowSpaces && currentRange && currentRange.trim() !== '' && charRegex.test(currentRange) && currentRange.indexOf(this.mentionChar) !== -1\n                && !this.isMatchedText() && (currentRange.length > 1 && currentRange.replace(/\\u00A0/g, ' ').charAt(currentRange.length - 2) !== ' ') &&\n                (this.list && this.list.querySelectorAll('ul').length > 0) && e.code !== 'Enter') {\n                this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n                this.searchLists(e);\n            }\n            else if (this.isPopupOpen && (!this.allowSpaces || !lastWordRange) && (e.code !== 'ArrowDown' && e.code !== 'ArrowUp')) {\n                this.hidePopup();\n                this.lineBreak = true;\n            }\n            return;\n        }\n        if (lastWordRange.includes(this.mentionChar)) {\n            this.queryString = lastWordRange.replace(this.mentionChar, '');\n        }\n        if (this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0) &&\n            this.queryString !== '' && e.keyCode !== 38 && e.keyCode !== 40 && !this.lineBreak) {\n            this.searchLists(e);\n            if (!this.isPopupOpen && this.queryString.length >= this.minLength) {\n                if (!this.isContentEditable(this.inputElement)) {\n                    this.showPopup();\n                }\n                else if (this.isContentEditable(this.inputElement) && this.range && this.range.startContainer !== this.inputElement && e.keyCode !== 9) {\n                    this.showPopup();\n                }\n            }\n        }\n        else if (lastWordRange.indexOf(this.mentionChar) === 0 && !this.isPopupOpen && e.keyCode !== 8 && (!this.popupObj ||\n            (isNullOrUndefined(this.target) && !document.body.contains(this.popupObj.element) ||\n                !isNullOrUndefined(this.target) && document.body.contains(this.popupObj.element)))) {\n            if (this.initRemoteRender && this.list && this.list.classList.contains('e-nodata')) {\n                this.searchLists(e);\n            }\n            this.resetList(this.dataSource, this.fields);\n            if (isNullOrUndefined(this.list)) {\n                this.initValue();\n            }\n            if (!this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40 && this.queryString.length >= this.minLength) {\n                this.didPopupOpenByTypingInitialChar = true;\n                this.showPopup();\n                if (this.initRemoteRender && this.list.querySelectorAll('li').length === 0) {\n                    this.showWaitingSpinner();\n                }\n                this.lineBreak = false;\n            }\n        }\n        else if (this.allowSpaces && this.queryString !== '' && currentRange && currentRange.trim() !== '' && currentRange.replace('\\u00a0', ' ').lastIndexOf(' ') < currentRange.length - 1 &&\n            e.keyCode !== 38 && e.keyCode !== 40 && e.keyCode !== 8 && (this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0) || (this.liCollections && this.liCollections.length > 0))) {\n            this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n            this.searchLists(e);\n        }\n        else if (this.queryString === '' && this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40 && this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0)) {\n            this.searchLists(e);\n            if (!this.isListResetted) {\n                this.resetList(this.dataSource, this.fields);\n            }\n        }\n        this.isListResetted = false;\n    };\n    Mention.prototype.isMatchedText = function () {\n        var isMatched = false;\n        for (var i = 0; i < (this.liCollections && this.liCollections.length); i++) {\n            if (this.getTextRange() &&\n                this.getTextRange().substring(this.getTextRange().lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ').trim() === this.liCollections[i].getAttribute('data-value').toLowerCase()) {\n                isMatched = true;\n            }\n        }\n        return isMatched;\n    };\n    Mention.prototype.getCurrentRange = function () {\n        this.range = this.inputElement.ownerDocument.getSelection().getRangeAt(0);\n        return this.range;\n    };\n    Mention.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isDataFetched = false;\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.render.call(this);\n            this.unWireListEvents();\n            this.wireListEvents();\n        }\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.queryString,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this.isFiltered = true;\n                _this.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this.isFiltered && !eventArgs.preventDefaultAction) {\n                _this.filterAction(_this.dataSource, null, _this.fields);\n            }\n        });\n    };\n    Mention.prototype.filterAction = function (dataSource, query, fields) {\n        this.beforePopupOpen = true;\n        if (this.queryString.length >= this.minLength) {\n            this.resetList(dataSource, fields, query);\n            this.isListResetted = true;\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            this.beforePopupOpen = false;\n        }\n        this.setDataIndex();\n        this.renderReactTemplates();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Mention.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isActive) {\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.inputElement.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n            }\n            var focusItem = ulElement.querySelector('.' + dropDownBaseClasses.li);\n            if (focusItem) {\n                focusItem.classList.add(dropDownBaseClasses.selected);\n                this.selectedLI = focusItem;\n                var value = this.getFormattedValue(focusItem.getAttribute('data-value'));\n                this.selectEventCallback(focusItem, this.getDataByValue(value), value, true);\n            }\n            if (this.beforePopupOpen && this.isPopupOpen) {\n                if (!isNullOrUndefined(this.popupObj.element)) {\n                    this.popupObj.element.remove();\n                }\n                this.renderPopup();\n            }\n        }\n    };\n    Mention.prototype.setDataIndex = function () {\n        for (var i = 0; this.liCollections && i < this.liCollections.length; i++) {\n            this.liCollections[i].setAttribute('data-index', i.toString());\n        }\n    };\n    Mention.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    if (_this.inputElement.tagName === _this.getNgDirective() && _this.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                        }, 0);\n                    }\n                    else {\n                        highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n        return fields;\n    };\n    Mention.prototype.elementValue = function () {\n        if (!this.isContentEditable(this.inputElement)) {\n            return this.inputElement.value.replace(this.mentionChar, '');\n        }\n        else {\n            return this.inputElement.textContent.replace(this.mentionChar, '');\n        }\n    };\n    Mention.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var filterType = (this.queryString === '' && !isNullOrUndefined(this.elementValue())) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(this.elementValue())) ?\n            this.elementValue() : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.text) ? this.fields.text : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount)) {\n            // Since defualt value of suggestioncount is 25, checked the condition\n            if (this.suggestionCount !== 25) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        return filterQuery;\n    };\n    Mention.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n            }\n        }\n    };\n    Mention.prototype.getTextRange = function () {\n        var text;\n        if (!this.isContentEditable(this.inputElement)) {\n            var component = this.inputElement;\n            if (!isNullOrUndefined(component)) {\n                var startPos = component.selectionStart;\n                if (component.value && startPos >= 0) {\n                    text = component.value.substring(0, startPos);\n                }\n            }\n        }\n        else {\n            if (this.range) {\n                var selectedElem = this.range.startContainer;\n                if (!isNullOrUndefined(selectedElem)) {\n                    var workingNodeContent = selectedElem.textContent;\n                    var selectStartOffset = this.range.startOffset;\n                    if (workingNodeContent && selectStartOffset >= 0) {\n                        text = workingNodeContent.substring(0, selectStartOffset);\n                    }\n                }\n            }\n        }\n        return text;\n    };\n    Mention.prototype.getLastLetter = function (text) {\n        if (isNullOrUndefined(text)) {\n            return '';\n        }\n        var textValue = text.replace(/\\u00A0/g, ' ');\n        var words = textValue.split(/\\s+/);\n        var wordCnt = words.length - 1;\n        return words[wordCnt].trim();\n    };\n    Mention.prototype.isContentEditable = function (element) {\n        return element && element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA';\n    };\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.showPopup = function () {\n        this.beforePopupOpen = true;\n        if (document.activeElement != this.inputElement) {\n            this.inputElement.focus();\n        }\n        this.queryString = this.didPopupOpenByTypingInitialChar ? this.queryString : '';\n        this.didPopupOpenByTypingInitialChar = false;\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n        }\n        if (!this.isTyped) {\n            this.resetList(this.dataSource, this.fields);\n        }\n        if (isNullOrUndefined(this.list)) {\n            this.initValue();\n        }\n        this.renderPopup();\n        attributes(this.inputElement, { 'aria-activedescendant': this.selectedElementID });\n        if (this.selectedElementID == null) {\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.hidePopup = function (e) {\n        this.removeSelection();\n        this.closePopup(0, e);\n    };\n    Mention.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.inputElement.removeAttribute('aria-owns');\n        this.inputElement.removeAttribute('aria-activedescendant');\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel, event: e || null };\n        this.trigger('closed', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && _this.popupObj) {\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n    };\n    Mention.prototype.renderPopup = function () {\n        var _this = this;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle_1;\n                if (isNullOrUndefined(_this.target)) {\n                    popupEle_1 = _this.createElement('div', {\n                        id: _this.inputElement.id + '_popup', className: 'e-mention e-popup ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                }\n                else {\n                    popupEle_1 = _this.element;\n                    if (_this.cssClass != null) {\n                        addClass([popupEle_1], _this.cssClass.split(' '));\n                    }\n                }\n                if (!isNullOrUndefined(_this.target)) {\n                    popupEle_1.id = _this.inputElement.id + '_popup';\n                }\n                _this.listHeight = formatUnit(_this.popupHeight);\n                if (!isNullOrUndefined(_this.list.querySelector('li')) && !_this.initRemoteRender) {\n                    var li = _this.list.querySelector('.' + dropDownBaseClasses.focus);\n                    if (!isNullOrUndefined(li)) {\n                        _this.selectedLI = li;\n                        var value = _this.getFormattedValue(li.getAttribute('data-value'));\n                        _this.selectEventCallback(li, _this.getDataByValue(value), value, true);\n                    }\n                }\n                append([_this.list], popupEle_1);\n                if (_this.inputElement.parentElement && _this.inputElement.parentElement.parentElement &&\n                    _this.inputElement.parentElement.parentElement.classList.contains('e-richtexteditor')) {\n                    if (popupEle_1.firstElementChild && popupEle_1.firstElementChild.childElementCount > 0) {\n                        popupEle_1.firstElementChild.setAttribute('aria-owns', _this.inputElement.parentElement.parentElement.id);\n                        addClass([popupEle_1], 'e-rte-elements');\n                    }\n                }\n                if ((!_this.popupObj || !document.body.contains(_this.popupObj.element)) ||\n                    !document.contains(popupEle_1) && isNullOrUndefined(_this.target)) {\n                    document.body.appendChild(popupEle_1);\n                }\n                var coordinates_1;\n                popupEle_1.style.visibility = 'hidden';\n                _this.setHeight(popupEle_1);\n                var offsetValue = 0;\n                var left = 0;\n                _this.initializePopup(popupEle_1, offsetValue, left);\n                _this.checkCollision(popupEle_1);\n                popupEle_1.style.visibility = 'visible';\n                var popupLeft_1 = popupEle_1.parentElement.offsetWidth - popupEle_1.offsetWidth;\n                var popupHeight_1 = popupEle_1.offsetHeight;\n                addClass([popupEle_1], ['e-mention', 'e-popup', 'e-popup-close']);\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n                attributes(_this.inputElement, { 'aria-owns': _this.inputElement.id + '_options', 'aria-activedescendant': _this.selectedElementID });\n                if (_this.selectedElementID == null) {\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                }\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, cancel: false, animation: animModel };\n                _this.trigger('opened', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        _this.renderReactTemplates();\n                        if (_this.popupObj) {\n                            _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.inputElement : null);\n                        }\n                        if (isNullOrUndefined(_this.getTriggerCharPosition())) {\n                            return;\n                        }\n                        coordinates_1 = _this.getCoordinates(_this.inputElement, _this.getTriggerCharPosition());\n                        if (!_this.isCollided) {\n                            popupEle_1.style.cssText = 'top: '.concat(coordinates_1.top.toString(), 'px;\\n left: ').concat(coordinates_1.left.toString(), 'px;\\nposition: absolute;\\n display: block;');\n                        }\n                        else {\n                            if (_this.collision.length > 0 && _this.collision.indexOf('right') > -1 && _this.collision.indexOf('bottom') === -1) {\n                                popupEle_1.style.cssText = 'top: '.concat(coordinates_1.top.toString(), 'px;\\n left: ').concat(popupLeft_1.toString(), 'px;\\nposition: absolute;\\n display: block;');\n                            }\n                            else if (_this.collision && _this.collision.length > 0 && _this.collision.indexOf('bottom') > -1 && _this.collision.indexOf('right') === -1) {\n                                popupEle_1.style.left = formatUnit(coordinates_1.left);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(popupHeight_1.toString()));\n                            }\n                            else if (_this.collision && _this.collision.length > 0 && _this.collision.indexOf('bottom') > -1 && _this.collision.indexOf('right') > -1) {\n                                popupEle_1.style.left = formatUnit(popupLeft_1);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(popupHeight_1.toString()));\n                            }\n                            else {\n                                popupEle_1.style.left = formatUnit(coordinates_1.left);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(_this.popupHeight.toString()));\n                            }\n                            _this.isCollided = false;\n                            _this.collision = [];\n                        }\n                        popupEle_1.style.width = _this.popupWidth !== '100%' && !isNullOrUndefined(_this.popupWidth) ? formatUnit(_this.popupWidth) : 'auto';\n                        _this.setHeight(popupEle_1);\n                        popupEle_1.style.zIndex = _this.zIndex === 1000 ? getZindexPartial(popupEle_1).toString() : _this.zIndex.toString();\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    Mention.prototype.setHeight = function (popupEle) {\n        if (this.popupHeight !== 'auto' && this.list) {\n            this.list.style.maxHeight = (parseInt(this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n            popupEle.style.maxHeight = formatUnit(this.popupHeight);\n        }\n        else {\n            popupEle.style.height = 'auto';\n        }\n    };\n    Mention.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'mention'))) {\n            var coordinates = this.getCoordinates(this.inputElement, this.getTriggerCharPosition());\n            this.collision = isCollide(popupEle, null, coordinates.left, coordinates.top);\n            if (this.collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n                this.isCollided = true;\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    Mention.prototype.getTriggerCharPosition = function () {\n        var mostRecentTriggerCharPos;\n        var currentRange = this.getTextRange();\n        if (currentRange !== undefined && currentRange !== null) {\n            mostRecentTriggerCharPos = 0;\n            var idx = currentRange.lastIndexOf(this.mentionChar);\n            if (idx >= mostRecentTriggerCharPos) {\n                mostRecentTriggerCharPos = idx;\n            }\n        }\n        return mostRecentTriggerCharPos ? mostRecentTriggerCharPos : 0;\n    };\n    Mention.prototype.initializePopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputElement, collision: { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left, position: { X: 'left', Y: 'bottom' }, actionOnScroll: 'hide',\n            zIndex: this.zIndex,\n            close: function () {\n                _this.destroyPopup();\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                _this.setDataIndex();\n            }\n        });\n    };\n    Mention.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputElement.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    Mention.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.popupObj.destroy();\n        if (isNullOrUndefined(this.target)) {\n            detach(this.popupObj.element);\n        }\n        else {\n            this.popupObj.element.innerHTML = '';\n            this.popupObj.element.removeAttribute('style');\n            this.popupObj.element.removeAttribute('aria-disabled');\n        }\n        if (this.list.classList.contains('e-nodata')) {\n            this.list = null;\n        }\n    };\n    Mention.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, '#' + this.popupObj.element.id))) {\n            this.hidePopup(e);\n        }\n    };\n    Mention.prototype.getCoordinates = function (element, position) {\n        var properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX', 'overflowY', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing'];\n        var div;\n        var span;\n        var range;\n        var globalRange;\n        var coordinates;\n        var computed;\n        var rect;\n        if (!this.isContentEditable(this.inputElement)) {\n            div = this.createElement('div', { className: 'e-form-mirror-div' });\n            document.body.appendChild(div);\n            computed = getComputedStyle(element);\n            div.style.position = 'absolute';\n            div.style.visibility = 'hidden';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            properties.forEach(function (prop) {\n                // eslint-disable-next-line security/detect-object-injection\n                div.style[prop] = computed[prop];\n            });\n            div.textContent = element.value.substring(0, position);\n            if (this.inputElement.nodeName === 'INPUT') {\n                div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n            }\n            span = this.createElement('span');\n            span.textContent = element.value.substring(position) || '.';\n            div.appendChild(span);\n            rect = element.getBoundingClientRect();\n        }\n        else {\n            var selectedNodePosition = this.getTriggerCharPosition();\n            globalRange = this.range;\n            range = document.createRange();\n            if (this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n                range.setStart(globalRange.startContainer, selectedNodePosition);\n                range.setEnd(globalRange.startContainer, selectedNodePosition);\n            }\n            else {\n                range.setStart(globalRange.startContainer, globalRange.startOffset);\n                range.setEnd(globalRange.startContainer, globalRange.endOffset);\n            }\n            this.isTyped = false;\n            range.collapse(false);\n            rect = range.getBoundingClientRect().top === 0 ? range.startContainer.getClientRects()[0] : range.getBoundingClientRect();\n        }\n        var rectTop = rect.top;\n        var rectLeft = rect.left;\n        var iframes = document.querySelectorAll('iframe');\n        if (iframes.length > 0) {\n            for (var i = 0; i < iframes.length; i++) {\n                // eslint-disable-next-line security/detect-object-injection\n                var iframe = iframes[i];\n                if (iframe.contentDocument && iframe.contentDocument.contains(element)) {\n                    var iframeRect = iframe.getBoundingClientRect();\n                    rectTop += iframeRect.top;\n                    rectLeft += iframeRect.left;\n                }\n            }\n        }\n        var doc = document.documentElement;\n        var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n        var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n        var width = 0;\n        if (!isNullOrUndefined(range) && range.getBoundingClientRect().top === 0) {\n            for (var i = 0; i < this.range.startContainer.childNodes.length; i++) {\n                if (this.range.startContainer.childNodes[i].nodeType !== Node.TEXT_NODE && this.range.startContainer.childNodes[i].textContent.trim() !== '') {\n                    width += this.range.startContainer.childNodes[i].getClientRects()[0].width;\n                }\n                else if (this.range.startContainer.childNodes[i].textContent !== '') {\n                    var span_1 = document.createElement(\"span\");\n                    span_1.innerHTML = this.range.startContainer.childNodes[i].nodeValue;\n                    document.body.appendChild(span_1);\n                    var textNodeWidth = span_1.offsetWidth;\n                    document.body.removeChild(span_1);\n                    width += textNodeWidth;\n                }\n            }\n        }\n        if (!this.isContentEditable(this.inputElement)) {\n            coordinates = {\n                top: rectTop + windowTop + span.offsetTop + parseInt(computed.borderTopWidth, 10) +\n                    parseInt(computed.fontSize, 10) + 3 - element.scrollTop - (this.isCollided ? 10 : 0),\n                left: rectLeft + windowLeft + span.offsetLeft + parseInt(computed.borderLeftWidth, 10)\n            };\n            document.body.removeChild(div);\n        }\n        else {\n            if (this.collision && this.collision.length > 0 && this.collision.indexOf('right') > -1 && this.collision.indexOf('bottom') === -1) {\n                coordinates = {\n                    top: rectTop + windowTop + parseInt(getComputedStyle(this.inputElement).fontSize, 10),\n                    left: rectLeft + windowLeft + width\n                };\n            }\n            else {\n                coordinates = {\n                    top: rectTop + windowTop + parseInt(getComputedStyle(this.inputElement).fontSize, 10) - (this.isCollided ? 10 : 0),\n                    left: rectLeft + windowLeft + width\n                };\n            }\n        }\n        return coordinates;\n    };\n    Mention.prototype.initValue = function () {\n        this.isDataFetched = false;\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    Mention.prototype.updateValues = function () {\n        var li = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(li)) {\n            this.setSelection(li, null);\n        }\n    };\n    Mention.prototype.renderList = function () {\n        _super.prototype.render.call(this);\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    Mention.prototype.wireListEvents = function () {\n        EventHandler.add(this.list, this.keyEventName, this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.unWireListEvents = function () {\n        EventHandler.remove(this.list, this.keyEventName, this.onMouseClick);\n        EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    };\n    Mention.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.isSelected = true;\n        this.setSelection(li, e);\n        var delay = 100;\n        this.closePopup(delay, e);\n        this.inputElement.focus();\n        if (!this.isRTE) {\n            e.preventDefault();\n        }\n    };\n    Mention.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        var selectedData = this.getDataByValue(value);\n        if (!preventSelect && !isNullOrUndefined(e) && !(e.action === \"down\" || e.action === \"up\")) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                    _this.isSelected = false;\n                    _this.isSelectCancel = true;\n                }\n                else {\n                    _this.selectEventCallback(li, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    Mention.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n        }\n    };\n    Mention.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI)) {\n            this.setScrollPosition(e);\n        }\n        if (e && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        if (isNullOrUndefined(e) || this.setValue(e)) {\n            return;\n        }\n    };\n    Mention.prototype.setScrollPosition = function (e) {\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.scrollBottom();\n                    break;\n                default:\n                    this.scrollTop();\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n    };\n    Mention.prototype.scrollBottom = function (isInitial) {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset;\n            var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = nextOffset;\n            }\n        }\n    };\n    Mention.prototype.scrollTop = function () {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;\n            nextOffset = this.fields.groupBy && nextOffset;\n            var boxRange = (this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop);\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0) {\n                this.list.scrollTop = this.list.scrollTop + nextOffset;\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop;\n            }\n        }\n    };\n    Mention.prototype.selectEventCallback = function (li, selectedData, value, selectLi) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        if (selectLi) {\n            addClass([li], dropDownBaseClasses.selected);\n        }\n        li.setAttribute('aria-selected', 'true');\n        this.activeIndex = this.getIndexByValue(value);\n    };\n    Mention.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    Mention.prototype.setValue = function (e) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            if (!isNullOrUndefined(this.displayTemplate)) {\n                this.setDisplayTemplate();\n            }\n            this.updateMentionValue(e);\n            return true;\n        }\n        else {\n            if (!isNullOrUndefined(this.displayTemplate)) {\n                this.setDisplayTemplate(e);\n            }\n            else {\n                this.updateMentionValue(e);\n            }\n            return true;\n        }\n    };\n    Mention.prototype.updateMentionValue = function (e) {\n        var dataItem = this.getItemData();\n        var textSuffix;\n        var value;\n        var endPos;\n        var range;\n        var globalRange;\n        var selection = this.inputElement.ownerDocument.getSelection();\n        var startPos = this.getTriggerCharPosition();\n        textSuffix = typeof this.suffixText === 'string' ? this.suffixText : '';\n        if (this.isSelectCancel) {\n            this.isSelectCancel = false;\n            return;\n        }\n        if (dataItem.text !== null) {\n            value = this.mentionVal(dataItem.text);\n        }\n        if (!this.isContentEditable(this.inputElement)) {\n            var myField = this.inputElement;\n            var currentTriggerSnippet = this.getTextRange().substring(startPos + this.mentionChar.length, this.getTextRange().length);\n            value += textSuffix;\n            endPos = startPos + this.mentionChar.length;\n            endPos += currentTriggerSnippet.length;\n            myField.value = myField.value.substring(0, startPos) + value + myField.value.substring(endPos, myField.value.length);\n            myField.selectionStart = startPos + value.length;\n            myField.selectionEnd = startPos + value.length;\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            this.onChangeEvent(e);\n        }\n        else {\n            endPos = this.getTriggerCharPosition() + this.mentionChar.length;\n            if (this.range && (this.range.startContainer.textContent.trim() !== this.mentionChar)) {\n                endPos = this.range.endOffset;\n            }\n            globalRange = this.range;\n            range = document.createRange();\n            if (((this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) || this.getTextRange() && this.getTextRange().trim() === this.mentionChar)) {\n                range.setStart(globalRange.startContainer, startPos);\n                range.setEnd(globalRange.startContainer, endPos);\n            }\n            else {\n                if (globalRange.commonAncestorContainer.textContent.trim() !== '' && !isNullOrUndefined(globalRange.commonAncestorContainer.textContent.trim()) && this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n                    range.setStart(globalRange.startContainer, globalRange.startOffset - 1);\n                    range.setEnd(globalRange.startContainer, globalRange.endOffset - 1);\n                }\n                else {\n                    range.setStart(globalRange.startContainer, globalRange.startOffset);\n                    range.setEnd(globalRange.startContainer, globalRange.endOffset);\n                }\n            }\n            this.isTyped = false;\n            range.deleteContents();\n            var element = this.createElement('div');\n            element.innerHTML = value;\n            var frag = document.createDocumentFragment();\n            var node = void 0;\n            var lastNode = void 0;\n            // eslint-disable-next-line no-cond-assign\n            while (node = element.firstChild) {\n                lastNode = frag.appendChild(node);\n            }\n            range.insertNode(frag);\n            if (lastNode) {\n                range = range.cloneRange();\n                range.setStartAfter(lastNode);\n                range.collapse(true);\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            //New event to update the RichTextEditor value, when a mention item is selected using mouse click action.\n            if (!isNullOrUndefined(e.pointerType) && e.pointerType === 'mouse') {\n                var event_1 = new CustomEvent('content-changed', { detail: { click: true } });\n                this.inputElement.dispatchEvent(event_1);\n            }\n            ;\n            this.onChangeEvent(e);\n        }\n    };\n    Mention.prototype.mentionVal = function (value) {\n        var showChar = this.showMentionChar ? this.mentionChar : '';\n        if (!isNullOrUndefined(this.displayTemplate) && !isNullOrUndefined(this.displayTempElement)) {\n            value = this.displayTempElement.innerHTML;\n        }\n        if (this.isContentEditable(this.inputElement)) {\n            if (Browser.isAndroid) {\n                return '<span contenteditable=\"true\" class=\"e-mention-chip\">' + showChar + value + '</span>'.concat(typeof this.suffixText === 'string' ? this.suffixText : ' ');\n            }\n            else {\n                return '<span contenteditable=\"false\" class=\"e-mention-chip\">' + showChar + value + '</span>'.concat(typeof this.suffixText === 'string' ? this.suffixText : ' ');\n            }\n        }\n        else {\n            return showChar + value;\n        }\n    };\n    Mention.prototype.setDisplayTemplate = function (e) {\n        var _this = this;\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['displayTemplate']);\n            if (this.displayTempElement) {\n                detach(this.displayTempElement);\n                this.displayTempElement = null;\n            }\n        }\n        if (!this.displayTempElement) {\n            this.displayTempElement = this.createElement('div');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.displayTempElement.innerHTML = '';\n        }\n        compiledString = compile(this.displayTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var displayCompTemp = compiledString(this.itemData, this, 'displayTemplate', this.displayTemplateId, this.isStringTemplate, null, this.displayTempElement);\n        if (displayCompTemp && displayCompTemp.length > 0) {\n            append(displayCompTemp, this.displayTempElement);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.renderTemplates();\n        }\n        else {\n            this.renderTemplates(function () {\n                _this.updateMentionValue(e);\n            });\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Mention.prototype.renderTemplates = function (callBack) {\n        this.renderReactTemplates(callBack);\n    };\n    Mention.prototype.setSpinnerTemplate = function () {\n        var _this = this;\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['spinnerTemplate']);\n            if (this.spinnerTemplateElement) {\n                detach(this.spinnerTemplateElement);\n                this.spinnerTemplateElement = null;\n            }\n        }\n        if (!this.spinnerTemplateElement) {\n            this.spinnerTemplateElement = this.createElement('div');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.spinnerTemplateElement.innerHTML = '';\n        }\n        compiledString = compile(this.spinnerTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var spinnerCompTemp = compiledString(null, this, 'spinnerTemplate', this.spinnerTemplateId, this.isStringTemplate, null, this.spinnerTemplateElement);\n        if (spinnerCompTemp && spinnerCompTemp.length > 0) {\n            for (var i = 0; i < spinnerCompTemp.length; i++) {\n                this.spinnerTemplateElement.appendChild(spinnerCompTemp[i]);\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.renderTemplates();\n            this.popupObj.element.appendChild(this.spinnerTemplateElement);\n        }\n        else {\n            this.renderTemplates(function () {\n                _this.popupObj.element.appendChild(_this.spinnerTemplateElement);\n            });\n        }\n    };\n    Mention.prototype.onChangeEvent = function (eve) {\n        this.isSelected = false;\n        var items = this.detachMentionChanges(this.itemData);\n        var preItems;\n        if (typeof this.previousItemData === 'string' ||\n            typeof this.previousItemData === 'boolean' ||\n            typeof this.previousItemData === 'number') {\n            preItems = Object.defineProperties({}, {\n                value: {\n                    value: this.previousItemData,\n                    enumerable: true\n                },\n                text: {\n                    value: this.previousItemData,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            preItems = this.previousItemData;\n        }\n        var eventArgs = {\n            e: eve,\n            item: this.item,\n            itemData: items,\n            previousItem: this.previousSelectedLI,\n            previousItemData: preItems,\n            isInteracted: eve ? true : false,\n            value: this.item.innerHTML,\n            element: this.inputElement\n        };\n        this.trigger('change', eventArgs);\n    };\n    Mention.prototype.detachMentionChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    Mention.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    Mention.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    Mention.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    Mention.prototype.setHover = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    Mention.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    Mention.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    Mention.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.search = function (text, positionX, positionY) {\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n        }\n        var currentRange = this.getTextRange();\n        var lastWordRange = this.getLastLetter(currentRange);\n        if ((this.ignoreCase && (text === lastWordRange || text === lastWordRange.toLowerCase()))\n            || !this.ignoreCase && text === lastWordRange) {\n            this.resetList(this.dataSource, this.fields);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            return;\n        }\n        if (isNullOrUndefined(this.list)) {\n            this.renderList();\n            this.renderPopup();\n        }\n        else {\n            this.showPopup();\n        }\n        this.popupObj.element.style.left = formatUnit(positionX);\n        this.popupObj.element.style.top = formatUnit(positionY);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    Mention.prototype.destroy = function () {\n        this.hidePopup();\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.inputElement && !this.inputElement.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        this.previousSelectedLI = null;\n        this.item = null;\n        this.selectedLI = null;\n        this.popupObj = null;\n        _super.prototype.destroy.call(this);\n    };\n    Mention.prototype.getLocaleName = function () {\n        return 'mention';\n    };\n    Mention.prototype.getNgDirective = function () {\n        return 'EJS-MENTION';\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    Mention.prototype.getModuleName = function () {\n        return 'mention';\n    };\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('@')\n    ], Mention.prototype, \"mentionChar\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"showMentionChar\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"allowSpaces\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"suffixText\", void 0);\n    __decorate([\n        Property(25)\n    ], Mention.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property(0)\n    ], Mention.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('None')\n    ], Mention.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], Mention.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"highlight\", void 0);\n    __decorate([\n        Property()\n    ], Mention.prototype, \"locale\", void 0);\n    __decorate([\n        Property('auto')\n    ], Mention.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property('300px')\n    ], Mention.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"displayTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], Mention.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"spinnerTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Mention.prototype, \"target\", void 0);\n    __decorate([\n        Property([])\n    ], Mention.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"query\", void 0);\n    __decorate([\n        Property('Contains')\n    ], Mention.prototype, \"filterType\", void 0);\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], Mention.prototype, \"fields\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"opened\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"closed\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"destroyed\", void 0);\n    Mention = __decorate([\n        NotifyPropertyChanges\n    ], Mention);\n    return Mention;\n}(DropDownBase));\nexport { Mention };\n","import * as index from './index';\nindex.DropDownList.Inject(index.VirtualScroll);\nindex.ComboBox.Inject(index.VirtualScroll);\nindex.AutoComplete.Inject(index.VirtualScroll);\nindex.MultiSelect.Inject(index.CheckBoxSelection, index.VirtualScroll);\nindex.ListBox.Inject(index.CheckBoxSelection);\nexport * from './index';\n"],"names":["incrementalSearch","keyCode","items","selectedIndex","ignoreCase","elementId","queryStringUpdated","currentValue","isVirtual","refresh","queryString","prevString","tempQueryString","String","fromCharCode","setTimeout","index","toLowerCase","prevElementId","listItems","strLength","length","item","i","matches","innerText","substr","push","indexUpdated","i_1","textContent","classList","contains","activeClass","Search","inputVal","searchType","dataSource","fields","type","undefined","itemData","queryStr","toLocaleLowerCase","escapeCharRegExp","itemsData","state_1","filterValue","text","checkField_1","fieldValue_1","split","filter","data","Array","prototype","slice","call","forEach","value","isHeader","toString","indexOf","getAttribute","replace","RegExp","test","resetIncrementalSearchValues","highlightSearch","element","query","match","charCodeAt","ignoreRegex","replaceQuery","findTextNode","pattern","childNodes","nodeType","trim","nodeValue","innerHTML","revertHighlightSearch","content","contentElement","querySelectorAll","parent_1","parentNode","document","createTextNode","replaceChild","createFloatLabel","overAllWrapper","searchWrapper","inputElement","floatLabelType","placeholder","floatLinelement","createElement","className","FLOATLINE","floatLabelElement","FLOATTEXT","id","getUniqueID","isNullOrUndefined","attributes","aria-labelledby","encodePlaceholder","removeAttribute","appendChild","add","updateFloatLabelState","LABELBOTTOM","removeClass","addClass","LABELTOP","label","removeFloating","componentWrapper","placeholderText","placeholderElement","querySelector","floatLine","setPlaceHolder","detach","remove","floatLabelFocus","floatLabelBlur","result","spanElement","children","__assign","Object","assign","t","s","n","arguments","p","hasOwnProperty","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","__generator","body","verb","v","op","f","TypeError","_","y","ops","pop","trys","g","sent","throw","return","Symbol","iterator","VirtualScroll","parent","_this","sentinelInfo","up","check","rect","info","top","containerElementRect","entered","listItemHeight","virtualItemCount","axis","down","popupContentElement","clientHeight","bottom","removeEventListener","addEventListener","isDestroyed","on","observe","setGeneratedData","dataProcessAsync","setCurrentViewDataAsync","bindScrollEvent","off","component","scrollArgs","scrollListener","callback","getBoundingClientRect","EventHandler","popupScrollHandler","touchModule","Touch","scroll","bind","virtualScrollHandler","getModuleName","isMouseScrollAction","isPreventScrollAction","getPageQuery","virtualStartIndex","virtualEndIndex","allowFiltering","skip","qStartIndex","recentlyGeneratedData","loopIteration","endIndex","listData","virtualItemStartIndex","generatedDataObject","slicedData","generateAndExecuteQueryAsync","virtualItemEndIndex","isQueryGenerated","newQuery","removeSkipAndTakeEvents","clone","tempCustomFilter","isCustomFilter","totalData","DataManager","json","totalItemCount","typedString","resetList","queries","event","fn","currentData","isResetListCalled","isListUpdated","viewPortInfo","mode","isArray","enableSelectionOrder","startIndex","updateVirtualReOrderList","itemCount","oldUlElement","list","removeChild","getForQuery","take","appendUncheckList","reOrderList","skipvalue","totalItemsCount","alreadyAddedData","hideSelectedItem","getValue","allowCustomValue","virtualCustomData","splice","virtualCustomSelectData","concat","renderItems","updatevirtualizationList","getSkeletonCount","virtualTrackElement","getElementsByClassName","style","GetVirtualTrackHeight","skeletonCount","popupWrapper","virualElement","styles","UpdateSkeleton","liCollections","virtualContentElement","getTransformValues","groupBy","scrollStop","isScrollChanged","currentFocuedListElement","currentSelectElem","getElementByValue","addListFocus","generateQueryAndSetQueryIndexAsync","isPopupOpen","isStartIndexInitialised","queryStartIndex","queryEndIndex","vEndIndex","isOpenPopup","selectedValueInfo","Query","virtualScrollRefreshAsync","_a","isTyped","filterInput","dataCount","keyboardEvent","handleVirtualKeyboardActions","pageCount","customFilterQuery","isVirtualTrackHeight","preventSetCurrentData","sentinel","pStartIndex","previousStartIndex","getInfoFromView","direction","offset","isUpwardScrolling","isKeyBoardAction","isScrollActionTriggered","isPreventKeyAction","virtualListCount","listElement","translateY","offsetHeight","transform","currentPageNumber","virtualListInfo","isVirtualScrolling","getPageCount","popupObj","select","updateSelectionList","getItems","previousInfo","isscrollAction","infoType","offsets","previousEndIndex","vHeight","height","rowHeight","exactTopIndex","infoViewIndices","exactEndIndex","pageSizeBy4","sIndex","Math","round","floor","eIndex","ceil","idxAddedToExactTop","scrollPreStartIndex","delay","Browser","name","prevTop","debounced100","debounce","debounced50","target","scrollTop","left","scrollLeft","current","pstartIndex","scrollOffsetargs","debounceFunction","focusElement","activeElement","destroy","__extends","extendStatics","d","b","setPrototypeOf","__proto__","__","constructor","create","__decorate","decorators","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","FieldSettings","_super","Property","ChildProperty","dropDownBaseClasses","root","rtl","selected","hover","noData","fixedHead","focus","li","group","disabled","grouping","virtualList","DropDownBase","options","preventChange","isAngular","isPreventChange","isDynamicDataChange","addedNewItem","isAddNewItemTemplate","isRequesting","isVirtualizationEnabled","isCustomDataUpdated","isAllowFiltering","virtualizedItemsCount","isCheckBoxSelection","isRemoteDataUpdated","isIncrementalRequest","virtualListHeight","virtualSelectAll","incrementalQueryString","incrementalEndIndex","incrementalStartIndex","incrementalPreQueryString","isObjectCustomValue","getInitialData","preventPopupOpen","getPropObject","prop","newProp","oldProp","newProperty","oldProperty","propName","getValueByText","ignoreAccent","checkValueCase","isTextByValue","typeOfData","typeof","_i","dataSource_1","checkingAccent","checkIgnoreCase","getItemValue","checkNonIgnoreCase","itemValue","compareValue_1","dataItem","DataUtil","ignoreDiacritics","textItem","typedText","getFormattedValue","templateCompiler","baseTemplate","checkTemplate","selectAll","exception","l10nUpdate","actionFailure","ele","ulElement","noRecordsTemplate","actionFailureTemplate","template","compiledString","templateId","actionFailureTemplateId","noRecordsTemplateId","tempaltecheck","compile","templateName","noDataElement","isStringTemplate","nodeName","liElem","setAttribute","HTMLElement","Text","renderReactTemplates","l10nLocale","componentLocale","L10n","getLocaleName","locale","getConstant","l10n","checkAndResetCache","updateIncrementalInfo","updateVirtualItemIndex","updateIncrementalView","getFilteringSkeletonCount","difference","currentSkeletonCount","skeletonUpdated","abs","retainSkeleton","listContainerHeight","parseInt","actualCount","heightDimension","isSkeletonCountChange","isContainSkeleton","isContainVirtualList","totalSkeletonCount","liElement","itemTemplate","skeleton","Skeleton","shape","width","cssClass","appendTo","firstChild","insertBefore","getTextByValue","properties","parseFloat","setEnableRtl","enableRtlElements","enableRtl","initialize","bindEvent","tagName","jsonElement","ListBase","createJsonFromElement","setProperties","setListData","renderItemsBySelect","getPersistData","addOnPersist","updateDataAttribute","invalidAttr","attr","a","extend","htmlAttributes","option","getJSONfromOption","optionGroup","child","updateFields","iconCss","field","options_1","preRender","scrollTimer","isRequested","isDataFetched","itemTemplateId","displayTemplateId","spinnerTemplateId","valueTemplateId","groupTemplateId","headerTemplateId","footerTemplateId","isActive","eventArgs","cancel","trigger","showSpinner","virtualGroupDataSource","emptyDataRequest","executeQuery","getQuery","initialRemoteRender","dataSource_2","hideSpinner","executeLocal","records","updatePopupState","count","onActionComplete","groupTemplate","renderGroupTemplate","bindChildItems","catch","onActionFailure","isReOrder","dataManager","queryElements","nos","condition","operator","localDataArgs","childElementCount","updateDataList","updateRemoteData","childNode","remainingItems","sortedData","append","updateListValues","raiseDataBound","isObjectInArray","objectToFind","array","some","keys","every","findListElement","findNode","attribute","listArr","dataBoundEventArgs","spliceData","listElements","templateListItem","createListItemFromArray","listOption","createListItemFromJson","notify","module","isReact","clearTemplate","fixedHeaderElement","postRender","focusItem","selectedItem","updateVirtualizationProperties","filtering","isCheckbox","listEle","groupTemplateID","headerItems","groupcheck","groupValue","tempHeaders","isGroupChecking","createListItems","sortOrder","getSortedDataSource","groupDataSource","createList","fieldValues","showIcon","ariaAttributes","groupItemRole","setFloatingHeader","display","prepend","setFixedHeader","zIndex","isDownkey","liHeight","getComputedStyle","getValidLi","getPropertyValue","topIndex","isCount","groupListLength","loadedGroupList","updateGroupHeader","returnExactCount","updateGroupFixedHeader","position","parentElement","offsetTop","isCheckBoxUpdate","virtualUlElement","updateListElements","createVirtualContent","virtualSelectAllData","incrementalLiCollections","incrementalUlElement","incrementalListData","templateID","itemcheck","renderContentTemplate","borderWidth","defaultView","isNaN","liWidth","offsetWidth","setStyleAttribute","firstLi","textField","getDataSource","addSorting","getIndexByValue","getIndexByValueFilter","selectData","dispatchEvent","evt","createEvent","initEvent","setFields","updateSelectElementData","isFiltering","updateSelection","renderList","render","updateDataSource","props","oldProps","setUpdateInitial","updateData","j","onPropertyChanged","setZIndex","isEmptyData","attrs","tabindex","rippleModel","duration","selector","rippleFun","rippleEffect","wrapperElement","removeScrollEvent","addItem","itemIndex","newList","itemsCount","isListboxEmpty","selectedItemValue","itemText","itemCheck","addItemTemplate","updateActionCompleteData","updateAddItemList","listGroupItem","tempLi","validationAttribute","hidden","getDataByValue","_b","_c","Complex","Event","NotifyPropertyChanges","Component","dropDownListClasses","disable","base","input","inputFocus","icon","iconAnimation","device","backIcon","filterBarClearIcon","filterParent","mobileFilter","footer","header","clearIcon","clearIconHide","popupFullScreen","disableIcon","hiddenElement","inputObject","container","buttons","DropDownList","isListSearched","isTouched","IsScrollerAtEnd","scrollHeight","valueTempElement","opacity","initializeData","activeIndex","isDocumentClick","isInteracted","isFilterFocus","beforePopupOpen","initial","isNotSearchList","isSelected","preventFocus","preventAutoFill","isValidKey","isEscapeKey","isPreventBlur","isTabKey","actionCompleteData","isUpdated","actionData","prevSelectPoints","isSelectCustom","isDropDownClick","preventAltUp","isSecondClick","previousValue","keyConfigure","tab","enter","escape","end","home","pageUp","pageDown","open","close","hide","space","requiredModules","modules","enableVirtualization","args","member","unWireListEvents","wireListEvents","floatLabelChange","floatElement","inputWrapper","resetHandler","preventDefault","clearAll","resetFocusElement","removeHover","removeSelection","removeFocus","previousItemData","resetSelection","getItemData","allowObjectBinding","allowCustom","onChangeEvent","updateInitialData","cloneNode","selectedLI","setSelection","updateIconState","cloneElements","setHTMLAttributes","htmlAttr","updatedClassValue","enabled","setEnable","readonly","defaultAttr","validateAttr","Input","setPlaceholder","dataBind","getAriaAttributes","aria-disabled","role","aria-expanded","aria-live","setEnabled","targetElement","tabIndex","hidePopup","preventTabIndex","getNgDirective","getElementByText","listItems_1","liItem","initValue","updateValues","setHiddenValue","setValue","showClearButton","onBlurHandler","relatedTarget","currentTarget","isFilterLayout","focusOutAction","focusOut","onFocusOut","clearButton","onFocus","resetValueHandler","formElement","closest","val","wireEvent","dropDownClick","focusIn","onSearch","window","windowResize","bindCommonEvent","isDevice","keyboardModule","KeyboardEvents","keyAction","mobileKeyActionHandler","keyConfigs","eventName","keyActionHandler","bindClearEvent","refreshPosition","unBindCommonEvent","onMouseClick","onMouseOver","onMouseLeave","charCode","searchKeyEvent","onServerIncrementalSearch","isValidLI","history","back","closePopup","currentLi","setHover","hoveredItem","hasAttribute","updateIncrementalItemIndex","updatingincrementalindex","setScrollPosition","selectedLiOffsetTop","spinnerElement","filterInputObj","createSpinner","preventAction","action","preventHomeEnd","isNavigation","isEditTextBox","isTabAction","updateUpDownAction","pageUpSelection","pageDownSelection","updateHomeEndAction","showPopup","focusDropDown","selectCurrentItem","selectCurrentValueOnTab","isVirtualKeyAction","value_1","filterIndex","focusEle","isSelectFocusItem","virtualIndex","nextItem","value_2","selectedData","value_3","value_4","aria-activedescendant","findLi","steps","previousItem","PageUpDownSelection","unWireEvent","checkSelector","onDocumentClick","isIE","activeStateChange","which","button","proxy_1","updateSelectedItem","preventSelect","isSelection","selectEventCallback","setSelectOptions","detachChanges","checkFieldValue","focusedItem","activeItem","valueTemplate","setValueTemplate","previousSibling","clearElement","removeProperty","getItem","where","Predicate","previousSelectedLI","aria-describedby","dropdownCompiler","dropdownTemplate","valuecheck","valueCompTemp","selectedItems","dataValue","dataText","isUndefined","eve","isCustomValue","datas","foundIndex","findIndex","detachChangeEvent","defineProperties","enumerable","preItems","selectedElement","onFilterUp","ctrlKey","firstItem","searchLists","onFilterDown","getSelectionPoints","removeFillSelection","selection","setSelectionRange","filterQuery","filterType","dataType","queryElements_4","takeValue","getTakeValue","alreadySkipAdded","queryTakeValue","querySkipValue","queryElements_1","queryElements_2","queryElements_3","requiresCount","start","selectionStart","selectionEnd","visibility","eventArgs_1","preventDefaultAction","filteringAction","baseEventArgs","isNoData","focusIndexItem","setSearchBox","popupElement","createInput","filterBarPlaceholder","autocomplete","autocapitalize","spellcheck","clearIconElement","clearText","searchKeyModule","onInput","pasteHandler","renderPopup","outerHeight","updateActionCompleteDataValues","tempItemCount","aria-hidden","aria-label","value_5","checkVal","x","setInputValue","isValueInList","addNewItem","valueToFind","fieldValue","checkField","newElement","value_6","actionCompleteDataUpdate","findEle","highlightedItem","refreshPopup","popupEle","searchBox","formatUnit","popupHeight","headerTemplate","setHeaderTemplate","footerTemplate","setFooterTemplate","listitems","searchBoxHeight","maxHeight","offsetValue","getOffsetValue","isEmptyList","textIndent","paddingLeft","borderLeftWidth","createPopup","getFocusElement","checkCollision","popupWidth","outerWidth","collision","X","Y","setSearchBoxPosition","backIconElement","clickOnBackIcon","scrollParentElements_1","getScrollableParent","scrollHandler","selectedElementID","enable","scrollBottom","aria-owns","aria-controls","inputParent","animModel","popup","animation","destroyPopup","show","Animation","isCollide","marginTop","resolveCollision","popupStyles","borderTop","borderTopWidth","borderBottom","borderBottomWidth","setPopupPosition","Popup","setWidth","targetType","relateTo","offsetY","offsetX","actionList","targetExitViewport","isElementInViewport","elementRect","innerHeight","right","innerWidth","border","popupOffset","lastItem","listHeight","paddingBottom","isInitial","isInitialSelection","lastElementValue","currentOffset","nextBottom","nextOffset","isScrollerCHanged","paddingTop","boxRange","currentElementValue","liCount","firstElementValue","isPageUpKeyAction","scrollTo","isPopupButton","setEleWidth","isFilterValue","scrollableParentElements_1","fixedHeader","dataSourceCount","preselectedIndex","updatedCssClassValues","class","setReadOnly","calculateWidth","getListHeight","selectElement","onselect","stopImmediatePropagation","onchange","renderComplete","listParent","listParentHeight","footercheck","footerCompTemp","headercheck","headerCompTemp","contentEle","setOldText","setOldValue","checkData","isChangeValue","isChangeText","checkCustomValue","updateInputFields","this_1","setReadonly","setCssClass","checkValidLi","setSelectionData","listLength_1","listLength_2","value_7","addFloating","setClearButton","ddlProps","newClass","oldClass","invokeRenderPopup","isOpen","proxy_2","onpopstate","pushState","renderHightSearch","isSelectVal","isFocused","blur","attrArray","clear","DROPDOWNICON","SHOW_CHIP","SHOW_CLEAR","CHIP_INPUT","INPUTFOCUS","HIDEICON","CHECK","NODATA","Fields","TreeSettings","DropDownTree","filterTimer","isFilteredData","isFilterRestore","filterDelayTime","isClicked","isCheckAllCalled","isFromFilterChange","keyEntity","isFirstRender","isInitialized","currentText","oldValue","removeValue","selectedText","treeItems","isNodeSelected","isDynamicChange","clearIconWidth","customTemplateId","altUp","altDown","shiftTab","moveDown","moveLeft","moveRight","moveUp","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","ctrlA","isTree","popupDiv","inputEle","isNOU","inputObj","showDropDownIcon","getDirective","createHiddenElement","createClearIcon","setElementWidth","setAttributes","tree","destroyPopupOnHide","wireTreeEvents","renderTree","isRemoteData","allowMultiSelection","showCheckBox","createChip","wrapText","overFlowWrapper","OVERFLOW_VIEW","setTreeValue","setTreeText","updateHiddenValue","setSelectedValue","updateView","wireEvents","firstUl","treeObj","hasTemplate","customTemplate","hideCheckAll","flag","checkAllEle","renderFilter","filterContainer","filterObj","TextBox","filterChangeHandler","clearTimeout","filterHandler","isChildObject","expandedNodes","treeData","getTreeData","filterFields","cloneFields","treeDataType","selfReferencefilter","remoteDataFilter","getTreeFields","nestedFilter","portals","filteredFields","map","remoteChildFilter","filteredChild","node","isChild","isChildFiltering","isMatchedNode","matchedChildren","filteredItems","matchedDataSource","nestedChildFilter","matchedData","parentId","parentValue","checkValue","tempChild","mouseIn","overAllClear","treeAction","wireCheckAllWrapperEvents","checkAllParent","checkAllAction","unWireEvents","isClearButtonClick","showOverAllClear","isValue","chipWrapper","changeOnBlur","triggerChangeEvent","updateOverFlowView","ensurePlaceHolder","ddtCompareValues","isChipDelete","newValue","observedArgs","isValueChange","keyEventArgs","showSelectAll","clickHandler","focusedElement","resetValue","overAllContainer","temp","tempData","tempIndex","wrapperleng","remaining","downIconWidth","overflowCountTemplate","totalCountTemplate","remainContent","totalContent","remainElement","remainSize","delimiterChar","getOverflowVal","enableHtmlSanitizer","SanitizeHtmlHelper","sanitize","textArr","join","chips","lastChild","updateRemainTemplate","updateDelimMode","getSelectedData","treeSettings","loadOnDemand","multiple","chipCollection","getValidMode","checkWrapper","createSelectAllWrapper","selectAllSpan","touchClass","checkBoxElement","createCheckBox","setLocale","firstElementChild","lastElementChild","checkElement","changeState","wrapper","state","ariaState","frameSpan","isReverseUpdate","uncheckAll","checkAll","setMultiSelect","unSelect","selectAllText","unSelectAllText","setValidValue","valArr","selectedNodes","updateMode","checkedNodes","updateSelectedValues","autoCheck","givenText","getNestedItems","newData","objlen","dataId","getChildType","childData","mapper","TreeView","nodeSelected","onNodeSelected","nodeChecked","onNodeChecked","nodeChecking","beforeCheck","nodeExpanded","onNodeExpanded","nodeClicked","onNodeClicked","dataBound","OnDataBound","expandOn","nodeSelecting","onBeforeSelect","nodeTemplate","isCancelled","POPUP_CLASS","includes","reactCallBack","updatePopupHeight","oldFocussedNode","checkSelectAll","wrap","getHeight","inputWidth","ddElement","documentElement","isFilter","isFooter","isScroller","getTreeDataType","expandAll","restoreFilterSelection","elements","setEnableRTL","cloneChildField","hasChildren","expanded","imageUrl","selectable","tableName","tooltip","parentID","getTreeChildren","isChecked","childFields","getActualProperties","ds","len","updateTemplate","getEventArgs","nodeData","getNode","removeSelectedData","nodes","updateClearButton","nextSibling","chipClose","updateDropDownIconState","spinIcon","appendSpan","isValid","ensureClearIconPosition","setMultiSelectValue","newValues","selectedValues","ddtValue","checkSelection","getNodeData","getChildNodeData","obj","newChildItems","getChildMapperFields","childNodeData","muteOnChange","textValue","hiddenInputValue","setChipValues","setTagValues","chip","data-value","chipContent","CHIP_CLOSE","removeChip","tempArr","templateComplier","setSelectAllWrapper","updateOverflowWrapper","clearCheckAll","selectAllItems","arr","updateTreeSettings","updateValue","updateCheckBoxState","checkBox","noRecord","templatestring","updateRecordTemplate","updateMultiSelection","updateOption","updateAllowFiltering","destroyFilter","updateFilterPlaceHolder","updateText","updateModelMode","overFlow","ensureVisible","getData","ComboBox","preventBlur","targetFocus","inputValue","customValue","valueMuteChange","doesItemExist","currentValue_1","aria-autocomplete","aria-readonly","setHoverList","inlineSearch","autofill","setAutoFill","isHover","currentFillValue","isAndroidAutoFill","setAutoFillSelection","isAndroid","currentPoints","prevEnd","curEnd","prevStart","curStart","property","isKeyNavigate","previousValue_1","updateCustomValueCallback","emptyObject","changeData","comboProps","isEscape","searchItem","AutoComplete","_this_1","isFiltered","searchList","mapping","suggestionCount","filterAction","isNoDataElement","minLength","postBackAction","fieldsSettings","itemCreated","highlight","itemCreated_1","showPopupButton","checkFields_1_1","_this_2","atcProps","isHighlight","FOCUS","HIDE_LIST","CHIP","MultiSelect","previousFilterText","selectAllEventData","selectAllEventEle","resetMainList","resetFilteredData","scrollFocusStatus","keyDownStatus","enableRTL","enableGroupCheckBox","prevOnChange","isProtectedOnChange","closePopupOnSelect","updateHTMLAttribute","refreshPlaceHolder","containerAttr","updateReadonly","updateCssClass","updateOldPropCssClass","onPopupShown","focusAtFirstListItem","updateListItems","mainList","updateAriaActiveDescendant","isFirstClick","loadTemplate","mainListItems","findGroupStart","deselectHeader","refreshListItems","valueEle","focusAtLastListItem","updateListARIA","disableStatus","ensureAriaDisabled","status","removelastSelection","chipCollectionWrapper","removeSelectedChip","tempValues","removeChipSelection","updateDelimeter","makeTextBoxEmpty","refreshSelection","checkPlaceholderSize","targetInputElement","predicate","or","and","adaptor","JsonAdaptor","proxy","presentItemValue","addNonPresentItems","updateActionList","isCustomRendered","checkForCustomValue","mainData","mainListCollection","remoteCustomValue","tempQuery","unwireListEvents","setInitialValue","selectAllAction","setDynValue","initialTextUpdate","initialValueUpdate","initialUpdate","updateValueState","previousElementSibling","nextElementSibling","hideGroupItem","checkMaxSelection","element1","temp1","groupItemLength","listItem","searchCount","searchActiveCount","maximumSelectionLength","openClick","openOnClick","keyUp","isWordCharacter","expandTextbox","search","remoteFilterAction","dataUpdater","virtualFilterQuery","isSkip","backCommand","dataChecks","customData","dataItem_1","random","emptyObject_1","JSON","parse","stringify","isRemoteSelection","wrapperClick","isDocClickFromCheck","addTagOnBlur","listLiElement","updateListSelection","updateDelimView","focused","removeChipFocus","refreshInputHight","createSpanElement","elementWidth","clientWidth","paddingRight","dropIcon","marginRight","setPlaceholderSize","validateValues","sort","newVal","oldVal","initStatus","updateTempValue","collection","focusInHandler","showDelimWrapper","viewWrapper","delimiterWrapper","hideDelimWrapper","size","mobFilter","calcPopupWidth","checkTextLength","popupKeyActions","updateAriaAttribute","homeNavigation","isHome","scrollEle","arrowDown","arrowUp","onKeyDown","altKey","selectByKey","spaceKeySelection","escapeAction","keyNavigation","checkBackCommand","moveByList","focuseElem","focusFirstListItem","selectAllParent","li_1","moveBy","selectListByKey","hideOverAllClear","limit","selectAllItem","selectAllCheckBox","selectedElem","addChipSelection","currentChip","moveByTop","filterInputClassName","updateCheck","isVirtualElement","elementIndex","chipClick","elem","onChipRemove","customVal","setFloatLabelType","removeAllItems","isClearAll","mainElement","indexOfObjectInArray","removeVal","invokeCheckboxSelection","updateMainList","updateChipStatus","isSelectAll","targetEle","element_1","val_1","removeIndex","hideElement","currentValue_2","targetEle_1","isSelectAllTarget","clearAllCallback","element2","addValue","updateWrapperText","textValues","addListSelection","addChip","dispatchSelect","isNotTrigger","val_2","isServerRendered","updateListSelectEventCallback","getChip","closeElements","onMobileChipInteraction","chipElem","multiCompiler","multiselectTemplate","encodeHtmlEntities","title","setClass","classes","mouseOut","fieldProperty","listCurrentOptions","checkboxFilter","overAllHeight","selectAllHeight","unwireScrollEvents","checkboxFilterInput","wireScrollEvents","onListMouseDown","textVal","delim","valueLength","hiddenElementContent","valueItem","listValue","isChipRemove","addValidInputClass","removeListSelection","isCustomData","indexItem","noDataEle","isDynamicGroupItemUpdate","isReactTemplateUpdate","isAngularTemplateUpdate","temp_1","data_1","selectItems","mainlist","addListHover","delimChar","visibleListElements","groupValues","findGroupAttrtibutes","updateCheckBox","checked","unChecked","groupHeader","filterClear","CLOSEICON_CLASS","wrapperType","wrapperData","raminElement","remainCompildTemp","checkClearIconWidth","totalWidth","updateRemainWidth","updateRemainingText","remainTemp","totalTemp","newTemp","selectionLimit","textboxValueUpdate","beforeSelectArgs","preventSelectEvent","index_2","count_1","updatedataValueItems","updateHiddenElement","hiddenValue","wrapperText","isRemoveAll","onLoadSelect","updateVal","dropDownIcon","reInitializePoup","msProps","checkvalue","mainLiLength","liLength","SEARCHBOX_WRAPPER","DELIMITER_VIEW","checkInitialValue","isData","optionsElement","valueCol","textCol","optionsLen","opt","listItems_2","checkAutoFocus","CheckBoxSelection","activeLi","activeEle","listSelection","setSelectAll","setDeviceSearchBox","getFocus","setReorder","getActiveList","checboxCreate","setPopupFullScreen","checkboxEle","checkboxWrapper","validateCheckNode","checkWrap","isCheck","isPrevent","boundPreventListSelection","preventListSelection","stopPropagation","activeLiCount","remLi","ulEle_1","SelectionSettings","ToolbarSettings","ListBox","isDataSourceUpdate","ListBox_1","originalElement","clonedElement","inputString","initLoad","isCustomFiltering","initialSelectedOptions","inputFormName","initWrapper","hiddenSelect","groupHdrs","aria-multiselectable","selectionSettings","updateSelectionSettings","showCheckbox","l10nSelect","checkBoxSelectionModule","initDraggable","allowDragAndDrop","Sortable","scope","itemClass","dragStart","triggerDragStart","drag","triggerDrag","beforeDrop","beforeDragEnd","drop","dragEnd","placeHolder","helper","sender","refEle","getZindexPartial","jsonData","initToolbar","pos","toolbarSettings","prevScope","toolElem","createButtons","updateToolBarState","tBListBox","getComponent","getElementById","btn","moveTo","moveFrom","moveAllTo","moveAllFrom","Button","required","setHeight","spinner","refreshClearIcon","KeyUp","listBoxClasses","searchEle","filterElem","txtLength","noRecElem","filterWireEvents","inputSearch","isRendered","initToolbarAndStyles","setCheckboxPosition","setFiltering","badge","getDragArgs","dragSelected","isIos","overflow","dragEventArgs","allowDragAll","scrollParent","boundRect","stopTimer","clientY","timer","setInterval","setScrollDown","scrollElem","scrollPixel","isScrollDown","clearInterval","dragValue","droppedElement","getDataByValues","customDraggedItem","liColl","droppedData","selectedOptions","dropValue","listObj","getArgs","sourceArgs","previousData","destArgs","dragArgs","source","previousIndex","currentIndex","sourceArgs1","destination","targetListObj","ul_1","toSortIdx_1","toIdx_1","getCurIdx","rIdx","jsonIdx","sIdx","idx","jsonIdx_1","sIdx_1","fLiColl_1","currIdx_1","ul_2","fListData_1","fSortData_1","srcIdx","jsonSrcIdx","sortIdx","destIdx","liCollElem_1","removeSelected","sourceElem","sortable","placeHolderElement","dragArgs1","liCollElem","destElem","elems","triggerBeforeItemRender","curData","enableItems","getSelectedItems","updateSelectedOptions","selElems","triggerChange","addItems","removeItems","removeItem","dupData","itemIdx","removeIdxes","removeLiIdxes","k","updateLiCollection","getElemByValue","moveUpDown","moveTop","moveBottom","targetId","tlistbox","getScopedListBox","moveData","moveAllData","getDataList","getSortedList","sortData","liEle","getElementsByTagName","dataValue1","this_2","dataValue2","ulList","mainCount","ulEleCount","listindex","valueindex","form","keyDownHandler","focusOutHandler","wireToolbarEvent","formResetHandler","getToolElem","toolbarClickHandler","unwireEvents","clearFilterIconElem","selectHandler","liItems","autocorrect","isKey","currSelIdx","isSelect","selectedLi","metaKey","shiftKey","min","prevSelIdx","max","liDataValue_1","values","value1","selectedLis","getDataByElements","getDataByElems","toolbarAction","moveItemTo","moveItemFrom","moveAllItemTo","moveAllItemFrom","isUp","isTop","isBottom","tempItems","reverse","jsonToIdx","fListBox","tListBox","dataIdx","tListData","tSortData","fliCollections","dataLiIdx","tliCollections","isRefresh","rLiCollection_1","n1","n2","toColl","tJsonData","selectNextList","inst","liIdx","childCnt","validIdx","getValidIndex","Number","fromIdx","toIdx","cbox","getGrabbedItems","grabbItems","isDragEnd","code","upDownKeyHandler","ul","fliIdx","fli","cli","selectedidx","sidx","eidx","eventArgsData_1","cul","updateSelectTag","clearSelection","dvalue_1","isText","canFocus","liselect","getSelectTag","checkDisabledState","listObj_1","wrap_1","listWrap","checkboxPosition","liCollLen","l10nShow","l10nSel","Mention","suffixText","allowSpaces","mentionChar","showMentionChar","initRemoteRender","isListResetted","isCollided","lineBreak","isRTE","keyEventName","isSelector","checkAndUpdateInternalComponent","isContentEditable","elementValue","onKeyUp","hideWaitingSpinner","spinnerTemplate","spinnerTemplateElement","isVue","showWaitingSpinner","setSpinnerTemplate","isKeyAction","isUpDownKey","rangetextContent","isRteImage","range","getCurrentRange","startContainer","currentRange","getTextRange","lastWordRange","getLastLetter","lastTwoLetters","Regex","charRegex","isMatchedText","charAt","substring","lastIndexOf","didPopupOpenByTypingInitialChar","isMatched","ownerDocument","getSelection","getRangeAt","setDataIndex","workingNodeContent","selectStartOffset","startOffset","startPos","words","popupEle_1","coordinates_1","initializePopup","popupLeft_1","popupHeight_1","getTriggerCharPosition","getCoordinates","cssText","coordinates","mostRecentTriggerCharPos","actionOnScroll","div","span","globalRange","computed","selectedNodePosition","createRange","setStart","setEnd","endOffset","collapse","getClientRects","rectTop","rectLeft","iframes","iframe","contentDocument","iframeRect","doc","windowLeft","pageXOffset","clientLeft","windowTop","pageYOffset","clientTop","Node","TEXT_NODE","span_1","textNodeWidth","fontSize","offsetLeft","isSelectCancel","selectLi","displayTemplate","updateMentionValue","setDisplayTemplate","textSuffix","endPos","mentionVal","commonAncestorContainer","deleteContents","frag","createDocumentFragment","lastNode","insertNode","cloneRange","setStartAfter","removeAllRanges","addRange","pointerType","event_1","CustomEvent","detail","click","myField","currentTriggerSnippet","showChar","displayTempElement","displayCompTemp","renderTemplates","callBack","spinnerCompTemp","detachMentionChanges","positionX","positionY","index.DropDownList","Inject","index.VirtualScroll","index.ComboBox","index.AutoComplete","index.MultiSelect","index.CheckBoxSelection","index.ListBox"],"mappings":"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"}